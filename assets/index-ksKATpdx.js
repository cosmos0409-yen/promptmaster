(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Nd={exports:{}},Tl={};var P_;function Ub(){if(P_)return Tl;P_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Tl.Fragment=t,Tl.jsx=i,Tl.jsxs=i,Tl}var z_;function Lb(){return z_||(z_=1,Nd.exports=Ub()),Nd.exports}var x=Lb(),Dd={exports:{}},St={};var j_;function Pb(){if(j_)return St;j_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(D){return D===null||typeof D!="object"?null:(D=M&&D[M]||D["@@iterator"],typeof D=="function"?D:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,W={};function ut(D,Y,it){this.props=D,this.context=Y,this.refs=W,this.updater=it||J}ut.prototype.isReactComponent={},ut.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},ut.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Et(){}Et.prototype=ut.prototype;function pt(D,Y,it){this.props=D,this.context=Y,this.refs=W,this.updater=it||J}var vt=pt.prototype=new Et;vt.constructor=pt,tt(vt,ut.prototype),vt.isPureReactComponent=!0;var Xt=Array.isArray;function Nt(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(D,Y,it){var st=it.ref;return{$$typeof:s,type:D,key:Y,ref:st!==void 0?st:null,props:it}}function V(D,Y){return C(D.type,Y,D.props)}function N(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function U(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(it){return Y[it]})}var w=/\/+/g;function re(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):Y.toString(36)}function me(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Nt,Nt):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function H(D,Y,it,st,yt){var bt=typeof D;(bt==="undefined"||bt==="boolean")&&(D=null);var Dt=!1;if(D===null)Dt=!0;else switch(bt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(D.$$typeof){case s:case t:Dt=!0;break;case b:return Dt=D._init,H(Dt(D._payload),Y,it,st,yt)}}if(Dt)return yt=yt(D),Dt=st===""?"."+re(D,0):st,Xt(yt)?(it="",Dt!=null&&(it=Dt.replace(w,"$&/")+"/"),H(yt,Y,it,"",function(si){return si})):yt!=null&&(N(yt)&&(yt=V(yt,it+(yt.key==null||D&&D.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Dt)),Y.push(yt)),1;Dt=0;var pe=st===""?".":st+":";if(Xt(D))for(var ie=0;ie<D.length;ie++)st=D[ie],bt=pe+re(st,ie),Dt+=H(st,Y,it,bt,yt);else if(ie=F(D),typeof ie=="function")for(D=ie.call(D),ie=0;!(st=D.next()).done;)st=st.value,bt=pe+re(st,ie++),Dt+=H(st,Y,it,bt,yt);else if(bt==="object"){if(typeof D.then=="function")return H(me(D),Y,it,st,yt);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function nt(D,Y,it){if(D==null)return D;var st=[],yt=0;return H(D,st,"","",function(bt){return Y.call(it,bt,yt++)}),st}function ft(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(it){(D._status===0||D._status===-1)&&(D._status=1,D._result=it)},function(it){(D._status===0||D._status===-1)&&(D._status=2,D._result=it)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var Vt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Gt={map:nt,forEach:function(D,Y,it){nt(D,function(){Y.apply(this,arguments)},it)},count:function(D){var Y=0;return nt(D,function(){Y++}),Y},toArray:function(D){return nt(D,function(Y){return Y})||[]},only:function(D){if(!N(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return St.Activity=A,St.Children=Gt,St.Component=ut,St.Fragment=i,St.Profiler=l,St.PureComponent=pt,St.StrictMode=a,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,St.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(D,Y,it){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var st=tt({},D.props),yt=D.key;if(Y!=null)for(bt in Y.key!==void 0&&(yt=""+Y.key),Y)!S.call(Y,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Y.ref===void 0||(st[bt]=Y[bt]);var bt=arguments.length-2;if(bt===1)st.children=it;else if(1<bt){for(var Dt=Array(bt),pe=0;pe<bt;pe++)Dt[pe]=arguments[pe+2];st.children=Dt}return C(D.type,yt,st)},St.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},St.createElement=function(D,Y,it){var st,yt={},bt=null;if(Y!=null)for(st in Y.key!==void 0&&(bt=""+Y.key),Y)S.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=Y[st]);var Dt=arguments.length-2;if(Dt===1)yt.children=it;else if(1<Dt){for(var pe=Array(Dt),ie=0;ie<Dt;ie++)pe[ie]=arguments[ie+2];yt.children=pe}if(D&&D.defaultProps)for(st in Dt=D.defaultProps,Dt)yt[st]===void 0&&(yt[st]=Dt[st]);return C(D,bt,yt)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:g,render:D}},St.isValidElement=N,St.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:ft}},St.memo=function(D,Y){return{$$typeof:y,type:D,compare:Y===void 0?null:Y}},St.startTransition=function(D){var Y=I.T,it={};I.T=it;try{var st=D(),yt=I.S;yt!==null&&yt(it,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Nt,Vt)}catch(bt){Vt(bt)}finally{Y!==null&&it.types!==null&&(Y.types=it.types),I.T=Y}},St.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},St.use=function(D){return I.H.use(D)},St.useActionState=function(D,Y,it){return I.H.useActionState(D,Y,it)},St.useCallback=function(D,Y){return I.H.useCallback(D,Y)},St.useContext=function(D){return I.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,Y){return I.H.useDeferredValue(D,Y)},St.useEffect=function(D,Y){return I.H.useEffect(D,Y)},St.useEffectEvent=function(D){return I.H.useEffectEvent(D)},St.useId=function(){return I.H.useId()},St.useImperativeHandle=function(D,Y,it){return I.H.useImperativeHandle(D,Y,it)},St.useInsertionEffect=function(D,Y){return I.H.useInsertionEffect(D,Y)},St.useLayoutEffect=function(D,Y){return I.H.useLayoutEffect(D,Y)},St.useMemo=function(D,Y){return I.H.useMemo(D,Y)},St.useOptimistic=function(D,Y){return I.H.useOptimistic(D,Y)},St.useReducer=function(D,Y,it){return I.H.useReducer(D,Y,it)},St.useRef=function(D){return I.H.useRef(D)},St.useState=function(D){return I.H.useState(D)},St.useSyncExternalStore=function(D,Y,it){return I.H.useSyncExternalStore(D,Y,it)},St.useTransition=function(){return I.H.useTransition()},St.version="19.2.3",St}var B_;function Am(){return B_||(B_=1,Dd.exports=Pb()),Dd.exports}var It=Am(),Od={exports:{}},El={},Md={exports:{}},Vd={};var q_;function zb(){return q_||(q_=1,(function(s){function t(H,nt){var ft=H.length;H.push(nt);t:for(;0<ft;){var Vt=ft-1>>>1,Gt=H[Vt];if(0<l(Gt,nt))H[Vt]=nt,H[ft]=Gt,ft=Vt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var nt=H[0],ft=H.pop();if(ft!==nt){H[0]=ft;t:for(var Vt=0,Gt=H.length,D=Gt>>>1;Vt<D;){var Y=2*(Vt+1)-1,it=H[Y],st=Y+1,yt=H[st];if(0>l(it,ft))st<Gt&&0>l(yt,it)?(H[Vt]=yt,H[st]=ft,Vt=st):(H[Vt]=it,H[Y]=ft,Vt=Y);else if(st<Gt&&0>l(yt,ft))H[Vt]=yt,H[st]=ft,Vt=st;else break t}}return nt}function l(H,nt){var ft=H.sortIndex-nt.sortIndex;return ft!==0?ft:H.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],b=1,A=null,M=3,F=!1,J=!1,tt=!1,W=!1,ut=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function vt(H){for(var nt=i(y);nt!==null;){if(nt.callback===null)a(y);else if(nt.startTime<=H)a(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function Xt(H){if(tt=!1,vt(H),!J)if(i(_)!==null)J=!0,Nt||(Nt=!0,U());else{var nt=i(y);nt!==null&&me(Xt,nt.startTime-H)}}var Nt=!1,I=-1,S=5,C=-1;function V(){return W?!0:!(s.unstable_now()-C<S)}function N(){if(W=!1,Nt){var H=s.unstable_now();C=H;var nt=!0;try{t:{J=!1,tt&&(tt=!1,Et(I),I=-1),F=!0;var ft=M;try{e:{for(vt(H),A=i(_);A!==null&&!(A.expirationTime>H&&V());){var Vt=A.callback;if(typeof Vt=="function"){A.callback=null,M=A.priorityLevel;var Gt=Vt(A.expirationTime<=H);if(H=s.unstable_now(),typeof Gt=="function"){A.callback=Gt,vt(H),nt=!0;break e}A===i(_)&&a(_),vt(H)}else a(_);A=i(_)}if(A!==null)nt=!0;else{var D=i(y);D!==null&&me(Xt,D.startTime-H),nt=!1}}break t}finally{A=null,M=ft,F=!1}nt=void 0}}finally{nt?U():Nt=!1}}}var U;if(typeof pt=="function")U=function(){pt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,re=w.port2;w.port1.onmessage=N,U=function(){re.postMessage(null)}}else U=function(){ut(N,0)};function me(H,nt){I=ut(function(){H(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var nt=3;break;default:nt=M}var ft=M;M=nt;try{return H()}finally{M=ft}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ft=M;M=H;try{return nt()}finally{M=ft}},s.unstable_scheduleCallback=function(H,nt,ft){var Vt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Vt+ft:Vt):ft=Vt,H){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ft+Gt,H={id:b++,callback:nt,priorityLevel:H,startTime:ft,expirationTime:Gt,sortIndex:-1},ft>Vt?(H.sortIndex=ft,t(y,H),i(_)===null&&H===i(y)&&(tt?(Et(I),I=-1):tt=!0,me(Xt,ft-Vt))):(H.sortIndex=Gt,t(_,H),J||F||(J=!0,Nt||(Nt=!0,U()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var nt=M;return function(){var ft=M;M=nt;try{return H.apply(this,arguments)}finally{M=ft}}}})(Vd)),Vd}var H_;function jb(){return H_||(H_=1,Md.exports=zb()),Md.exports}var kd={exports:{}},en={};var G_;function Bb(){if(G_)return en;G_=1;var s=Am();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,b)},en.flushSync=function(_){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=b,a.d.f()}},en.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},en.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},en.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):b==="script"&&a.d.X(_,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},en.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin);a.d.L(_,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},en.requestFormReset=function(_){a.d.r(_)},en.unstable_batchedUpdates=function(_,y){return _(y)},en.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.3",en}var F_;function qb(){if(F_)return kd.exports;F_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kd.exports=Bb(),kd.exports}var Q_;function Hb(){if(Q_)return El;Q_=1;var s=jb(),t=Am(),i=qb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===r){p=!0,r=h,o=f;break}if(T===o){p=!0,o=h,r=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===r){p=!0,r=f,o=h;break}if(T===o){p=!0,o=f,r=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),Xt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case ut:return"Profiler";case W:return"StrictMode";case Xt:return"Suspense";case Nt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case pt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case vt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}var me=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Vt=[],Gt=-1;function D(e){return{current:e}}function Y(e){0>Gt||(e.current=Vt[Gt],Vt[Gt]=null,Gt--)}function it(e,n){Gt++,Vt[Gt]=e.current,e.current=n}var st=D(null),yt=D(null),bt=D(null),Dt=D(null);function pe(e,n){switch(it(bt,n),it(yt,e),it(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?o_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=o_(n),e=l_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),it(st,e)}function ie(){Y(st),Y(yt),Y(bt)}function si(e){e.memoizedState!==null&&it(Dt,e);var n=st.current,r=l_(n,e.type);n!==r&&(it(yt,e),it(st,r))}function ds(e){yt.current===e&&(Y(st),Y(yt)),Dt.current===e&&(Y(Dt),gl._currentValue=ft)}var Ui,ms;function In(e){if(Ui===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ui=n&&n[1]||"",ms=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ui+e+ms}var dr=!1;function Li(e,n){if(!e||dr)return"";dr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var j=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){j=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){j=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var R=p.split(`
`),z=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{dr=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?In(r):""}function mr(e,n){switch(e.tag){case 26:case 27:case 5:return In(e.type);case 16:return In("Lazy");case 13:return e.child!==n&&n!==null?In("Suspense Fallback"):In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return Li(e.type,!1);case 11:return Li(e.type.render,!1);case 1:return Li(e.type,!0);case 31:return In("Activity");default:return""}}function pr(e){try{var n="",r=null;do n+=mr(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,ve=s.unstable_scheduleCallback,ri=s.unstable_cancelCallback,To=s.unstable_shouldYield,Q=s.unstable_requestPaint,at=s.unstable_now,ht=s.unstable_getCurrentPriorityLevel,ce=s.unstable_ImmediatePriority,tn=s.unstable_UserBlockingPriority,Te=s.unstable_NormalPriority,ps=s.unstable_LowPriority,gs=s.unstable_IdlePriority,gr=s.log,iu=s.unstable_setDisableYieldValue,Gn=null,Ge=null;function xn(e){if(typeof gr=="function"&&iu(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Gn,e)}catch{}}var Ee=Math.clz32?Math.clz32:ru,su=Math.log,ra=Math.LN2;function ru(e){return e>>>=0,e===0?32:31-(su(e)/ra|0)|0}var ai=256,yr=262144,Re=4194304;function oi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=oi(o):(p&=T,p!==0?h=oi(p):r||(r=T&~e,r!==0&&(h=oi(r))))):(T=o&~f,T!==0?h=oi(T):p!==0?h=oi(p):r||(r=o&~e,r!==0&&(h=oi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Fn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var e=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),e}function ui(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function _r(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(r=p&~r;0<r;){var G=31-Ee(r),X=1<<G;T[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}r&=~X}o!==0&&vr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function vr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ee(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Eo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Ee(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function bo(e,n){var r=n&-n;return r=(r&42)!==0?1:Tr(r),(r&(e.suspendedLanes|n))!==0?0:r}function Tr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ou(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:D_(e.type))}function Qn(e,n){var r=nt.p;try{return nt.p=e,n()}finally{nt.p=r}}var Kn=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Kn,je="__reactProps$"+Kn,ci="__reactContainer$"+Kn,aa="__reactEvents$"+Kn,kh="__reactListeners$"+Kn,lu="__reactHandles$"+Kn,uu="__reactResources$"+Kn,hi="__reactMarker$"+Kn;function oa(e){delete e[Ce],delete e[je],delete e[aa],delete e[kh],delete e[lu]}function fi(e){var n=e[Ce];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ci]||r[Ce]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=p_(e);e!==null;){if(r=e[Ce])return r;e=p_(e)}return n}e=r,r=e.parentNode}return null}function Nn(e){if(e=e[Ce]||e[ci]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function _n(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function di(e){var n=e[uu];return n||(n=e[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(e){e[hi]=!0}var Ao=new Set,So={};function mi(e,n){pi(e,n),pi(e+"Capture",n)}function pi(e,n){for(So[e]=n,e=0;e<n.length;e++)Ao.add(n[e])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Co={};function cu(e){return ge.call(Co,e)?!0:ge.call(Ro,e)?!1:wo.test(e)?Co[e]=!0:(Ro[e]=!0,!1)}function la(e,n,r){if(cu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function vn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function xe(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ys(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Io(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){if(!e._valueTracker){var n=ys(e)?"checked":"value";e._valueTracker=Io(e,n,""+e[n])}}function Er(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ys(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var br=/[\n"\\]/g;function un(e){return e.replace(br,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ua(e,n,r,o,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?xo(e,p,Be(n)):r!=null?xo(e,p,Be(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Be(T):e.removeAttribute("name")}function hu(e,n,r,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$t(e);return}r=r!=null?""+Be(r):"",n=n!=null?""+Be(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),$t(e)}function xo(e,n,r){n==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function _s(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Be(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function fu(e,n,r){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Be(r):""}function vs(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(me(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Be(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),$t(e)}function cn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||du.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Do(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&No(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(e,f,n[f])}function ca(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(e){return Ts.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var Oo=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Es=null,yi=null;function Ar(e){var n=Nn(e);if(n&&(e=n.stateNode)){var r=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(ua(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(a(90));ua(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Er(o)}break t;case"textarea":fu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&_s(e,!!r.multiple,n,!1)}}}var fa=!1;function bs(e,n,r){if(fa)return e(n,r);fa=!0;try{var o=e(n);return o}finally{if(fa=!1,(Es!==null||yi!==null)&&(oc(),Es&&(n=Es,e=yi,yi=Es=null,Ar(n),e)))for(n=0;n<e.length;n++)Ar(e[n])}}function Xn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[je]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(On)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{Sr=!1}var _i=null,Mo=null,wr=null;function Vo(){if(wr)return wr;var e,n=Mo,r=n.length,o,h="value"in _i?_i.value:_i.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return wr=h.slice(e,1<o?1-o:void 0)}function Rr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function $n(){return!1}function Fe(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:$n,this.isPropagationStopped=$n,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Fe(ji),As=A({},ji,{view:0,detail:0}),ko=Fe(As),Ss,da,Ti,ma=A({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Ss=e.screenX-Ti.screenX,da=e.screenY-Ti.screenY):da=Ss=0,Ti=e),Ss)},movementY:function(e){return"movementY"in e?e.movementY:da}}),Uo=Fe(ma),Cr=A({},ma,{dataTransfer:0}),pu=Fe(Cr),gu=A({},As,{relatedTarget:0}),Ir=Fe(gu),Lo=A({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Fe(Lo),pa=A({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=Fe(pa),vu=A({},ji,{data:0}),Ei=Fe(vu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bu[e])?!!n[e]:!1}function ws(){return Au}var on=A({},As,{key:function(e){if(e.key){var n=Tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(e){return e.type==="keypress"?Rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=Fe(on),wu=A({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Fe(wu),u=A({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),m=Fe(u),v=A({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Fe(v),L=A({},ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Fe(L),et=A({},ji,{newState:0,oldState:0}),Rt=Fe(et),be=[9,13,27,32],Ft=On&&"CompositionEvent"in window,he=null;On&&"documentMode"in document&&(he=document.documentMode);var Mn=On&&"TextEvent"in window&&!he,bi=On&&(!Ft||he&&8<he&&11>=he),Zn=" ",Jn=!1;function xr(e,n){switch(e){case"keyup":return be.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ya=!1;function aE(e,n){switch(e){case"compositionend":return ga(n);case"keypress":return n.which!==32?null:(Jn=!0,Zn);case"textInput":return e=n.data,e===Zn&&Jn?null:e;default:return null}}function oE(e,n){if(ya)return e==="compositionend"||!Ft&&xr(e,n)?(e=Vo(),wr=Mo=_i=null,ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var lE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _p(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!lE[e.type]:n==="textarea"}function vp(e,n,r,o){Es?yi?yi.push(o):yi=[o]:Es=o,n=mc(n,"onChange"),0<n.length&&(r=new vi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Po=null,zo=null;function uE(e){e_(e,0)}function Ru(e){var n=_n(e);if(Er(n))return e}function Tp(e,n){if(e==="change")return n}var Ep=!1;if(On){var Uh;if(On){var Lh="oninput"in document;if(!Lh){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),Lh=typeof bp.oninput=="function"}Uh=Lh}else Uh=!1;Ep=Uh&&(!document.documentMode||9<document.documentMode)}function Ap(){Po&&(Po.detachEvent("onpropertychange",Sp),zo=Po=null)}function Sp(e){if(e.propertyName==="value"&&Ru(zo)){var n=[];vp(n,zo,e,Dn(e)),bs(uE,n)}}function cE(e,n,r){e==="focusin"?(Ap(),Po=n,zo=r,Po.attachEvent("onpropertychange",Sp)):e==="focusout"&&Ap()}function hE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(zo)}function fE(e,n){if(e==="click")return Ru(n)}function dE(e,n){if(e==="input"||e==="change")return Ru(n)}function mE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tn=typeof Object.is=="function"?Object.is:mE;function jo(e,n){if(Tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ge.call(n,h)||!Tn(e[h],n[h]))return!1}return!0}function wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rp(e,n){var r=wp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=wp(r)}}function Cp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Cp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ip(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=gi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=gi(e.document)}return n}function Ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var pE=On&&"documentMode"in document&&11>=document.documentMode,_a=null,zh=null,Bo=null,jh=!1;function xp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jh||_a==null||_a!==gi(o)||(o=_a,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bo&&jo(Bo,o)||(Bo=o,o=mc(zh,"onSelect"),0<o.length&&(n=new vi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=_a)))}function Nr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var va={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},Bh={},Np={};On&&(Np=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Dr(e){if(Bh[e])return Bh[e];if(!va[e])return e;var n=va[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Np)return Bh[e]=n[r];return e}var Dp=Dr("animationend"),Op=Dr("animationiteration"),Mp=Dr("animationstart"),gE=Dr("transitionrun"),yE=Dr("transitionstart"),_E=Dr("transitioncancel"),Vp=Dr("transitionend"),kp=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Wn(e,n){kp.set(e,n),mi(n,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vn=[],Ta=0,Hh=0;function Iu(){for(var e=Ta,n=Hh=Ta=0;n<e;){var r=Vn[n];Vn[n++]=null;var o=Vn[n];Vn[n++]=null;var h=Vn[n];Vn[n++]=null;var f=Vn[n];if(Vn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Up(r,h,f)}}function xu(e,n,r,o){Vn[Ta++]=e,Vn[Ta++]=n,Vn[Ta++]=r,Vn[Ta++]=o,Hh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,r,o){return xu(e,n,r,o),Nu(e)}function Or(e,n){return xu(e,null,null,n),Nu(e)}function Up(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ee(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Nu(e){if(50<ul)throw ul=0,td=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ea={};function vE(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,r,o){return new vE(e,n,r,o)}function Fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,n){var r=e.alternate;return r===null?(r=En(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Lp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")Fh(e)&&(p=1);else if(typeof e=="string")p=Sb(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=En(31,r,n,h),e.elementType=C,e.lanes=f,e;case tt:return Mr(r.children,h,f,n);case W:p=8,h|=24;break;case ut:return e=En(12,r,n,h|2),e.elementType=ut,e.lanes=f,e;case Xt:return e=En(13,r,n,h),e.elementType=Xt,e.lanes=f,e;case Nt:return e=En(19,r,n,h),e.elementType=Nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:p=10;break t;case Et:p=9;break t;case vt:p=11;break t;case I:p=14;break t;case S:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=En(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Mr(e,n,r,o){return e=En(7,e,o,n),e.lanes=r,e}function Qh(e,n,r){return e=En(6,e,null,n),e.lanes=r,e}function Pp(e){var n=En(18,null,null,0);return n.stateNode=e,n}function Kh(e,n,r){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var zp=new WeakMap;function kn(e,n){if(typeof e=="object"&&e!==null){var r=zp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:pr(n)},zp.set(e,n),n)}return{value:e,source:n,stack:pr(n)}}var ba=[],Aa=0,Ou=null,qo=0,Un=[],Ln=0,Rs=null,Ai=1,Si="";function Hi(e,n){ba[Aa++]=qo,ba[Aa++]=Ou,Ou=e,qo=n}function jp(e,n,r){Un[Ln++]=Ai,Un[Ln++]=Si,Un[Ln++]=Rs,Rs=e;var o=Ai;e=Si;var h=32-Ee(o)-1;o&=~(1<<h),r+=1;var f=32-Ee(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ai=1<<32-Ee(n)+h|r<<h|o,Si=f+e}else Ai=1<<f|r<<h|o,Si=e}function Yh(e){e.return!==null&&(Hi(e,1),jp(e,1,0))}function Xh(e){for(;e===Ou;)Ou=ba[--Aa],ba[Aa]=null,qo=ba[--Aa],ba[Aa]=null;for(;e===Rs;)Rs=Un[--Ln],Un[Ln]=null,Si=Un[--Ln],Un[Ln]=null,Ai=Un[--Ln],Un[Ln]=null}function Bp(e,n){Un[Ln++]=Ai,Un[Ln++]=Si,Un[Ln++]=Rs,Ai=n.id,Si=n.overflow,Rs=e}var Qe=null,oe=null,jt=!1,Cs=null,Pn=!1,$h=Error(a(519));function Is(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(kn(n,e)),$h}function qp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ce]=e,n[je]=o,r){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(r=0;r<hl.length;r++)Mt(hl[r],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),vs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||r_(n.textContent,r)?(o.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),o.onScroll!=null&&Mt("scroll",n),o.onScrollEnd!=null&&Mt("scrollend",n),o.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||Is(e,!0)}function Hp(e){for(Qe=e.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Qe=Qe.return}}function Sa(e){if(e!==Qe)return!1;if(!jt)return Hp(e),jt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||pd(e.type,e.memoizedProps)),r=!r),r&&oe&&Is(e),Hp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=m_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=m_(e)}else n===27?(n=oe,qs(e.type)?(e=Td,Td=null,oe=e):oe=n):oe=Qe?jn(e.stateNode.nextSibling):null;return!0}function Vr(){oe=Qe=null,jt=!1}function Zh(){var e=Cs;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),Cs=null),e}function Ho(e){Cs===null?Cs=[e]:Cs.push(e)}var Jh=D(null),kr=null,Gi=null;function xs(e,n,r){it(Jh,n._currentValue),n._currentValue=r}function Fi(e){e._currentValue=Jh.current,Y(Jh)}function Wh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function tf(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Wh(f.return,r,e),o||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Wh(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function wa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;Tn(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===Dt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&tf(n,e,r,o),n.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ur(e){kr=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return Gp(kr,e)}function Vu(e,n){return kr===null&&Ur(e),Gp(e,n)}function Gp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Gi===null){if(e===null)throw Error(a(308));Gi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gi=Gi.next=n;return r}var TE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},EE=s.unstable_scheduleCallback,bE=s.unstable_NormalPriority,Ne={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new TE,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&EE(bE,function(){e.controller.abort()})}var Fo=null,nf=0,Ra=0,Ca=null;function AE(e,n){if(Fo===null){var r=Fo=[];nf=0,Ra=ad(),Ca={status:"pending",value:void 0,then:function(o){r.push(o)}}}return nf++,n.then(Fp,Fp),n}function Fp(){if(--nf===0&&Fo!==null){Ca!==null&&(Ca.status="fulfilled");var e=Fo;Fo=null,Ra=0,Ca=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function SE(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Qp=H.S;H.S=function(e,n){xy=at(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&AE(e,n),Qp!==null&&Qp(e,n)};var Lr=D(null);function sf(){var e=Lr.current;return e!==null?e:se.pooledCache}function ku(e,n){n===null?it(Lr,Lr.current):it(Lr,n.pool)}function Kp(){var e=sf();return e===null?null:{parent:Ne._currentValue,pool:e}}var Ia=Error(a(460)),rf=Error(a(474)),Uu=Error(a(542)),Lu={then:function(){}};function Yp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Yn,Yn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zp(e),e;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zp(e),e}throw zr=n,Ia}}function Pr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(zr=r,Ia):r}}var zr=null;function $p(){if(zr===null)throw Error(a(459));var e=zr;return zr=null,e}function Zp(e){if(e===Ia||e===Uu)throw Error(a(483))}var xa=null,Qo=0;function Pu(e){var n=Qo;return Qo+=1,xa===null&&(xa=[]),Xp(xa,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jp(e){function n(k,O){if(e){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function r(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=qi(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,P,K){return O===null||O.tag!==6?(O=Qh(P,k.mode,K),O.return=k,O):(O=h(O,P),O.return=k,O)}function R(k,O,P,K){var dt=P.type;return dt===tt?G(k,O,P.props.children,K,P.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Pr(dt)===O.type)?(O=h(O,P.props),Ko(O,P),O.return=k,O):(O=Du(P.type,P.key,P.props,null,k.mode,K),Ko(O,P),O.return=k,O)}function z(k,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Kh(P,k.mode,K),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function G(k,O,P,K,dt){return O===null||O.tag!==7?(O=Mr(P,k.mode,K,dt),O.return=k,O):(O=h(O,P),O.return=k,O)}function X(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Qh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return P=Du(O.type,O.key,O.props,null,k.mode,P),Ko(P,O),P.return=k,P;case J:return O=Kh(O,k.mode,P),O.return=k,O;case S:return O=Pr(O),X(k,O,P)}if(me(O)||U(O))return O=Mr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return X(k,Pu(O),P);if(O.$$typeof===pt)return X(k,Vu(k,O),P);zu(k,O)}return null}function j(k,O,P,K){var dt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:T(k,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===dt?R(k,O,P,K):null;case J:return P.key===dt?z(k,O,P,K):null;case S:return P=Pr(P),j(k,O,P,K)}if(me(P)||U(P))return dt!==null?null:G(k,O,P,K,null);if(typeof P.then=="function")return j(k,O,Pu(P),K);if(P.$$typeof===pt)return j(k,O,Vu(k,P),K);zu(k,P)}return null}function q(k,O,P,K,dt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,T(O,k,""+K,dt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return k=k.get(K.key===null?P:K.key)||null,R(O,k,K,dt);case J:return k=k.get(K.key===null?P:K.key)||null,z(O,k,K,dt);case S:return K=Pr(K),q(k,O,P,K,dt)}if(me(K)||U(K))return k=k.get(P)||null,G(O,k,K,dt,null);if(typeof K.then=="function")return q(k,O,P,Pu(K),dt);if(K.$$typeof===pt)return q(k,O,P,Vu(O,K),dt);zu(O,K)}return null}function lt(k,O,P,K){for(var dt=null,qt=null,ct=O,xt=O=0,Ut=null;ct!==null&&xt<P.length;xt++){ct.index>xt?(Ut=ct,ct=null):Ut=ct.sibling;var Ht=j(k,ct,P[xt],K);if(Ht===null){ct===null&&(ct=Ut);break}e&&ct&&Ht.alternate===null&&n(k,ct),O=f(Ht,O,xt),qt===null?dt=Ht:qt.sibling=Ht,qt=Ht,ct=Ut}if(xt===P.length)return r(k,ct),jt&&Hi(k,xt),dt;if(ct===null){for(;xt<P.length;xt++)ct=X(k,P[xt],K),ct!==null&&(O=f(ct,O,xt),qt===null?dt=ct:qt.sibling=ct,qt=ct);return jt&&Hi(k,xt),dt}for(ct=o(ct);xt<P.length;xt++)Ut=q(ct,k,xt,P[xt],K),Ut!==null&&(e&&Ut.alternate!==null&&ct.delete(Ut.key===null?xt:Ut.key),O=f(Ut,O,xt),qt===null?dt=Ut:qt.sibling=Ut,qt=Ut);return e&&ct.forEach(function(Ks){return n(k,Ks)}),jt&&Hi(k,xt),dt}function gt(k,O,P,K){if(P==null)throw Error(a(151));for(var dt=null,qt=null,ct=O,xt=O=0,Ut=null,Ht=P.next();ct!==null&&!Ht.done;xt++,Ht=P.next()){ct.index>xt?(Ut=ct,ct=null):Ut=ct.sibling;var Ks=j(k,ct,Ht.value,K);if(Ks===null){ct===null&&(ct=Ut);break}e&&ct&&Ks.alternate===null&&n(k,ct),O=f(Ks,O,xt),qt===null?dt=Ks:qt.sibling=Ks,qt=Ks,ct=Ut}if(Ht.done)return r(k,ct),jt&&Hi(k,xt),dt;if(ct===null){for(;!Ht.done;xt++,Ht=P.next())Ht=X(k,Ht.value,K),Ht!==null&&(O=f(Ht,O,xt),qt===null?dt=Ht:qt.sibling=Ht,qt=Ht);return jt&&Hi(k,xt),dt}for(ct=o(ct);!Ht.done;xt++,Ht=P.next())Ht=q(ct,k,xt,Ht.value,K),Ht!==null&&(e&&Ht.alternate!==null&&ct.delete(Ht.key===null?xt:Ht.key),O=f(Ht,O,xt),qt===null?dt=Ht:qt.sibling=Ht,qt=Ht);return e&&ct.forEach(function(kb){return n(k,kb)}),jt&&Hi(k,xt),dt}function ne(k,O,P,K){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var dt=P.key;O!==null;){if(O.key===dt){if(dt=P.type,dt===tt){if(O.tag===7){r(k,O.sibling),K=h(O,P.props.children),K.return=k,k=K;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Pr(dt)===O.type){r(k,O.sibling),K=h(O,P.props),Ko(K,P),K.return=k,k=K;break t}r(k,O);break}else n(k,O);O=O.sibling}P.type===tt?(K=Mr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Du(P.type,P.key,P.props,null,k.mode,K),Ko(K,P),K.return=k,k=K)}return p(k);case J:t:{for(dt=P.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(k,O.sibling),K=h(O,P.children||[]),K.return=k,k=K;break t}else{r(k,O);break}else n(k,O);O=O.sibling}K=Kh(P,k.mode,K),K.return=k,k=K}return p(k);case S:return P=Pr(P),ne(k,O,P,K)}if(me(P))return lt(k,O,P,K);if(U(P)){if(dt=U(P),typeof dt!="function")throw Error(a(150));return P=dt.call(P),gt(k,O,P,K)}if(typeof P.then=="function")return ne(k,O,Pu(P),K);if(P.$$typeof===pt)return ne(k,O,Vu(k,P),K);zu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(k,O.sibling),K=h(O,P),K.return=k,k=K):(r(k,O),K=Qh(P,k.mode,K),K.return=k,k=K),p(k)):r(k,O)}return function(k,O,P,K){try{Qo=0;var dt=ne(k,O,P,K);return xa=null,dt}catch(ct){if(ct===Ia||ct===Uu)throw ct;var qt=En(29,ct,null,k.mode);return qt.lanes=K,qt.return=k,qt}}}var jr=Jp(!0),Wp=Jp(!1),Ns=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Os(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(e),Up(e,null,r),n}return xu(e,o,n,r),Nu(e)}function Yo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Eo(e,r)}}function lf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var uf=!1;function Xo(){if(uf){var e=Ca;if(e!==null)throw e}}function $o(e,n,r,o){uf=!1;var h=e.updateQueue;Ns=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==p&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;p=0,G=z=R=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(kt&j)===j:(o&j)===j){j!==0&&j===Ra&&(uf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,gt=T;j=n;var ne=r;switch(gt.tag){case 1:if(lt=gt.payload,typeof lt=="function"){X=lt.call(ne,X,j);break t}X=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=gt.payload,j=typeof lt=="function"?lt.call(ne,X,j):lt,j==null)break t;X=A({},X,j);break t;case 2:Ns=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=q,R=X):G=G.next=q,p|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=X),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ls|=p,e.lanes=p,e.memoizedState=X}}function tg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function eg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)tg(r[e],n)}var Na=D(null),ju=D(0);function ng(e,n){e=ts,it(ju,e),it(Na,n),ts=e|n.baseLanes}function cf(){it(ju,ts),it(Na,Na.current)}function hf(){ts=ju.current,Y(Na),Y(ju)}var bn=D(null),zn=null;function Ms(e){var n=e.alternate;it(Ae,Ae.current&1),it(bn,e),zn===null&&(n===null||Na.current!==null||n.memoizedState!==null)&&(zn=e)}function ff(e){it(Ae,Ae.current),it(bn,e),zn===null&&(zn=e)}function ig(e){e.tag===22?(it(Ae,Ae.current),it(bn,e),zn===null&&(zn=e)):Vs()}function Vs(){it(Ae,Ae.current),it(bn,bn.current)}function An(e){Y(bn),zn===e&&(zn=null),Y(Ae)}var Ae=D(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||_d(r)||vd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,Ct=null,te=null,De=null,qu=!1,Da=!1,Br=!1,Hu=0,Zo=0,Oa=null,wE=0;function ye(){throw Error(a(321))}function df(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Tn(e[r],n[r]))return!1;return!0}function mf(e,n,r,o,h,f){return Qi=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?jg:xf,Br=!1,f=r(o,h),Br=!1,Da&&(f=rg(n,r,o,h)),sg(e),f}function sg(e){H.H=tl;var n=te!==null&&te.next!==null;if(Qi=0,De=te=Ct=null,qu=!1,Zo=0,Oa=null,n)throw Error(a(300));e===null||Oe||(e=e.dependencies,e!==null&&Mu(e)&&(Oe=!0))}function rg(e,n,r,o){Ct=e;var h=0;do{if(Da&&(Oa=null),Zo=0,Da=!1,25<=h)throw Error(a(301));if(h+=1,De=te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Bg,f=n(r,o)}while(Da);return f}function RE(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Ct.flags|=1024),n}function pf(){var e=Hu!==0;return Hu=0,e}function gf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function yf(e){if(qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qu=!1}Qi=0,De=te=Ct=null,Da=!1,Zo=Hu=0,Oa=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ct.memoizedState=De=e:De=De.next=e,De}function Se(){if(te===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var n=De===null?Ct.memoizedState:De.next;if(n!==null)De=n,te=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},De===null?Ct.memoizedState=De=e:De=De.next=e}return De}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var n=Zo;return Zo+=1,Oa===null&&(Oa=[]),e=Xp(Oa,e,n),n=Ct,(De===null?n.memoizedState:De.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?jg:xf),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===pt)return Ke(e)}throw Error(a(438,String(e)))}function _f(e){var n=null,r=Ct.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Gu(),Ct.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Ki(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=Se();return vf(n,te,e)}function vf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,R=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(kt&X)===X:(Qi&X)===X){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ra&&(G=!0);else if((Qi&j)===j){z=z.next,j===Ra&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=X,p=f):R=R.next=X,Ct.lanes|=j,Ls|=j;X=z.action,Br&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=j,p=f):R=R.next=j,Ct.lanes|=X,Ls|=X;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=T,!Tn(f,e.memoizedState)&&(Oe=!0,G&&(r=Ca,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Tf(e){var n=Se(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);Tn(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function ag(e,n,r){var o=Ct,h=Se(),f=jt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Tn((te||h).memoizedState,r);if(p&&(h.memoizedState=r,Oe=!0),h=h.queue,Af(ug.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||De!==null&&De.memoizedState.tag&1){if(o.flags|=2048,Ma(9,{destroy:void 0},lg.bind(null,o,h,r,n),null),se===null)throw Error(a(349));f||(Qi&127)!==0||og(o,n,r)}return r}function og(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Ct.updateQueue,n===null?(n=Gu(),Ct.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function lg(e,n,r,o){n.value=r,n.getSnapshot=o,cg(n)&&hg(e)}function ug(e,n,r){return r(function(){cg(n)&&hg(e)})}function cg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Tn(e,r)}catch{return!0}}function hg(e){var n=Or(e,2);n!==null&&pn(n,e,2)}function Ef(e){var n=ln();if(typeof e=="function"){var r=e;if(e=r(),Br){xn(!0);try{r()}finally{xn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},n}function fg(e,n,r,o){return e.baseState=r,vf(e,te,typeof o=="function"?o:Ki)}function CE(e,n,r,o,h){if(Xu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,dg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function dg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var T=r(h,o),R=H.S;R!==null&&R(p,T),mg(e,n,T)}catch(z){bf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=r(h,o),mg(e,n,f)}catch(z){bf(e,n,z)}}function mg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){pg(e,n,o)},function(o){return bf(e,n,o)}):pg(e,n,r)}function pg(e,n,r){n.status="fulfilled",n.value=r,gg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,dg(e,r)))}function bf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,gg(n),n=n.next;while(n!==o)}e.action=null}function gg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function yg(e,n){return n}function _g(e,n){if(jt){var r=se.formState;if(r!==null){t:{var o=Ct;if(jt){if(oe){e:{for(var h=oe,f=Pn;h.nodeType!==8;){if(!f){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=jn(h.nextSibling),o=h.data==="F!";break t}}Is(o)}o=!1}o&&(n=r[0])}}return r=ln(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yg,lastRenderedState:n},r.queue=o,r=Lg.bind(null,Ct,o),o.dispatch=r,o=Ef(!1),f=If.bind(null,Ct,!1,o.queue),o=ln(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=CE.bind(null,Ct,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function vg(e){var n=Se();return Tg(n,te,e)}function Tg(e,n,r){if(n=vf(e,n,yg)[0],e=Qu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(p){throw p===Ia?Uu:p}else o=n;n=Se();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ct.flags|=2048,Ma(9,{destroy:void 0},IE.bind(null,h,r),null)),[o,f,e]}function IE(e,n){e.action=n}function Eg(e){var n=Se(),r=te;if(r!==null)return Tg(n,r,e);Se(),n=n.memoizedState,r=Se();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ma(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Gu(),Ct.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function bg(){return Se().memoizedState}function Ku(e,n,r,o){var h=ln();Ct.flags|=e,h.memoizedState=Ma(1|n,{destroy:void 0},r,o===void 0?null:o)}function Yu(e,n,r,o){var h=Se();o=o===void 0?null:o;var f=h.memoizedState.inst;te!==null&&o!==null&&df(o,te.memoizedState.deps)?h.memoizedState=Ma(n,f,r,o):(Ct.flags|=e,h.memoizedState=Ma(1|n,f,r,o))}function Ag(e,n){Ku(8390656,8,e,n)}function Af(e,n){Yu(2048,8,e,n)}function xE(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Gu(),Ct.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Sg(e){var n=Se().memoizedState;return xE({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function wg(e,n){return Yu(4,2,e,n)}function Rg(e,n){return Yu(4,4,e,n)}function Cg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ig(e,n,r){r=r!=null?r.concat([e]):null,Yu(4,4,Cg.bind(null,n,e),r)}function Sf(){}function xg(e,n){var r=Se();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&df(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Ng(e,n){var r=Se();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=e(),Br){xn(!0);try{e()}finally{xn(!1)}}return r.memoizedState=[o,n],o}function wf(e,n,r){return r===void 0||(Qi&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Dy(),Ct.lanes|=e,Ls|=e,r)}function Dg(e,n,r,o){return Tn(r,n)?r:Na.current!==null?(e=wf(e,r,o),Tn(e,n)||(Oe=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(kt&261930)===0?(Oe=!0,e.memoizedState=r):(e=Dy(),Ct.lanes|=e,Ls|=e,n)}function Og(e,n,r,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=H.T,T={};H.T=T,If(e,!1,n,r);try{var R=h(),z=H.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=SE(R,o);Wo(e,n,G,Rn(e))}else Wo(e,n,o,Rn(e))}catch(X){Wo(e,n,{then:function(){},status:"rejected",reason:X},Rn())}finally{nt.p=f,p!==null&&T.types!==null&&(p.types=T.types),H.T=p}}function NE(){}function Rf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Mg(e).queue;Og(e,h,n,ft,r===null?NE:function(){return Vg(e),r(o)})}function Mg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Vg(e){var n=Mg(e);n.next===null&&(n=e.alternate.memoizedState),Wo(e,n.next.queue,{},Rn())}function Cf(){return Ke(gl)}function kg(){return Se().memoizedState}function Ug(){return Se().memoizedState}function DE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Rn();e=Ds(r);var o=Os(n,e,r);o!==null&&(pn(o,n,r),Yo(o,n,r)),n={cache:ef()},e.payload=n;return}n=n.return}}function OE(e,n,r){var o=Rn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Xu(e)?Pg(n,r):(r=Gh(e,n,r,o),r!==null&&(pn(r,e,o),zg(r,n,o)))}function Lg(e,n,r){var o=Rn();Wo(e,n,r,o)}function Wo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))Pg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,r);if(h.hasEagerState=!0,h.eagerState=T,Tn(T,p))return xu(e,n,h,0),se===null&&Iu(),!1}catch{}if(r=Gh(e,n,h,o),r!==null)return pn(r,e,o),zg(r,n,o),!0}return!1}function If(e,n,r,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(n)throw Error(a(479))}else n=Gh(e,r,o,2),n!==null&&pn(n,e,2)}function Xu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Pg(e,n){Da=qu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function zg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Eo(e,r)}}var tl={readContext:Ke,use:Fu,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};tl.useEffectEvent=ye;var jg={readContext:Ke,use:Fu,useCallback:function(e,n){return ln().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:Ag,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Ku(4194308,4,Cg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var r=ln();n=n===void 0?null:n;var o=e();if(Br){xn(!0);try{e()}finally{xn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=ln();if(r!==void 0){var h=r(n);if(Br){xn(!0);try{r(n)}finally{xn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=OE.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=ln();return e={current:e},n.memoizedState=e},useState:function(e){e=Ef(e);var n=e.queue,r=Lg.bind(null,Ct,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Sf,useDeferredValue:function(e,n){var r=ln();return wf(r,e,n)},useTransition:function(){var e=Ef(!1);return e=Og.bind(null,Ct,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Ct,h=ln();if(jt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),se===null)throw Error(a(349));(kt&127)!==0||og(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ag(ug.bind(null,o,f,e),[e]),o.flags|=2048,Ma(9,{destroy:void 0},lg.bind(null,o,f,r,n),null),r},useId:function(){var e=ln(),n=se.identifierPrefix;if(jt){var r=Si,o=Ai;r=(o&~(1<<32-Ee(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=wE++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:_g,useActionState:_g,useOptimistic:function(e){var n=ln();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=If.bind(null,Ct,!0,r),r.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return ln().memoizedState=DE.bind(null,Ct)},useEffectEvent:function(e){var n=ln(),r={impl:e};return n.memoizedState=r,function(){if((Qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},xf={readContext:Ke,use:Fu,useCallback:xg,useContext:Ke,useEffect:Af,useImperativeHandle:Ig,useInsertionEffect:wg,useLayoutEffect:Rg,useMemo:Ng,useReducer:Qu,useRef:bg,useState:function(){return Qu(Ki)},useDebugValue:Sf,useDeferredValue:function(e,n){var r=Se();return Dg(r,te.memoizedState,e,n)},useTransition:function(){var e=Qu(Ki)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:ag,useId:kg,useHostTransitionStatus:Cf,useFormState:vg,useActionState:vg,useOptimistic:function(e,n){var r=Se();return fg(r,te,e,n)},useMemoCache:_f,useCacheRefresh:Ug};xf.useEffectEvent=Sg;var Bg={readContext:Ke,use:Fu,useCallback:xg,useContext:Ke,useEffect:Af,useImperativeHandle:Ig,useInsertionEffect:wg,useLayoutEffect:Rg,useMemo:Ng,useReducer:Tf,useRef:bg,useState:function(){return Tf(Ki)},useDebugValue:Sf,useDeferredValue:function(e,n){var r=Se();return te===null?wf(r,e,n):Dg(r,te.memoizedState,e,n)},useTransition:function(){var e=Tf(Ki)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:ag,useId:kg,useHostTransitionStatus:Cf,useFormState:Eg,useActionState:Eg,useOptimistic:function(e,n){var r=Se();return te!==null?fg(r,te,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Ug};Bg.useEffectEvent=Sg;function Nf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Df={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Rn(),h=Ds(o);h.payload=n,r!=null&&(h.callback=r),n=Os(e,h,o),n!==null&&(pn(n,e,o),Yo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Rn(),h=Ds(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Os(e,h,o),n!==null&&(pn(n,e,o),Yo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Rn(),o=Ds(r);o.tag=2,n!=null&&(o.callback=n),n=Os(e,o,r),n!==null&&(pn(n,e,r),Yo(n,e,r))}};function qg(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!jo(r,o)||!jo(h,f):!0}function Hg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function qr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Gg(e){Cu(e)}function Fg(e){console.error(e)}function Qg(e){Cu(e)}function $u(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Kg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,r){return r=Ds(r),r.tag=3,r.payload={element:null},r.callback=function(){$u(e,n)},r}function Yg(e){return e=Ds(e),e.tag=3,e}function Xg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Kg(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Kg(n,r,o),typeof h!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function ME(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&wa(n,r,h,!0),r=bn.current,r!==null){switch(r.tag){case 31:case 13:return zn===null?lc():r.alternate===null&&_e===0&&(_e=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Lu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),id(e,o,h)),!1;case 22:return r.flags|=65536,o===Lu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),id(e,o,h)),!1}throw Error(a(435,r.tag))}return id(e,o,h),lc(),!1}if(jt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(e=Error(a(422),{cause:o}),Ho(kn(e,r)))):(o!==$h&&(n=Error(a(423),{cause:o}),Ho(kn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=kn(o,r),h=Of(e.stateNode,o,h),lf(e,h),_e!==4&&(_e=2)),!1;var f=Error(a(520),{cause:o});if(f=kn(f,r),ll===null?ll=[f]:ll.push(f),_e!==4&&(_e=2),n===null)return!0;o=kn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Of(r.stateNode,o,e),lf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ps===null||!Ps.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Yg(h),Xg(h,e,r,o),lf(r,h),!1}r=r.return}while(r!==null);return!1}var Mf=Error(a(461)),Oe=!1;function Ye(e,n,r,o){n.child=e===null?Wp(n,null,r,o):jr(n,e.child,r,o)}function $g(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return Ur(n),o=mf(e,n,r,p,f,h),T=pf(),e!==null&&!Oe?(gf(e,n,h),Yi(e,n,h)):(jt&&T&&Yh(n),n.flags|=1,Ye(e,n,o,h),n.child)}function Zg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Jg(e,n,f,o,h)):(e=Du(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:jo,r(p,o)&&e.ref===n.ref)return Yi(e,n,h)}return n.flags|=1,e=qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Jg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(jo(f,o)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=o=f,Bf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Yi(e,n,h)}return Vf(e,n,r,o,h)}function Wg(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ty(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(n,f!==null?f.cachePool:null),f!==null?ng(n,f):cf(),ig(n);else return o=n.lanes=536870912,ty(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(ku(n,f.cachePool),ng(n,f),Vs(),n.memoizedState=null):(e!==null&&ku(n,null),cf(),Vs());return Ye(e,n,h,r),n.child}function el(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ty(e,n,r,o,h){var f=sf();return f=f===null?null:{parent:Ne._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&ku(n,null),cf(),ig(n),e!==null&&wa(e,n,o,!0),n.childLanes=h,null}function Zu(e,n){return n=Wu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ey(e,n,r){return jr(n,e.child,null,r),e=Zu(n,n.pendingProps),e.flags|=2,An(n),n.memoizedState=null,e}function VE(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=Zu(n,o),n.lanes=536870912,el(null,e);if(ff(n),(e=oe)?(e=d_(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},r=Pp(e),r.return=n,n.child=r,Qe=n,oe=null)):e=null,e===null)throw Is(n);return n.lanes=536870912,null}return Zu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=ey(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Oe||wa(e,n,r,!1),h=(r&e.childLanes)!==0,Oe||h){if(o=se,o!==null&&(p=bo(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Or(e,p),pn(o,e,p),Mf;lc(),n=ey(e,n,r)}else e=f.treeContext,oe=jn(p.nextSibling),Qe=n,jt=!0,Cs=null,Pn=!1,e!==null&&Bp(n,e),n=Zu(n,o),n.flags|=4096;return n}return e=qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Vf(e,n,r,o,h){return Ur(n),r=mf(e,n,r,o,void 0,h),o=pf(),e!==null&&!Oe?(gf(e,n,h),Yi(e,n,h)):(jt&&o&&Yh(n),n.flags|=1,Ye(e,n,r,h),n.child)}function ny(e,n,r,o,h,f){return Ur(n),n.updateQueue=null,r=rg(n,o,r,h),sg(e),o=pf(),e!==null&&!Oe?(gf(e,n,f),Yi(e,n,f)):(jt&&o&&Yh(n),n.flags|=1,Ye(e,n,r,f),n.child)}function iy(e,n,r,o,h){if(Ur(n),n.stateNode===null){var f=Ea,p=r.contextType;typeof p=="object"&&p!==null&&(f=Ke(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Ke(p):Ea,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Nf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Df.enqueueReplaceState(f,f.state,null),$o(n,o,f,h),Xo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=qr(r,T);f.props=R;var z=f.context,G=r.contextType;p=Ea,typeof G=="object"&&G!==null&&(p=Ke(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&Hg(n,f,o,p),Ns=!1;var j=n.memoizedState;f.state=j,$o(n,o,f,h),Xo(),z=n.memoizedState,T||j!==z||Ns?(typeof X=="function"&&(Nf(n,r,X,o),z=n.memoizedState),(R=Ns||qg(n,r,R,o,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(e,n),p=n.memoizedProps,G=qr(r,p),f.props=G,X=n.pendingProps,j=f.context,z=r.contextType,R=Ea,typeof z=="object"&&z!==null&&(R=Ke(z)),T=r.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||j!==R)&&Hg(n,f,o,R),Ns=!1,j=n.memoizedState,f.state=j,$o(n,o,f,h),Xo();var q=n.memoizedState;p!==X||j!==q||Ns||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof T=="function"&&(Nf(n,r,T,o),q=n.memoizedState),(G=Ns||qg(n,r,G,o,j,q,R)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=jr(n,e.child,null,h),n.child=jr(n,null,r,h)):Ye(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Yi(e,n,h),e}function sy(e,n,r,o){return Vr(),n.flags|=256,Ye(e,n,r,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:Kp()}}function Lf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=wn),e}function ry(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?Ms(n):Vs(),(e=oe)?(e=d_(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},r=Pp(e),r.return=n,n.child=r,Qe=n,oe=null)):e=null,e===null)throw Is(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Vs(),h=n.mode,T=Wu({mode:"hidden",children:T},h),o=Mr(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Uf(r),o.childLanes=Lf(e,p,r),n.memoizedState=kf,el(null,o)):(Ms(n),Pf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Ms(n),n.flags&=-257,n=zf(e,n,r)):n.memoizedState!==null?(Vs(),n.child=e.child,n.flags|=128,n=null):(Vs(),T=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),T=Mr(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,jr(n,e.child,null,r),o=n.child,o.memoizedState=Uf(r),o.childLanes=Lf(e,p,r),n.memoizedState=kf,n=el(null,o));else if(Ms(n),vd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Ho({value:o,source:null,stack:null}),n=zf(e,n,r)}else if(Oe||wa(e,n,r,!1),p=(r&e.childLanes)!==0,Oe||p){if(p=se,p!==null&&(o=bo(p,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Or(e,o),pn(p,e,o),Mf;_d(T)||lc(),n=zf(e,n,r)}else _d(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,oe=jn(T.nextSibling),Qe=n,jt=!0,Cs=null,Pn=!1,e!==null&&Bp(n,e),n=Pf(n,o.children),n.flags|=4096);return n}return h?(Vs(),T=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=qi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?T=qi(z,T):(T=Mr(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,el(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Uf(r):(h=T.cachePool,h!==null?(R=Ne._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Kp(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=Lf(e,p,r),n.memoizedState=kf,el(e.child,o)):(Ms(n),r=e.child,e=r.sibling,r=qi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Pf(e,n){return n=Wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wu(e,n){return e=En(22,e,null,n),e.lanes=0,e}function zf(e,n,r){return jr(n,e.child,null,r),e=Pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ay(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Wh(e.return,n,r)}function jf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function oy(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Ae.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,it(Ae,p),Ye(e,n,o,r),o=jt?qo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ay(e,r,n);else if(e.tag===19)ay(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Bu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),jf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}jf(n,!0,r,null,f,o);break;case"together":jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Yi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Ls|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(wa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=qi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=qi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function kE(e,n,r){switch(n.tag){case 3:pe(n,n.stateNode.containerInfo),xs(n,Ne,e.memoizedState.cache),Vr();break;case 27:case 5:si(n);break;case 4:pe(n,n.stateNode.containerInfo);break;case 10:xs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ms(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ry(e,n,r):(Ms(n),e=Yi(e,n,r),e!==null?e.sibling:null);Ms(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(wa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return oy(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Ae,Ae.current),o)break;return null;case 22:return n.lanes=0,Wg(e,n,r,n.pendingProps);case 24:xs(n,Ne,e.memoizedState.cache)}return Yi(e,n,r)}function ly(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Bf(e,r)&&(n.flags&128)===0)return Oe=!1,kE(e,n,r);Oe=(e.flags&131072)!==0}else Oe=!1,jt&&(n.flags&1048576)!==0&&jp(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Pr(n.elementType),n.type=e,typeof e=="function")Fh(e)?(o=qr(e,o),n.tag=1,n=iy(null,n,e,o,r)):(n.tag=0,n=Vf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===vt){n.tag=11,n=$g(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Zg(null,n,e,o,r);break t}}throw n=re(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=qr(o,n.pendingProps),iy(e,n,o,h,r);case 3:t:{if(pe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(e,n),$o(n,o,null,r);var p=n.memoizedState;if(o=p.cache,xs(n,Ne,o),o!==f.cache&&tf(n,[Ne],r,!0),Xo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=sy(e,n,o,r);break t}else if(o!==h){h=kn(Error(a(424)),n),Ho(h),n=sy(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,oe=jn(e.firstChild),Qe=n,jt=!0,Cs=null,Pn=!0,r=Wp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vr(),o===h){n=Yi(e,n,r);break t}Ye(e,n,o,r)}n=n.child}return n;case 26:return Ju(e,n),e===null?(r=v_(n.type,null,n.pendingProps,null))?n.memoizedState=r:jt||(r=n.type,e=n.pendingProps,o=pc(bt.current).createElement(r),o[Ce]=n,o[je]=e,Xe(o,r,e),Ie(o),n.stateNode=o):n.memoizedState=v_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return si(n),e===null&&jt&&(o=n.stateNode=g_(n.type,n.pendingProps,bt.current),Qe=n,Pn=!0,h=oe,qs(n.type)?(Td=h,oe=jn(o.firstChild)):oe=h),Ye(e,n,n.pendingProps.children,r),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=oe)&&(o=hb(o,n.type,n.pendingProps,Pn),o!==null?(n.stateNode=o,Qe=n,oe=jn(o.firstChild),Pn=!1,h=!0):h=!1),h||Is(n)),si(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,RE,null,null,r),gl._currentValue=h),Ju(e,n),Ye(e,n,o,r),n.child;case 6:return e===null&&jt&&((e=r=oe)&&(r=fb(r,n.pendingProps,Pn),r!==null?(n.stateNode=r,Qe=n,oe=null,e=!0):e=!1),e||Is(n)),null;case 13:return ry(e,n,r);case 4:return pe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=jr(n,null,o,r):Ye(e,n,o,r),n.child;case 11:return $g(e,n,n.type,n.pendingProps,r);case 7:return Ye(e,n,n.pendingProps,r),n.child;case 8:return Ye(e,n,n.pendingProps.children,r),n.child;case 12:return Ye(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,xs(n,n.type,o.value),Ye(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ur(n),h=Ke(h),o=o(h),n.flags|=1,Ye(e,n,o,r),n.child;case 14:return Zg(e,n,n.type,n.pendingProps,r);case 15:return Jg(e,n,n.type,n.pendingProps,r);case 19:return oy(e,n,r);case 31:return VE(e,n,r);case 22:return Wg(e,n,r,n.pendingProps);case 24:return Ur(n),o=Ke(Ne),e===null?(h=sf(),h===null&&(h=se,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},af(n),xs(n,Ne,h)):((e.lanes&r)!==0&&(of(e,n),$o(n,null,null,r),Xo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),xs(n,Ne,o)):(o=f.cache,xs(n,Ne,o),o!==h.cache&&tf(n,[Ne],r,!0))),Ye(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Xi(e){e.flags|=4}function qf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(ky())e.flags|=8192;else throw zr=Lu,rf}else e.flags&=-16777217}function uy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(n))if(ky())e.flags|=8192;else throw zr=Lu,rf}function tc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?au():536870912,e.lanes|=n,La|=n)}function nl(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function le(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function UE(e,n,r){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fi(Ne),ie(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Sa(n)?Xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),le(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Xi(n),f!==null?(le(n),uy(n,f)):(le(n),qf(n,h,null,o,r))):f?f!==e.memoizedState?(Xi(n),le(n),uy(n,f)):(le(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Xi(n),le(n),qf(n,h,e,o,r)),null;case 27:if(ds(n),r=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}e=st.current,Sa(n)?qp(n):(e=g_(h,o,r),n.stateNode=e,Xi(n))}return le(n),null;case 5:if(ds(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}if(f=st.current,Sa(n))qp(n);else{var p=pc(bt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ce]=n,f[je]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Xe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Xi(n)}}return le(n),qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,Sa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ce]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||r_(e.nodeValue,r)),e||Is(n,!0)}else e=pc(e).createTextNode(o),e[Ce]=n,n.stateNode=e}return le(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Sa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ce]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),e=!1}else r=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(a(558))}return le(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Sa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ce]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),tc(n,n.updateQueue),le(n),null);case 4:return ie(),e===null&&cd(n.stateNode.containerInfo),le(n),null;case 10:return Fi(n.type),le(n),null;case 19:if(Y(Ae),o=n.memoizedState,o===null)return le(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)nl(o,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,nl(o,!1),e=f.updateQueue,n.updateQueue=e,tc(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Lp(r,e),r=r.sibling;return it(Ae,Ae.current&1|2),jt&&Hi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&at()>rc&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,tc(n,e),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return le(n),null}else 2*at()-o.renderingStartTime>rc&&r!==536870912&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=at(),e.sibling=null,r=Ae.current,it(Ae,h?r&1|2:r&1),jt&&Hi(n,o.treeForkCount),e):(le(n),null);case 22:case 23:return An(n),hf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),r=n.updateQueue,r!==null&&tc(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Y(Lr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Fi(Ne),le(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function LE(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fi(Ne),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ds(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(a(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(An(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Ae),null;case 4:return ie(),null;case 10:return Fi(n.type),null;case 22:case 23:return An(n),hf(),e!==null&&Y(Lr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fi(Ne),null;case 25:return null;default:return null}}function cy(e,n){switch(Xh(n),n.tag){case 3:Fi(Ne),ie();break;case 26:case 27:case 5:ds(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:Y(Ae);break;case 10:Fi(n.type);break;case 22:case 23:An(n),hf(),e!==null&&Y(Lr);break;case 24:Fi(Ne)}}function il(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(T){Jt(n,n.return,T)}}function ks(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var R=r,z=T;try{z()}catch(G){Jt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Jt(n,n.return,G)}}function hy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{eg(n,r)}catch(o){Jt(e,e.return,o)}}}function fy(e,n,r){r.props=qr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Jt(e,n,o)}}function sl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Jt(e,n,h)}}function wi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Jt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Jt(e,n,h)}else r.current=null}function dy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Jt(e,e.return,h)}}function Hf(e,n,r){try{var o=e.stateNode;rb(o,e.type,r,n),o[je]=n}catch(h){Jt(e,e.return,h)}}function my(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qs(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||my(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Yn));else if(o!==4&&(o===27&&qs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Ff(e,n,r),e=e.sibling;e!==null;)Ff(e,n,r),e=e.sibling}function ec(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&qs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ec(e,n,r),e=e.sibling;e!==null;)ec(e,n,r),e=e.sibling}function py(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xe(n,o,r),n[Ce]=e,n[je]=r}catch(f){Jt(e,e.return,f)}}var $i=!1,Me=!1,Qf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,qe=null;function PE(e,n){if(e=e.containerInfo,dd=bc,e=Ip(e),Ph(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,T=-1,R=-1,z=0,G=0,X=e,j=null;e:for(;;){for(var q;X!==r||h!==0&&X.nodeType!==3||(T=p+h),X!==f||o!==0&&X.nodeType!==3||(R=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(q=X.firstChild)!==null;)j=X,X=q;for(;;){if(X===e)break e;if(j===r&&++z===h&&(T=p),j===f&&++G===o&&(R=p),(q=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=q}r=T===-1||R===-1?null:{start:T,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(md={focusedElem:e,selectionRange:r},bc=!1,qe=n;qe!==null;)if(n=qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qe=e;else for(;qe!==null;){switch(n=qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var lt=qr(r.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Jt(r,r.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)yd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,qe=e;break}qe=n.return}}function yy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(e,r),o&4&&il(5,r);break;case 1:if(Ji(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Jt(r,r.return,p)}else{var h=qr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Jt(r,r.return,p)}}o&64&&hy(r),o&512&&sl(r,r.return);break;case 3:if(Ji(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{eg(e,n)}catch(p){Jt(r,r.return,p)}}break;case 27:n===null&&o&4&&py(r);case 26:case 5:Ji(e,r),n===null&&o&4&&dy(r),o&512&&sl(r,r.return);break;case 12:Ji(e,r);break;case 31:Ji(e,r),o&4&&Ty(e,r);break;case 13:Ji(e,r),o&4&&Ey(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=KE.bind(null,r),db(e,r))));break;case 22:if(o=r.memoizedState!==null||$i,!o){n=n!==null&&n.memoizedState!==null||Me,h=$i;var f=Me;$i=o,(Me=n)&&!f?Wi(e,r,(r.subtreeFlags&8772)!==0):Ji(e,r),$i=h,Me=f}break;case 30:break;default:Ji(e,r)}}function _y(e){var n=e.alternate;n!==null&&(e.alternate=null,_y(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&oa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,hn=!1;function Zi(e,n,r){for(r=r.child;r!==null;)vy(e,n,r),r=r.sibling}function vy(e,n,r){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Gn,r)}catch{}switch(r.tag){case 26:Me||wi(r,n),Zi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Me||wi(r,n);var o=fe,h=hn;qs(r.type)&&(fe=r.stateNode,hn=!1),Zi(e,n,r),dl(r.stateNode),fe=o,hn=h;break;case 5:Me||wi(r,n);case 6:if(o=fe,h=hn,fe=null,Zi(e,n,r),fe=o,hn=h,fe!==null)if(hn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(r.stateNode)}catch(f){Jt(r,n,f)}else try{fe.removeChild(r.stateNode)}catch(f){Jt(r,n,f)}break;case 18:fe!==null&&(hn?(e=fe,h_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Fa(e)):h_(fe,r.stateNode));break;case 4:o=fe,h=hn,fe=r.stateNode.containerInfo,hn=!0,Zi(e,n,r),fe=o,hn=h;break;case 0:case 11:case 14:case 15:ks(2,r,n),Me||ks(4,r,n),Zi(e,n,r);break;case 1:Me||(wi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&fy(r,n,o)),Zi(e,n,r);break;case 21:Zi(e,n,r);break;case 22:Me=(o=Me)||r.memoizedState!==null,Zi(e,n,r),Me=o;break;default:Zi(e,n,r)}}function Ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fa(e)}catch(r){Jt(n,n.return,r)}}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fa(e)}catch(r){Jt(n,n.return,r)}}function zE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new gy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new gy),n;default:throw Error(a(435,e.tag))}}function nc(e,n){var r=zE(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=YE.bind(null,e,o);o.then(h,h)}})}function fn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(qs(T.type)){fe=T.stateNode,hn=!1;break t}break;case 5:fe=T.stateNode,hn=!1;break t;case 3:case 4:fe=T.stateNode.containerInfo,hn=!0;break t}T=T.return}if(fe===null)throw Error(a(160));vy(f,p,h),fe=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)by(n,e),n=n.sibling}var ti=null;function by(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(n,e),dn(e),o&4&&(ks(3,e,e.return),il(3,e),ks(5,e,e.return));break;case 1:fn(n,e),dn(e),o&512&&(Me||r===null||wi(r,r.return)),o&64&&$i&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ti;if(fn(n,e),dn(e),o&512&&(Me||r===null||wi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Xe(f,o,r),f[Ce]=e,Ie(f),o=f;break t;case"link":var p=b_("link","href",h).get(o+(r.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(o),Xe(f,o,r),h.head.appendChild(f);break;case"meta":if(p=b_("meta","content",h).get(o+(r.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(T,1);break e}}f=h.createElement(o),Xe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ce]=e,Ie(f),o=f}e.stateNode=o}else A_(h,e.type,e.stateNode);else e.stateNode=E_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?A_(h,e.type,e.stateNode):E_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,r.memoizedProps)}break;case 27:fn(n,e),dn(e),o&512&&(Me||r===null||wi(r,r.return)),r!==null&&o&4&&Hf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(fn(n,e),dn(e),o&512&&(Me||r===null||wi(r,r.return)),e.flags&32){h=e.stateNode;try{cn(h,"")}catch(lt){Jt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(fn(n,e),dn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(lt){Jt(e,e.return,lt)}}break;case 3:if(_c=null,h=ti,ti=gc(n.containerInfo),fn(n,e),ti=h,dn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Fa(n.containerInfo)}catch(lt){Jt(e,e.return,lt)}Qf&&(Qf=!1,Ay(e));break;case 4:o=ti,ti=gc(e.stateNode.containerInfo),fn(n,e),dn(e),ti=o;break;case 12:fn(n,e),dn(e);break;case 31:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 13:fn(n,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(sc=at()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=$i,G=Me;if($i=z||h,Me=G||R,fn(n,e),Me=G,$i=z,dn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||$i||Me||Hr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=R.stateNode;var X=R.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Jt(R,R.return,lt)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){Jt(R,R.return,lt)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?f_(q,!0):f_(R.stateNode,!1)}catch(lt){Jt(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,nc(e,r))));break;case 19:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 30:break;case 21:break;default:fn(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(my(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Gf(e);ec(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(cn(p,""),r.flags&=-33);var T=Gf(e);ec(e,T,p);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Gf(e);Ff(e,z,R);break;default:throw Error(a(161))}}catch(G){Jt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yy(e,n.alternate,n),n=n.sibling}function Hr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ks(4,n,n.return),Hr(n);break;case 1:wi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&fy(n,n.return,r),Hr(n);break;case 27:dl(n.stateNode);case 26:case 5:wi(n,n.return),Hr(n);break;case 22:n.memoizedState===null&&Hr(n);break;case 30:Hr(n);break;default:Hr(n)}e=e.sibling}}function Wi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(h,f,r),il(4,f);break;case 1:if(Wi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Jt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)tg(R[h],T)}catch(z){Jt(o,o.return,z)}}r&&p&64&&hy(f),sl(f,f.return);break;case 27:py(f);case 26:case 5:Wi(h,f,r),r&&o===null&&p&4&&dy(f),sl(f,f.return);break;case 12:Wi(h,f,r);break;case 31:Wi(h,f,r),r&&p&4&&Ty(h,f);break;case 13:Wi(h,f,r),r&&p&4&&Ey(h,f);break;case 22:f.memoizedState===null&&Wi(h,f,r),sl(f,f.return);break;case 30:break;default:Wi(h,f,r)}n=n.sibling}}function Kf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Go(r))}function Yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e))}function ei(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(e,n,r,o),n=n.sibling}function Sy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n,r,o),h&2048&&il(9,n);break;case 1:ei(e,n,r,o);break;case 3:ei(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){ei(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Jt(n,n.return,R)}}else ei(e,n,r,o);break;case 31:ei(e,n,r,o);break;case 13:ei(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ei(e,n,r,o):rl(e,n):f._visibility&2?ei(e,n,r,o):(f._visibility|=2,Va(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(p,n);break;case 24:ei(e,n,r,o),h&2048&&Yf(n.alternate,n);break;default:ei(e,n,r,o)}}function Va(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=r,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Va(f,p,T,R,h),il(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Va(f,p,T,R,h):rl(f,p):(G._visibility|=2,Va(f,p,T,R,h)),h&&z&2048&&Kf(p.alternate,p);break;case 24:Va(f,p,T,R,h),h&&z&2048&&Yf(p.alternate,p);break;default:Va(f,p,T,R,h)}n=n.sibling}}function rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:rl(r,o),h&2048&&Kf(o.alternate,o);break;case 24:rl(r,o),h&2048&&Yf(o.alternate,o);break;default:rl(r,o)}n=n.sibling}}var al=8192;function ka(e,n,r){if(e.subtreeFlags&al)for(e=e.child;e!==null;)wy(e,n,r),e=e.sibling}function wy(e,n,r){switch(e.tag){case 26:ka(e,n,r),e.flags&al&&e.memoizedState!==null&&wb(r,ti,e.memoizedState,e.memoizedProps);break;case 5:ka(e,n,r);break;case 3:case 4:var o=ti;ti=gc(e.stateNode.containerInfo),ka(e,n,r),ti=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=al,al=16777216,ka(e,n,r),al=o):ka(e,n,r));break;default:ka(e,n,r)}}function Ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ol(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];qe=o,Iy(o,e)}Ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cy(e),e=e.sibling}function Cy(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&ks(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ic(e)):ol(e);break;default:ol(e)}}function ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];qe=o,Iy(o,e)}Ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ks(8,n,n.return),ic(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ic(n));break;default:ic(n)}e=e.sibling}}function Iy(e,n){for(;qe!==null;){var r=qe;switch(r.tag){case 0:case 11:case 15:ks(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,qe=o;else t:for(r=e;qe!==null;){o=qe;var h=o.sibling,f=o.return;if(_y(o),o===r){qe=null;break t}if(h!==null){h.return=f,qe=h;break t}qe=f}}}var jE={getCacheForType:function(e){var n=Ke(Ne),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Ke(Ne).controller.signal}},BE=typeof WeakMap=="function"?WeakMap:Map,Qt=0,se=null,Ot=null,kt=0,Zt=0,Sn=null,Us=!1,Ua=!1,Xf=!1,ts=0,_e=0,Ls=0,Gr=0,$f=0,wn=0,La=0,ll=null,mn=null,Zf=!1,sc=0,xy=0,rc=1/0,ac=null,Ps=null,Pe=0,zs=null,Pa=null,es=0,Jf=0,Wf=null,Ny=null,ul=0,td=null;function Rn(){return(Qt&2)!==0&&kt!==0?kt&-kt:H.T!==null?ad():ou()}function Dy(){if(wn===0)if((kt&536870912)===0||jt){var e=yr;yr<<=1,(yr&3932160)===0&&(yr=262144),wn=e}else wn=536870912;return e=bn.current,e!==null&&(e.flags|=32),wn}function pn(e,n,r){(e===se&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(za(e,0),js(e,kt,wn,!1)),_r(e,r),((Qt&2)===0||e!==se)&&(e===se&&((Qt&2)===0&&(Gr|=r),_e===4&&js(e,kt,wn,!1)),Ri(e))}function Oy(e,n,r){if((Qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Fn(e,n),h=o?GE(e,n):nd(e,n,!0),f=o;do{if(h===0){Ua&&!o&&js(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!qE(r)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=ll;var R=T.current.memoizedState.isDehydrated;if(R&&(za(T,p).flags|=256),p=nd(T,p,!1),p!==2){if(Xf&&!R){T.errorRecoveryDisabledLanes|=f,Gr|=f,h=4;break t}f=mn,mn=h,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){za(e,0),js(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:js(o,n,wn,!Us);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=sc+300-at(),10<h)){if(js(o,n,wn,!Us),li(o,0,!0)!==0)break t;es=n,o.timeoutHandle=u_(My.bind(null,o,r,mn,ac,Zf,n,wn,Gr,La,Us,f,"Throttled",-0,0),h);break t}My(o,r,mn,ac,Zf,n,wn,Gr,La,Us,f,null,-0,0)}}break}while(!0);Ri(e)}function My(e,n,r,o,h,f,p,T,R,z,G,X,j,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},wy(n,f,X);var lt=(f&62914560)===f?sc-at():(f&4194048)===f?xy-at():0;if(lt=Rb(X,lt),lt!==null){es=f,e.cancelPendingCommit=lt(By.bind(null,e,n,f,r,o,h,p,T,R,G,X,null,j,q)),js(e,f,p,!z);return}}By(e,n,f,r,o,h,p,T,R)}function qE(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function js(e,n,r,o){n&=~$f,n&=~Gr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ee(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&vr(e,r,n)}function oc(){return(Qt&6)===0?(cl(0),!1):!0}function ed(){if(Ot!==null){if(Zt===0)var e=Ot.return;else e=Ot,Gi=kr=null,yf(e),xa=null,Qo=0,e=Ot;for(;e!==null;)cy(e.alternate,e),e=e.return;Ot=null}}function za(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,lb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),es=0,ed(),se=e,Ot=r=qi(e.current,null),kt=n,Zt=0,Sn=null,Us=!1,Ua=Fn(e,n),Xf=!1,La=wn=$f=Gr=Ls=_e=0,mn=ll=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ee(o),f=1<<h;n|=e[h],o&=~f}return ts=n,Iu(),r}function Vy(e,n){Ct=null,H.H=tl,n===Ia||n===Uu?(n=$p(),Zt=3):n===rf?(n=$p(),Zt=4):Zt=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Ot===null&&(_e=1,$u(e,kn(n,e.current)))}function ky(){var e=bn.current;return e===null?!0:(kt&4194048)===kt?zn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===zn:!1}function Uy(){var e=H.H;return H.H=tl,e===null?tl:e}function Ly(){var e=H.A;return H.A=jE,e}function lc(){_e=4,Us||(kt&4194048)!==kt&&bn.current!==null||(Ua=!0),(Ls&134217727)===0&&(Gr&134217727)===0||se===null||js(se,kt,wn,!1)}function nd(e,n,r){var o=Qt;Qt|=2;var h=Uy(),f=Ly();(se!==e||kt!==n)&&(ac=null,za(e,n)),n=!1;var p=_e;t:do try{if(Zt!==0&&Ot!==null){var T=Ot,R=Sn;switch(Zt){case 8:ed(),p=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var z=Zt;if(Zt=0,Sn=null,ja(e,T,R,z),r&&Ua){p=0;break t}break;default:z=Zt,Zt=0,Sn=null,ja(e,T,R,z)}}HE(),p=_e;break}catch(G){Vy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Gi=kr=null,Qt=o,H.H=h,H.A=f,Ot===null&&(se=null,kt=0,Iu()),p}function HE(){for(;Ot!==null;)Py(Ot)}function GE(e,n){var r=Qt;Qt|=2;var o=Uy(),h=Ly();se!==e||kt!==n?(ac=null,rc=at()+500,za(e,n)):Ua=Fn(e,n);t:do try{if(Zt!==0&&Ot!==null){n=Ot;var f=Sn;e:switch(Zt){case 1:Zt=0,Sn=null,ja(e,n,f,1);break;case 2:case 9:if(Yp(f)){Zt=0,Sn=null,zy(n);break}n=function(){Zt!==2&&Zt!==9||se!==e||(Zt=7),Ri(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Yp(f)?(Zt=0,Sn=null,zy(n)):(Zt=0,Sn=null,ja(e,n,f,7));break;case 5:var p=null;switch(Ot.tag){case 26:p=Ot.memoizedState;case 5:case 27:var T=Ot;if(p?S_(p):T.stateNode.complete){Zt=0,Sn=null;var R=T.sibling;if(R!==null)Ot=R;else{var z=T.return;z!==null?(Ot=z,uc(z)):Ot=null}break e}}Zt=0,Sn=null,ja(e,n,f,5);break;case 6:Zt=0,Sn=null,ja(e,n,f,6);break;case 8:ed(),_e=6;break t;default:throw Error(a(462))}}FE();break}catch(G){Vy(e,G)}while(!0);return Gi=kr=null,H.H=o,H.A=h,Qt=r,Ot!==null?0:(se=null,kt=0,Iu(),_e)}function FE(){for(;Ot!==null&&!To();)Py(Ot)}function Py(e){var n=ly(e.alternate,e,ts);e.memoizedProps=e.pendingProps,n===null?uc(e):Ot=n}function zy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=ny(r,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=ny(r,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:yf(n);default:cy(r,n),n=Ot=Lp(n,ts),n=ly(r,n,ts)}e.memoizedProps=e.pendingProps,n===null?uc(e):Ot=n}function ja(e,n,r,o){Gi=kr=null,yf(n),xa=null,Qo=0;var h=n.return;try{if(ME(e,h,n,r,kt)){_e=1,$u(e,kn(r,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;_e=1,$u(e,kn(r,e.current)),Ot=null;return}n.flags&32768?(jt||o===1?e=!0:Ua||(kt&536870912)!==0?e=!1:(Us=e=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),jy(n,e)):uc(n)}function uc(e){var n=e;do{if((n.flags&32768)!==0){jy(n,Us);return}e=n.return;var r=UE(n.alternate,n,ts);if(r!==null){Ot=r;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);_e===0&&(_e=5)}function jy(e,n){do{var r=LE(e.alternate,e);if(r!==null){r.flags&=32767,Ot=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=r}while(e!==null);_e=6,Ot=null}function By(e,n,r,o,h,f,p,T,R){e.cancelPendingCommit=null;do cc();while(Pe!==0);if((Qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Vh(e,r,f,p,T,R),e===se&&(Ot=se=null,kt=0),Pa=n,zs=e,es=r,Jf=f,Wf=h,Ny=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,XE(Te,function(){return Qy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=nt.p,nt.p=2,p=Qt,Qt|=4;try{PE(e,n,r)}finally{Qt=p,nt.p=h,H.T=o}}Pe=1,qy(),Hy(),Gy()}}function qy(){if(Pe===1){Pe=0;var e=zs,n=Pa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Qt;Qt|=4;try{by(n,e);var f=md,p=Ip(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Cp(T.ownerDocument.documentElement,T)){if(R!==null&&Ph(T)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var X=T.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=T.textContent.length,gt=Math.min(R.start,lt),ne=R.end===void 0?gt:Math.min(R.end,lt);!q.extend&&gt>ne&&(p=ne,ne=gt,gt=p);var k=Rp(T,gt),O=Rp(T,ne);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=X.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),gt>ne?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(X=[],q=T;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}bc=!!dd,md=dd=null}finally{Qt=h,nt.p=o,H.T=r}}e.current=n,Pe=2}}function Hy(){if(Pe===2){Pe=0;var e=zs,n=Pa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Qt;Qt|=4;try{yy(e,n.alternate,n)}finally{Qt=h,nt.p=o,H.T=r}}Pe=3}}function Gy(){if(Pe===4||Pe===3){Pe=0,Q();var e=zs,n=Pa,r=es,o=Ny;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,Pa=zs=null,Fy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ps=null),Pi(r),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=nt.p,nt.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{H.T=n,nt.p=h}}(es&3)!==0&&cc(),Ri(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===td?ul++:(ul=0,td=e):ul=0,cl(0)}}function Fy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Go(n)))}function cc(){return qy(),Hy(),Gy(),Qy()}function Qy(){if(Pe!==5)return!1;var e=zs,n=Jf;Jf=0;var r=Pi(es),o=H.T,h=nt.p;try{nt.p=32>r?32:r,H.T=null,r=Wf,Wf=null;var f=zs,p=es;if(Pe=0,Pa=zs=null,es=0,(Qt&6)!==0)throw Error(a(331));var T=Qt;if(Qt|=4,Cy(f.current),Sy(f,f.current,p,r),Qt=T,cl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Gn,f)}catch{}return!0}finally{nt.p=h,H.T=o,Fy(e,n)}}function Ky(e,n,r){n=kn(r,n),n=Of(e.stateNode,n,2),e=Os(e,n,2),e!==null&&(_r(e,2),Ri(e))}function Jt(e,n,r){if(e.tag===3)Ky(e,e,r);else for(;n!==null;){if(n.tag===3){Ky(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ps===null||!Ps.has(o))){e=kn(r,e),r=Yg(2),o=Os(n,r,2),o!==null&&(Xg(r,o,n,e),_r(o,2),Ri(o));break}}n=n.return}}function id(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new BE;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Xf=!0,h.add(r),e=QE.bind(null,e,n,r),n.then(e,e))}function QE(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,se===e&&(kt&r)===r&&(_e===4||_e===3&&(kt&62914560)===kt&&300>at()-sc?(Qt&2)===0&&za(e,0):$f|=r,La===kt&&(La=0)),Ri(e)}function Yy(e,n){n===0&&(n=au()),e=Or(e,n),e!==null&&(_r(e,n),Ri(e))}function KE(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Yy(e,r)}function YE(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Yy(e,r)}function XE(e,n){return ve(e,n)}var hc=null,Ba=null,sd=!1,fc=!1,rd=!1,Bs=0;function Ri(e){e!==Ba&&e.next===null&&(Ba===null?hc=Ba=e:Ba=Ba.next=e),fc=!0,sd||(sd=!0,ZE())}function cl(e,n){if(!rd&&fc){rd=!0;do for(var r=!1,o=hc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Ee(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Jy(o,f))}else f=kt,f=li(o,o===se?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Fn(o,f)||(r=!0,Jy(o,f));o=o.next}while(r);rd=!1}}function $E(){Xy()}function Xy(){fc=sd=!1;var e=0;Bs!==0&&ob()&&(e=Bs);for(var n=at(),r=null,o=hc;o!==null;){var h=o.next,f=$y(o,n);f===0?(o.next=null,r===null?hc=h:r.next=h,h===null&&(Ba=r)):(r=o,(e!==0||(f&3)!==0)&&(fc=!0)),o=h}Pe!==0&&Pe!==5||cl(e),Bs!==0&&(Bs=0)}function $y(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Ee(f),T=1<<p,R=h[p];R===-1?((T&r)===0||(T&o)!==0)&&(h[p]=Mh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=se,r=kt,r=li(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ri(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Fn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ri(o),Pi(r)){case 2:case 8:r=tn;break;case 32:r=Te;break;case 268435456:r=gs;break;default:r=Te}return o=Zy.bind(null,e),r=ve(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ri(o),e.callbackPriority=2,e.callbackNode=null,2}function Zy(e,n){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(cc()&&e.callbackNode!==r)return null;var o=kt;return o=li(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Oy(e,o,n),$y(e,at()),e.callbackNode!=null&&e.callbackNode===r?Zy.bind(null,e):null)}function Jy(e,n){if(cc())return null;Oy(e,n,!0)}function ZE(){ub(function(){(Qt&6)!==0?ve(ce,$E):Xy()})}function ad(){if(Bs===0){var e=Ra;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Bs=e}return Bs}function Wy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ha(""+e)}function t_(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function JE(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Wy((h[je]||null).action),p=o.submitter;p&&(n=(n=p[je]||null)?Wy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new vi("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Bs!==0){var R=p?t_(h,p):new FormData(h);Rf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=p?t_(h,p):new FormData(h),Rf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],WE=ld.toLowerCase(),tb=ld[0].toUpperCase()+ld.slice(1);Wn(WE,"on"+tb)}Wn(Dp,"onAnimationEnd"),Wn(Op,"onAnimationIteration"),Wn(Mp,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(gE,"onTransitionRun"),Wn(yE,"onTransitionStart"),Wn(_E,"onTransitionCancel"),Wn(Vp,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function e_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(T=o[p],R=T.instance,z=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=R}}}}function Mt(e,n){var r=n[aa];r===void 0&&(r=n[aa]=new Set);var o=e+"__bubble";r.has(o)||(n_(n,e,2,!1),r.add(o))}function ud(e,n,r){var o=0;n&&(o|=4),n_(r,e,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[dc]){e[dc]=!0,Ao.forEach(function(r){r!=="selectionchange"&&(eb.has(r)||ud(r,!1,e),ud(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[dc]||(n[dc]=!0,ud("selectionchange",!1,n))}}function n_(e,n,r,o){switch(D_(n)){case 2:var h=xb;break;case 8:h=Nb;break;default:h=wd}r=h.bind(null,n,r,e),h=void 0,!Sr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function hd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=fi(T),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}T=T.parentNode}}o=o.return}bs(function(){var z=f,G=Dn(r),X=[];t:{var j=kp.get(e);if(j!==void 0){var q=vi,lt=e;switch(e){case"keypress":if(Rr(r)===0)break t;case"keydown":case"keyup":q=Su;break;case"focusin":lt="focus",q=Ir;break;case"focusout":lt="blur",q=Ir;break;case"beforeblur":case"afterblur":q=Ir;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Dp:case Op:case Mp:q=yu;break;case Vp:q=E;break;case"scroll":case"scrollend":q=ko;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Bi;break;case"toggle":case"beforetoggle":q=Rt}var gt=(n&4)!==0,ne=!gt&&(e==="scroll"||e==="scrollend"),k=gt?j!==null?j+"Capture":null:j;gt=[];for(var O=z,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Xn(O,k),K!=null&&gt.push(fl(O,K,P))),ne)break;O=O.return}0<gt.length&&(j=new q(j,lt,null,r,G),X.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==Oo&&(lt=r.relatedTarget||r.fromElement)&&(fi(lt)||lt[ci]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=r.relatedTarget||r.toElement,q=z,lt=lt?fi(lt):null,lt!==null&&(ne=c(lt),gt=lt.tag,lt!==ne||gt!==5&&gt!==27&&gt!==6)&&(lt=null)):(q=null,lt=z),q!==lt)){if(gt=Uo,K="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Bi,K="onPointerLeave",k="onPointerEnter",O="pointer"),ne=q==null?j:_n(q),P=lt==null?j:_n(lt),j=new gt(K,O+"leave",q,r,G),j.target=ne,j.relatedTarget=P,K=null,fi(G)===z&&(gt=new gt(k,O+"enter",lt,r,G),gt.target=P,gt.relatedTarget=ne,K=gt),ne=K,q&&lt)e:{for(gt=nb,k=q,O=lt,P=0,K=k;K;K=gt(K))P++;K=0;for(var dt=O;dt;dt=gt(dt))K++;for(;0<P-K;)k=gt(k),P--;for(;0<K-P;)O=gt(O),K--;for(;P--;){if(k===O||O!==null&&k===O.alternate){gt=k;break e}k=gt(k),O=gt(O)}gt=null}else gt=null;q!==null&&i_(X,j,q,gt,!1),lt!==null&&ne!==null&&i_(X,ne,lt,gt,!0)}}t:{if(j=z?_n(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var qt=Tp;else if(_p(j))if(Ep)qt=dE;else{qt=hE;var ct=cE}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ca(z.elementType)&&(qt=Tp):qt=fE;if(qt&&(qt=qt(e,z))){vp(X,qt,r,G);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&xo(j,"number",j.value)}switch(ct=z?_n(z):window,e){case"focusin":(_p(ct)||ct.contentEditable==="true")&&(_a=ct,zh=z,Bo=null);break;case"focusout":Bo=zh=_a=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,xp(X,r,G);break;case"selectionchange":if(pE)break;case"keydown":case"keyup":xp(X,r,G)}var xt;if(Ft)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ya?xr(e,r)&&(Ut="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ut="onCompositionStart");Ut&&(bi&&r.locale!=="ko"&&(ya||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ya&&(xt=Vo()):(_i=G,Mo="value"in _i?_i.value:_i.textContent,ya=!0)),ct=mc(z,Ut),0<ct.length&&(Ut=new Ei(Ut,e,null,r,G),X.push({event:Ut,listeners:ct}),xt?Ut.data=xt:(xt=ga(r),xt!==null&&(Ut.data=xt)))),(xt=Mn?aE(e,r):oE(e,r))&&(Ut=mc(z,"onBeforeInput"),0<Ut.length&&(ct=new Ei("onBeforeInput","beforeinput",null,r,G),X.push({event:ct,listeners:Ut}),ct.data=xt)),JE(X,e,z,r,G)}e_(X,n)})}function fl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function mc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xn(e,r),h!=null&&o.unshift(fl(e,h,f)),h=Xn(e,n),h!=null&&o.push(fl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function nb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function i_(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var T=r,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||z===null||(R=z,h?(z=Xn(r,f),z!=null&&p.unshift(fl(r,z,R))):h||(z=Xn(r,f),z!=null&&p.push(fl(r,z,R)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var ib=/\r\n?/g,sb=/\u0000|\uFFFD/g;function s_(e){return(typeof e=="string"?e:""+e).replace(ib,`
`).replace(sb,"")}function r_(e,n){return n=s_(n),s_(e)===n}function ee(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(e,""+o);break;case"className":vn(e,"class",o);break;case"tabIndex":vn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,r,o);break;case"style":Do(e,o,f);break;case"data":if(n!=="object"){vn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ha(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ee(e,n,"name",h.name,h,null),ee(e,n,"formEncType",h.formEncType,h,null),ee(e,n,"formMethod",h.formMethod,h,null),ee(e,n,"formTarget",h.formTarget,h,null)):(ee(e,n,"encType",h.encType,h,null),ee(e,n,"method",h.method,h,null),ee(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ha(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ha(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),la(e,"popover",o);break;case"xlinkActuate":xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":la(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=mu.get(r)||r,la(e,r,o))}}function fd(e,n,r,o,h,f){switch(r){case"style":Do(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?cn(e,o):(typeof o=="number"||typeof o=="bigint")&&cn(e,""+o);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[je]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):la(e,r,o)}}}function Xe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(e,n,f,p,r,null)}}h&&ee(e,n,"srcSet",r.srcSet,r,null),o&&ee(e,n,"src",r.src,r,null);return;case"input":Mt("invalid",e);var T=f=p=h=null,R=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ee(e,n,o,G,r,null)}}hu(e,f,T,R,z,p,h,!1);return;case"select":Mt("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:ee(e,n,h,T,r,null)}n=f,r=p,e.multiple=!!o,n!=null?_s(e,!!o,n,!1):r!=null&&_s(e,!!o,r,!0);return;case"textarea":Mt("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ee(e,n,p,T,r,null)}vs(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ee(e,n,R,o,r,null));return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(o=0;o<hl.length;o++)Mt(hl[o],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(e,n,z,o,r,null)}return;default:if(ca(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&fd(e,n,G,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&ee(e,n,T,o,r,null))}function rb(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,R=null,z=null,G=null;for(q in r){var X=r[q];if(r.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(q)||ee(e,n,q,null,o,X)}}for(var j in o){var q=o[j];if(X=r[j],o.hasOwnProperty(j)&&(q!=null||X!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&ee(e,n,j,q,o,X)}}ua(e,p,T,R,z,G,f,h);return;case"select":q=p=T=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||ee(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==R&&ee(e,n,h,f,o,R)}n=T,r=p,o=q,j!=null?_s(e,!!r,j,!1):!!o!=!!r&&(n!=null?_s(e,!!r,n,!0):_s(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ee(e,n,T,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ee(e,n,p,h,o,f)}fu(e,j,q);return;case"option":for(var lt in r)j=r[lt],r.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:ee(e,n,lt,null,o,j));for(R in o)j=o[R],q=r[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":ee(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)j=r[gt],r.hasOwnProperty(gt)&&j!=null&&!o.hasOwnProperty(gt)&&ee(e,n,gt,null,o,j);for(z in o)if(j=o[z],q=r[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ee(e,n,z,j,o,q)}return;default:if(ca(n)){for(var ne in r)j=r[ne],r.hasOwnProperty(ne)&&j!==void 0&&!o.hasOwnProperty(ne)&&fd(e,n,ne,void 0,o,j);for(G in o)j=o[G],q=r[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||fd(e,n,G,j,o,q);return}}for(var k in r)j=r[k],r.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&ee(e,n,k,null,o,j);for(X in o)j=o[X],q=r[X],!o.hasOwnProperty(X)||j===q||j==null&&q==null||ee(e,n,X,j,o,q)}function a_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ab(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&a_(p)){for(p=0,T=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],z=R.startTime;if(z>T)break;var G=R.transferSize,X=R.initiatorType;G&&a_(X)&&(R=R.responseEnd,p+=G*(R<T?1:(T-z)/(R-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function o_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function ob(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,ub=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(e){return c_.resolve(null).then(e).catch(cb)}:u_;function cb(e){setTimeout(function(){throw e})}function qs(e){return e==="head"}function h_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Fa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")dl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,dl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[hi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&dl(e.ownerDocument.body);r=h}while(r);Fa(n)}function f_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yd(r),oa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function hb(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function fb(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=jn(e.nextSibling),e===null))return null;return e}function d_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jn(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function db(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Td=null;function m_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return jn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function p_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function g_(e,n,r){switch(n=pc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function dl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);oa(e)}var Bn=new Map,y_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ns=nt.d;nt.d={f:mb,r:pb,D:gb,C:yb,L:_b,m:vb,X:Eb,S:Tb,M:bb};function mb(){var e=ns.f(),n=oc();return e||n}function pb(e){var n=Nn(e);n!==null&&n.tag===5&&n.type==="form"?Vg(n):ns.r(e)}var qa=typeof document>"u"?null:document;function __(e,n,r){var o=qa;if(o&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),y_.has(h)||(y_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Xe(n,"link",e),Ie(n),o.head.appendChild(n)))}}function gb(e){ns.D(e),__("dns-prefetch",e,null)}function yb(e,n){ns.C(e,n),__("preconnect",e,n)}function _b(e,n,r){ns.L(e,n,r);var o=qa;if(o&&e&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+un(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+un(r.imageSizes)+'"]')):h+='[href="'+un(e)+'"]';var f=h;switch(n){case"style":f=Ha(e);break;case"script":f=Ga(e)}Bn.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Bn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ml(f))||n==="script"&&o.querySelector(pl(f))||(n=o.createElement("link"),Xe(n,"link",e),Ie(n),o.head.appendChild(n)))}}function vb(e,n){ns.m(e,n);var r=qa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ga(e)}if(!Bn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Bn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(pl(f)))return}o=r.createElement("link"),Xe(o,"link",e),Ie(o),r.head.appendChild(o)}}}function Tb(e,n,r){ns.S(e,n,r);var o=qa;if(o&&e){var h=di(o).hoistableStyles,f=Ha(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(ml(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Bn.get(f))&&Ed(e,r);var R=p=o.createElement("link");Ie(R),Xe(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function Eb(e,n){ns.X(e,n);var r=qa;if(r&&e){var o=di(r).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=r.querySelector(pl(h)),f||(e=A({src:e,async:!0},n),(n=Bn.get(h))&&bd(e,n),f=r.createElement("script"),Ie(f),Xe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function bb(e,n){ns.M(e,n);var r=qa;if(r&&e){var o=di(r).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=r.querySelector(pl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Bn.get(h))&&bd(e,n),f=r.createElement("script"),Ie(f),Xe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function v_(e,n,r,o){var h=(h=bt.current)?gc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ha(r.href),r=di(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ha(r.href);var f=di(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ml(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Bn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Bn.set(e,r),f||Ab(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ga(r),r=di(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ha(e){return'href="'+un(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function T_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Ab(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Xe(n,"link",r),Ie(n),e.head.appendChild(n))}function Ga(e){return'[src="'+un(e)+'"]'}function pl(e){return"script[async]"+e}function E_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+un(r.href)+'"]');if(o)return n.instance=o,Ie(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ie(o),Xe(o,"style",h),yc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ha(r.href);var f=e.querySelector(ml(h));if(f)return n.state.loading|=4,n.instance=f,Ie(f),f;o=T_(r),(h=Bn.get(h))&&Ed(o,h),f=(e.ownerDocument||e).createElement("link"),Ie(f);var p=f;return p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),Xe(f,"link",o),n.state.loading|=4,yc(f,r.precedence,e),n.instance=f;case"script":return f=Ga(r.src),(h=e.querySelector(pl(f)))?(n.instance=h,Ie(h),h):(o=r,(h=Bn.get(f))&&(o=A({},r),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ie(h),Xe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,r.precedence,e));return n.instance}function yc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function b_(e,n,r){if(_c===null){var o=new Map,h=_c=new Map;h.set(r,o)}else h=_c,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[hi]||f[Ce]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function A_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function Sb(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function wb(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ha(o.href),f=n.querySelector(ml(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ie(f);return}f=n.ownerDocument||n,o=T_(o),(h=Bn.get(h))&&Ed(o,h),f=f.createElement("link"),Ie(f);var p=f;p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),Xe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=vc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Ad=0;function Rb(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*ab());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,n.forEach(Cb,e),Tc=null,vc.call(e))}function Cb(e,n){if(!(n.state.loading&4)){var r=Tc.get(e);if(r)var o=r.get(null);else{r=new Map,Tc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var gl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function Ib(e,n,r,o,h,f,p,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function w_(e,n,r,o,h,f,p,T,R,z,G,X){return e=new Ib(e,n,r,p,R,z,G,X,T),n=1,f===!0&&(n|=24),f=En(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},af(f),e}function R_(e){return e?(e=Ea,e):Ea}function C_(e,n,r,o,h,f){h=R_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ds(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Os(e,o,n),r!==null&&(pn(r,e,n),Yo(r,e,n))}function I_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Sd(e,n){I_(e,n),(e=e.alternate)&&I_(e,n)}function x_(e){if(e.tag===13||e.tag===31){var n=Or(e,67108864);n!==null&&pn(n,e,67108864),Sd(e,67108864)}}function N_(e){if(e.tag===13||e.tag===31){var n=Rn();n=Tr(n);var r=Or(e,n);r!==null&&pn(r,e,n),Sd(e,n)}}var bc=!0;function xb(e,n,r,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=2,wd(e,n,r,o)}finally{nt.p=f,H.T=h}}function Nb(e,n,r,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=8,wd(e,n,r,o)}finally{nt.p=f,H.T=h}}function wd(e,n,r,o){if(bc){var h=Rd(o);if(h===null)hd(e,n,o,Ac,r),O_(e,o);else if(Ob(h,e,n,r,o))o.stopPropagation();else if(O_(e,o),n&4&&-1<Db.indexOf(e)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=oi(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var R=1<<31-Ee(p);T.entanglements[1]|=R,p&=~R}Ri(f),(Qt&6)===0&&(rc=at()+500,cl(0))}}break;case 31:case 13:T=Or(f,2),T!==null&&pn(T,f,2),oc(),Sd(f,2)}if(f=Rd(o),f===null&&hd(e,n,o,Ac,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(e,n,o,null,r)}}function Rd(e){return e=Dn(e),Cd(e)}var Ac=null;function Cd(e){if(Ac=null,e=fi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function D_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ht()){case ce:return 2;case tn:return 8;case Te:case ps:return 32;case gs:return 268435456;default:return 32}default:return 32}}var Id=!1,Hs=null,Gs=null,Fs=null,yl=new Map,_l=new Map,Qs=[],Db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(e,n){switch(e){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(n.pointerId)}}function vl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Nn(n),n!==null&&x_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Ob(e,n,r,o,h){switch(n){case"focusin":return Hs=vl(Hs,e,n,r,o,h),!0;case"dragenter":return Gs=vl(Gs,e,n,r,o,h),!0;case"mouseover":return Fs=vl(Fs,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return yl.set(f,vl(yl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,vl(_l.get(f)||null,e,n,r,o,h)),!0}return!1}function M_(e){var n=fi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Qn(e.priority,function(){N_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,Qn(e.priority,function(){N_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Rd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Oo=o,r.target.dispatchEvent(o),Oo=null}else return n=Nn(r),n!==null&&x_(n),e.blockedOn=r,!1;n.shift()}return!0}function V_(e,n,r){Sc(e)&&r.delete(n)}function Mb(){Id=!1,Hs!==null&&Sc(Hs)&&(Hs=null),Gs!==null&&Sc(Gs)&&(Gs=null),Fs!==null&&Sc(Fs)&&(Fs=null),yl.forEach(V_),_l.forEach(V_)}function wc(e,n){e.blockedOn===n&&(e.blockedOn=null,Id||(Id=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Mb)))}var Rc=null;function k_(e){Rc!==e&&(Rc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||r)===null)continue;break}var f=Nn(r);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Fa(e){function n(R){return wc(R,e)}Hs!==null&&wc(Hs,e),Gs!==null&&wc(Gs,e),Fs!==null&&wc(Fs,e),yl.forEach(n),_l.forEach(n);for(var r=0;r<Qs.length;r++){var o=Qs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Qs.length&&(r=Qs[0],r.blockedOn===null);)M_(r),r.blockedOn===null&&Qs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[je]||null;if(typeof f=="function")p||k_(r);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[je]||null)T=p.formAction;else if(Cd(h)!==null)continue}else T=p.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),k_(r)}}}function U_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}Cc.prototype.render=xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Rn();C_(r,o,e,n,null,null)},Cc.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;C_(e.current,2,null,e,null,null),oc(),n[ci]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ou();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Qs.length&&n!==0&&n<Qs[r].priority;r++);Qs.splice(r,0,e),r===0&&M_(e)}};var L_=t.version;if(L_!=="19.2.3")throw Error(a(527,L_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Vb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Gn=Ic.inject(Vb),Ge=Ic}catch{}}return El.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Gg,f=Fg,p=Qg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=w_(e,1,!1,null,null,r,o,null,h,f,p,U_),e[ci]=n.current,cd(e),new xd(n)},El.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Gg,p=Fg,T=Qg,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=w_(e,1,!0,n,r??null,o,h,R,f,p,T,U_),n.context=R_(null),r=n.current,o=Rn(),o=Tr(o),h=Ds(o),h.callback=null,Os(r,h,o),r=o,n.current.lanes=r,_r(n,r),Ri(n),e[ci]=n.current,cd(e),new Cc(n)},El.version="19.2.3",El}var K_;function Gb(){if(K_)return Od.exports;K_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Od.exports=Hb(),Od.exports}var Fb=Gb();const Qb=()=>{};var Y_={};const xv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Kb=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let M=(g&15)<<2|y>>6,F=y&63;_||(F=64,d||(M=64)),a.push(i[b],i[A],i[M],i[F])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(xv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Kb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||A==null)throw new Yb;const M=c<<2|g>>4;if(a.push(M),y!==64){const F=g<<4&240|y>>2;if(a.push(F),A!==64){const J=y<<6&192|A;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Yb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xb=function(s){const t=xv(s);return Nv.encodeByteArray(t,!0)},Yc=function(s){return Xb(s).replace(/\./g,"")},Dv=function(s){try{return Nv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function $b(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Zb=()=>$b().__FIREBASE_DEFAULTS__,Jb=()=>{if(typeof process>"u"||typeof Y_>"u")return;const s=Y_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Wb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Dv(s[1]);return t&&JSON.parse(t)},mh=()=>{try{return Qb()||Zb()||Jb()||Wb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ov=s=>mh()?.emulatorHosts?.[s],tA=s=>{const t=Ov(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Mv=()=>mh()?.config,Vv=s=>mh()?.[`_${s}`];class eA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function co(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kv(s){return(await fetch(s,{credentials:"include"})).ok}function nA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Rl={};function iA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?s.emulator.push(t):s.prod.push(t);return s}function sA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let X_=!1;function Uv(s,t){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Rl[s]===t||Rl[s]||X_)return;Rl[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=iA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{X_=!0,d()},M}function b(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=sA(a),F=i("text"),J=document.getElementById(F)||document.createElement("span"),tt=i("learnmore"),W=document.getElementById(tt)||document.createElement("a"),ut=i("preprendIcon"),Et=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pt=M.element;g(pt),b(W,tt);const vt=y();_(Et,ut),pt.append(Et,J,W,vt),document.body.appendChild(pt)}c?(J.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function aA(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cA(){const s=an();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function hA(){return!aA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fA(){try{return typeof indexedDB=="object"}catch{return!1}}function dA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const mA="FirebaseError";class fs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=mA,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?pA(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new fs(l,g,a)}}function pA(s,t){return s.replace(gA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const gA=/\{\$([^}]+)}/g;function yA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Zr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if($_(c)&&$_(d)){if(!Zr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function $_(s){return s!==null&&typeof s=="object"}function Fl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function _A(s,t){const i=new vA(s,t);return i.subscribe.bind(i)}class vA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");TA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ud(){}function Je(s){return s&&s._delegate?s._delegate:s}class Jr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Qr="[DEFAULT]";class EA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new eA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AA(t))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qr){return this.instances.has(t)}getOptions(t=Qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:bA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Qr){return this.component?this.component.multipleInstances?t:Qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bA(s){return s===Qr?void 0:s}function AA(s){return s.instantiationMode==="EAGER"}class SA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new EA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const wA={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},RA=Lt.INFO,CA={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},IA=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=CA[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sm{constructor(t){this.name=t,this._logLevel=RA,this._logHandler=IA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const xA=(s,t)=>t.some(i=>s instanceof i);let Z_,J_;function NA(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DA(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lv=new WeakMap,Xd=new WeakMap,Pv=new WeakMap,Ld=new WeakMap,wm=new WeakMap;function OA(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(tr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Lv.set(i,s)}).catch(()=>{}),wm.set(t,s),t}function MA(s){if(Xd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Xd.set(s,t)}let $d={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Xd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Pv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return tr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function VA(s){$d=s($d)}function kA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Pd(this),t,...i);return Pv.set(a,t.sort?t.sort():[t]),tr(a)}:DA().includes(s)?function(...t){return s.apply(Pd(this),t),tr(Lv.get(this))}:function(...t){return tr(s.apply(Pd(this),t))}}function UA(s){return typeof s=="function"?kA(s):(s instanceof IDBTransaction&&MA(s),xA(s,NA())?new Proxy(s,$d):s)}function tr(s){if(s instanceof IDBRequest)return OA(s);if(Ld.has(s))return Ld.get(s);const t=UA(s);return t!==s&&(Ld.set(s,t),wm.set(t,s)),t}const Pd=s=>wm.get(s);function LA(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=tr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(tr(d.result),_.oldVersion,_.newVersion,tr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const PA=["get","getKey","getAll","getAllKeys","count"],zA=["put","add","delete","clear"],zd=new Map;function W_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=zA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||PA.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return zd.set(t,c),c}VA(s=>({...s,get:(t,i,a)=>W_(t,i)||s.get(t,i,a),has:(t,i)=>!!W_(t,i)||s.has(t,i)}));class jA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(BA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function BA(s){return s.getComponent()?.type==="VERSION"}const Zd="@firebase/app",t0="0.14.6";const as=new Sm("@firebase/app"),qA="@firebase/app-compat",HA="@firebase/analytics-compat",GA="@firebase/analytics",FA="@firebase/app-check-compat",QA="@firebase/app-check",KA="@firebase/auth",YA="@firebase/auth-compat",XA="@firebase/database",$A="@firebase/data-connect",ZA="@firebase/database-compat",JA="@firebase/functions",WA="@firebase/functions-compat",tS="@firebase/installations",eS="@firebase/installations-compat",nS="@firebase/messaging",iS="@firebase/messaging-compat",sS="@firebase/performance",rS="@firebase/performance-compat",aS="@firebase/remote-config",oS="@firebase/remote-config-compat",lS="@firebase/storage",uS="@firebase/storage-compat",cS="@firebase/firestore",hS="@firebase/ai",fS="@firebase/firestore-compat",dS="firebase",mS="12.6.0";const Jd="[DEFAULT]",pS={[Zd]:"fire-core",[qA]:"fire-core-compat",[GA]:"fire-analytics",[HA]:"fire-analytics-compat",[QA]:"fire-app-check",[FA]:"fire-app-check-compat",[KA]:"fire-auth",[YA]:"fire-auth-compat",[XA]:"fire-rtdb",[$A]:"fire-data-connect",[ZA]:"fire-rtdb-compat",[JA]:"fire-fn",[WA]:"fire-fn-compat",[tS]:"fire-iid",[eS]:"fire-iid-compat",[nS]:"fire-fcm",[iS]:"fire-fcm-compat",[sS]:"fire-perf",[rS]:"fire-perf-compat",[aS]:"fire-rc",[oS]:"fire-rc-compat",[lS]:"fire-gcs",[uS]:"fire-gcs-compat",[cS]:"fire-fst",[fS]:"fire-fst-compat",[hS]:"fire-vertex","fire-js":"fire-js",[dS]:"fire-js-all"};const Xc=new Map,gS=new Map,Wd=new Map;function e0(s,t){try{s.container.addComponent(t)}catch(i){as.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function io(s){const t=s.name;if(Wd.has(t))return as.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,s);for(const i of Xc.values())e0(i,s);for(const i of gS.values())e0(i,s);return!0}function Rm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function qn(s){return s==null?!1:s.settings!==void 0}const yS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new Gl("app","Firebase",yS);class _S{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const ho=mS;function zv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw er.create("bad-app-name",{appName:String(l)});if(i||(i=Mv()),!i)throw er.create("no-options");const c=Xc.get(l);if(c){if(Zr(i,c.options)&&Zr(a,c.config))return c;throw er.create("duplicate-app",{appName:l})}const d=new SA(l);for(const _ of Wd.values())d.addComponent(_);const g=new _S(i,a,d);return Xc.set(l,g),g}function jv(s=Jd){const t=Xc.get(s);if(!t&&s===Jd&&Mv())return zv();if(!t)throw er.create("no-app",{appName:s});return t}function nr(s,t,i){let a=pS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),as.warn(d.join(" "));return}io(new Jr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const vS="firebase-heartbeat-database",TS=1,Ol="firebase-heartbeat-store";let jd=null;function Bv(){return jd||(jd=LA(vS,TS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(s=>{throw er.create("idb-open",{originalErrorMessage:s.message})})),jd}async function ES(s){try{const i=(await Bv()).transaction(Ol),a=await i.objectStore(Ol).get(qv(s));return await i.done,a}catch(t){if(t instanceof fs)as.warn(t.message);else{const i=er.create("idb-get",{originalErrorMessage:t?.message});as.warn(i.message)}}}async function n0(s,t){try{const a=(await Bv()).transaction(Ol,"readwrite");await a.objectStore(Ol).put(t,qv(s)),await a.done}catch(i){if(i instanceof fs)as.warn(i.message);else{const a=er.create("idb-set",{originalErrorMessage:i?.message});as.warn(a.message)}}}function qv(s){return`${s.name}!${s.options.appId}`}const bS=1024,AS=30;class SS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new RS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=i0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>AS){const l=CS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){as.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=i0(),{heartbeatsToSend:i,unsentEntries:a}=wS(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return as.warn(t),""}}}function i0(){return new Date().toISOString().substring(0,10)}function wS(s,t=bS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),s0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),s0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class RS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fA()?dA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ES(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return n0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return n0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function s0(s){return Yc(JSON.stringify({version:2,heartbeats:s})).length}function CS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function IS(s){io(new Jr("platform-logger",t=>new jA(t),"PRIVATE")),io(new Jr("heartbeat",t=>new SS(t),"PRIVATE")),nr(Zd,t0,s),nr(Zd,t0,"esm2020"),nr("fire-js","")}IS("");var xS="firebase",NS="12.7.0";nr(xS,NS,"app");function Hv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DS=Hv,Gv=new Gl("auth","Firebase",Hv());const $c=new Sm("@firebase/auth");function OS(s,...t){$c.logLevel<=Lt.WARN&&$c.warn(`Auth (${ho}): ${s}`,...t)}function Lc(s,...t){$c.logLevel<=Lt.ERROR&&$c.error(`Auth (${ho}): ${s}`,...t)}function os(s,...t){throw Cm(s,...t)}function Ii(s,...t){return Cm(s,...t)}function Fv(s,t,i){const a={...DS(),[t]:i};return new Gl("auth","Firebase",a).create(t,{appName:s.name})}function rs(s){return Fv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Gv.create(s,...t)}function Tt(s,t,...i){if(!s)throw Cm(t,...i)}function is(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Lc(t),new Error(t)}function ls(s,t){s||is(t)}function tm(){return typeof self<"u"&&self.location?.href||""}function MS(){return r0()==="http:"||r0()==="https:"}function r0(){return typeof self<"u"&&self.location?.protocol||null}function VS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MS()||lA()||"connection"in navigator)?navigator.onLine:!0}function kS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,ls(i>t,"Short delay should be less than long delay!"),this.isMobile=rA()||uA()}get(){return VS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Im(s,t){ls(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Qv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const US={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const LS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PS=new Ql(3e4,6e4);function Kl(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function fo(s,t,i,a,l={}){return Kv(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Fl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return oA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&co(s.emulatorConfig.host)&&(y.credentials="include"),Qv.fetch()(await Yv(s,s.config.apiHost,i,g),y)})}async function Kv(s,t,i){s._canInitEmulator=!1;const a={...US,...t};try{const l=new zS(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw xc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw xc(s,"user-disabled",d);const b=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Fv(s,b,y);os(s,b)}}catch(l){if(l instanceof fs)throw l;os(s,"network-request-failed",{message:String(l)})}}async function xm(s,t,i,a,l={}){const c=await fo(s,t,i,a,l);return"mfaPendingCredential"in c&&os(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Yv(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Im(s.config,l):`${s.config.apiScheme}://${l}`;return LS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class zS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ii(this.auth,"network-request-failed")),PS.get())})}}function xc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ii(s,t,a);return l.customData._tokenResponse=i,l}async function jS(s,t){return fo(s,"POST","/v1/accounts:delete",t)}async function Zc(s,t){return fo(s,"POST","/v1/accounts:lookup",t)}function Cl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function BS(s,t=!1){const i=Je(s),a=await i.getIdToken(t),l=Nm(a);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Cl(Bd(l.auth_time)),issuedAtTime:Cl(Bd(l.iat)),expirationTime:Cl(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(s){return Number(s)*1e3}function Nm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Dv(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function a0(s){const t=Nm(s);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ml(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof fs&&qS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function qS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class HS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class em{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(s){const t=s.auth,i=await s.getIdToken(),a=await Ml(s,Zc(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Xv(l.providerUserInfo):[],d=FS(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new em(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function GS(s){const t=Je(s);await Jc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function FS(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Xv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function QS(s,t){const i=await Kv(s,{},async()=>{const a=Fl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Yv(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&co(s.emulatorConfig.host)&&(_.credentials="include"),Qv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function KS(s,t){return fo(s,"POST","/v2/accounts:revokeToken",Kl(s,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):a0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=a0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await QS(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ja;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return is("not implemented")}}function Ys(s,t){Tt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new HS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new em(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ml(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return BS(this,t)}reload(){return GS(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(rs(this.auth));const t=await this.getIdToken();return await Ml(this,jS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:J,stsTokenManager:tt}=i;Tt(A&&tt,t,"internal-error");const W=Ja.fromJSON(this.name,tt);Tt(typeof A=="string",t,"internal-error"),Ys(a,t.name),Ys(l,t.name),Tt(typeof M=="boolean",t,"internal-error"),Tt(typeof F=="boolean",t,"internal-error"),Ys(c,t.name),Ys(d,t.name),Ys(g,t.name),Ys(_,t.name),Ys(y,t.name),Ys(b,t.name);const ut=new ni({uid:A,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:y,lastLoginAt:b});return J&&Array.isArray(J)&&(ut.providerData=J.map(Et=>({...Et}))),_&&(ut._redirectEventId=_),ut}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ja;l.updateFromServerResponse(i);const c=new ni({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Jc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Xv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Ja;g.updateFromIdToken(a);const _=new ni({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new em(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const o0=new Map;function ss(s){ls(s instanceof Function,"Expected a class definition");let t=o0.get(s);return t?(ls(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,o0.set(s,t),t)}class $v{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}$v.type="NONE";const l0=$v;function Pc(s,t,i){return`firebase:${s}:${t}:${i}`}class Wa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Zc(this.auth,{idToken:t}).catch(()=>{});return i?ni._fromGetAccountInfoResponse(this.auth,i,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Wa(ss(l0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ss(l0);const d=Pc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const M=await Zc(t,{idToken:b}).catch(()=>{});if(!M)break;A=await ni._fromGetAccountInfoResponse(t,M,b)}else A=ni._fromJSON(t,b);y!==c&&(g=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Wa(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Wa(c,t,a))}}function u0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(t1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(n1(t))return"Blackberry";if(i1(t))return"Webos";if(Jv(t))return"Safari";if((t.includes("chrome/")||Wv(t))&&!t.includes("edge/"))return"Chrome";if(e1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Zv(s=an()){return/firefox\//i.test(s)}function Jv(s=an()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Wv(s=an()){return/crios\//i.test(s)}function t1(s=an()){return/iemobile/i.test(s)}function e1(s=an()){return/android/i.test(s)}function n1(s=an()){return/blackberry/i.test(s)}function i1(s=an()){return/webos/i.test(s)}function Dm(s=an()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function YS(s=an()){return Dm(s)&&!!window.navigator?.standalone}function XS(){return cA()&&document.documentMode===10}function s1(s=an()){return Dm(s)||e1(s)||i1(s)||n1(s)||/windows phone/i.test(s)||t1(s)}function r1(s,t=[]){let i;switch(s){case"Browser":i=u0(an());break;case"Worker":i=`${u0(an())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ho}/${a}`}class $S{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function ZS(s,t={}){return fo(s,"GET","/v2/passwordPolicy",Kl(s,t))}const JS=6;class WS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??JS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class t2{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new $S(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ss(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Zc(this,{idToken:t}),a=await ni._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Jc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=kS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qn(this.app))return Promise.reject(rs(this));const i=t?Je(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ZS(this),i=new WS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Gl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await KS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ss(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ss(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=r1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&OS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Yl(s){return Je(s)}class c0{constructor(t){this.auth=t,this.observer=null,this.addObserver=_A(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e2(s){Om=s}function n2(s){return Om.loadJS(s)}function i2(){return Om.gapiScript}function s2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function r2(s,t){const i=Rm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Zr(c,t??{}))return l;os(l,"already-initialized")}return i.initialize({options:t})}function a2(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ss);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function o2(s,t,i){const a=Yl(s);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=a1(t),{host:d,port:g}=l2(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(Zr(y,a.config.emulator)&&Zr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,co(d)?(kv(`${c}//${d}${_}`),Uv("Auth",!0)):u2()}function a1(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function l2(s){const t=a1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:h0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:h0(d)}}}function h0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function u2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class o1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return is("not implemented")}_getIdTokenResponse(t){return is("not implemented")}_linkToIdToken(t,i){return is("not implemented")}_getReauthenticationResolver(t){return is("not implemented")}}async function to(s,t){return xm(s,"POST","/v1/accounts:signInWithIdp",Kl(s,t))}const c2="http://localhost";class Wr extends o1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Wr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):os("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Wr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return to(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,to(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,to(t,i)}buildRequest(){const t={requestUri:c2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Fl(i)}return t}}class l1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Xl extends l1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Xs extends Xl{constructor(){super("facebook.com")}static credential(t){return Wr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";class $s extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Wr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return $s.credential(i,a)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";class Zs extends Xl{constructor(){super("github.com")}static credential(t){return Wr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";class Js extends Xl{constructor(){super("twitter.com")}static credential(t,i){return Wr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Js.credential(i,a)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";async function h2(s,t){return xm(s,"POST","/v1/accounts:signUp",Kl(s,t))}class us{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ni._fromIdTokenResponse(t,a,l),d=f0(a);return new us({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=f0(a);return new us({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function f0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function f2(s){if(qn(s.app))return Promise.reject(rs(s));const t=Yl(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new us({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await h2(t,{returnSecureToken:!0}),a=await us._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Wc extends fs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Wc(t,i,a,l)}}function u1(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(s,c,t,a):c})}async function d2(s,t,i=!1){const a=await Ml(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return us._forOperation(s,"link",a)}async function m2(s,t,i=!1){const{auth:a}=s;if(qn(a.app))return Promise.reject(rs(a));const l="reauthenticate";try{const c=await Ml(s,u1(a,l,t,s),i);Tt(c.idToken,a,"internal-error");const d=Nm(c.idToken);Tt(d,a,"internal-error");const{sub:g}=d;return Tt(s.uid===g,a,"user-mismatch"),us._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&os(a,"user-mismatch"),c}}async function p2(s,t,i=!1){if(qn(s.app))return Promise.reject(rs(s));const a="signIn",l=await u1(s,a,t),c=await us._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function g2(s,t){return xm(s,"POST","/v1/accounts:signInWithCustomToken",Kl(s,t))}async function y2(s,t){if(qn(s.app))return Promise.reject(rs(s));const i=Yl(s),a=await g2(i,{token:t,returnSecureToken:!0}),l=await us._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function _2(s,t,i,a){return Je(s).onIdTokenChanged(t,i,a)}function v2(s,t,i){return Je(s).beforeAuthStateChanged(t,i)}function T2(s,t,i,a){return Je(s).onAuthStateChanged(t,i,a)}const th="__sak";class c1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const E2=1e3,b2=10;class h1 extends c1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);XS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,b2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},E2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}h1.type="LOCAL";const A2=h1;class f1 extends c1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}f1.type="SESSION";const d1=f1;function S2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new ph(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await S2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function Mm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class w2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Mm("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function xi(){return window}function R2(s){xi().location.href=s}function m1(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function C2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I2(){return navigator?.serviceWorker?.controller||null}function x2(){return m1()?self:null}const p1="firebaseLocalStorageDb",N2=1,eh="firebaseLocalStorage",g1="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gh(s,t){return s.transaction([eh],t?"readwrite":"readonly").objectStore(eh)}function D2(){const s=indexedDB.deleteDatabase(p1);return new $l(s).toPromise()}function nm(){const s=indexedDB.open(p1,N2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(eh,{keyPath:g1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(eh)?t(a):(a.close(),await D2(),t(await nm()))})})}async function d0(s,t,i){const a=gh(s,!0).put({[g1]:t,value:i});return new $l(a).toPromise()}async function O2(s,t){const i=gh(s,!1).get(t),a=await new $l(i).toPromise();return a===void 0?null:a.value}function m0(s,t){const i=gh(s,!0).delete(t);return new $l(i).toPromise()}const M2=800,V2=3;class y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>V2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(x2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await C2(),!this.activeServiceWorker)return;this.sender=new w2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||I2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await nm();return await d0(t,th,"1"),await m0(t,th),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>d0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>O2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>m0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=gh(l,!1).getAll();return new $l(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y1.type="LOCAL";const k2=y1;new Ql(3e4,6e4);function U2(s,t){return t?ss(t):(Tt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Vm extends o1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return to(t,this._buildIdpRequest())}_linkToIdToken(t,i){return to(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return to(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function L2(s){return p2(s.auth,new Vm(s),s.bypassAuthState)}function P2(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),m2(i,new Vm(s),s.bypassAuthState)}async function z2(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),d2(i,new Vm(s),s.bypassAuthState)}class _1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return L2;case"linkViaPopup":case"linkViaRedirect":return z2;case"reauthViaPopup":case"reauthViaRedirect":return P2;default:os(this.auth,"internal-error")}}resolve(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const j2=new Ql(2e3,1e4);class $a extends _1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const t=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,j2.get())};t()}}$a.currentPopupAction=null;const B2="pendingRedirect",zc=new Map;class q2 extends _1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const a=await H2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H2(s,t){const i=Q2(t),a=F2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function G2(s,t){zc.set(s._key(),t)}function F2(s){return ss(s._redirectPersistence)}function Q2(s){return Pc(B2,s.config.apiKey,s.name)}async function K2(s,t,i=!1){if(qn(s.app))return Promise.reject(rs(s));const a=Yl(s),l=U2(a,t),d=await new q2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Y2=600*1e3;class X2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!$2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!v1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ii(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Y2&&this.cachedEventUids.clear(),this.cachedEventUids.has(p0(t))}saveEventToCache(t){this.cachedEventUids.add(p0(t)),this.lastProcessedEventTime=Date.now()}}function p0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function v1({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function $2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v1(s);default:return!1}}async function Z2(s,t={}){return fo(s,"GET","/v1/projects",t)}const J2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W2=/^https?/;async function tw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Z2(s);for(const i of t)try{if(ew(i))return}catch{}os(s,"unauthorized-domain")}function ew(s){const t=tm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!W2.test(i))return!1;if(J2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const nw=new Ql(3e4,6e4);function g0(){const s=xi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function iw(s){return new Promise((t,i)=>{function a(){g0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{g0(),i(Ii(s,"network-request-failed"))},timeout:nw.get()})}if(xi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(xi().gapi?.load)a();else{const l=s2("iframefcb");return xi()[l]=()=>{gapi.load?a():i(Ii(s,"network-request-failed"))},n2(`${i2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw jc=null,t})}let jc=null;function sw(s){return jc=jc||iw(s),jc}const rw=new Ql(5e3,15e3),aw="__/auth/iframe",ow="emulator/auth/iframe",lw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cw(s){const t=s.config;Tt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Im(t,ow):`https://${s.config.authDomain}/${aw}`,a={apiKey:t.apiKey,appName:s.name,v:ho},l=uw.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Fl(a).slice(1)}`}async function hw(s){const t=await sw(s),i=xi().gapi;return Tt(i,s,"internal-error"),t.open({where:document.body,url:cw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ii(s,"network-request-failed"),g=xi().setTimeout(()=>{c(d)},rw.get());function _(){xi().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const fw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dw=500,mw=600,pw="_blank",gw="http://localhost";class y0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yw(s,t,i,a=dw,l=mw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...fw,width:a.toString(),height:l.toString(),top:c,left:d},y=an().toLowerCase();i&&(g=Wv(y)?pw:i),Zv(y)&&(t=t||gw,_.scrollbars="yes");const b=Object.entries(_).reduce((M,[F,J])=>`${M}${F}=${J},`,"");if(YS(y)&&g!=="_self")return _w(t||"",g),new y0(null);const A=window.open(t||"",g,b);Tt(A,s,"popup-blocked");try{A.focus()}catch{}return new y0(A)}function _w(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const vw="__/auth/handler",Tw="emulator/auth/handler",Ew=encodeURIComponent("fac");async function _0(s,t,i,a,l,c){Tt(s.config.authDomain,s,"auth-domain-config-required"),Tt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:ho,eventId:l};if(t instanceof l1){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",yA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Xl){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const _=await s._getAppCheckToken(),y=_?`#${Ew}=${encodeURIComponent(_)}`:"";return`${bw(s)}?${Fl(g).slice(1)}${y}`}function bw({config:s}){return s.emulator?Im(s,Tw):`https://${s.authDomain}/${vw}`}const qd="webStorageSupport";class Aw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d1,this._completeRedirectFn=K2,this._overrideRedirectResult=G2}async _openPopup(t,i,a,l){ls(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await _0(t,i,a,tm(),l);return yw(t,c,Mm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await _0(t,i,a,tm(),l);return R2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ls(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await hw(t),a=new X2(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(qd,{type:qd},l=>{const c=l?.[0]?.[qd];c!==void 0&&i(!!c),os(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=tw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return s1()||Jv()||Dm()}}const Sw=Aw;var v0="@firebase/auth",T0="1.12.0";class ww{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Rw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cw(s){io(new Jr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r1(s)},y=new t2(a,l,c,_);return a2(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),io(new Jr("auth-internal",t=>{const i=Yl(t.getProvider("auth").getImmediate());return(a=>new ww(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(v0,T0,Rw(s)),nr(v0,T0,"esm2020")}const Iw=300,xw=Vv("authIdTokenMaxAge")||Iw;let E0=null;const Nw=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>xw)return;const l=i?.token;E0!==l&&(E0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Dw(s=jv()){const t=Rm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=r2(s,{popupRedirectResolver:Sw,persistence:[k2,A2,d1]}),a=Vv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Nw(c.toString());v2(i,d,()=>d(i.currentUser)),_2(i,g=>d(g))}}const l=Ov("auth");return l&&o2(i,`http://${l}`),i}function Ow(){return document.getElementsByTagName("head")?.[0]??document}e2({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Ii("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Ow().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cw("Browser");var b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ir,T1;(function(){var s;function t(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,U){for(var w=Array(arguments.length-2),re=2;re<arguments.length;re++)w[re-2]=arguments[re];return S.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],N=I.g[2];let U=I.g[3],w;w=S+(U^C&(N^U))+V[0]+3614090360&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(N^S&(C^N))+V[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(C^U&(S^C))+V[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=C+(S^N&(U^S))+V[3]+3250441966&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(U^C&(N^U))+V[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(N^S&(C^N))+V[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(C^U&(S^C))+V[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=C+(S^N&(U^S))+V[7]+4249261313&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(U^C&(N^U))+V[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(N^S&(C^N))+V[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(C^U&(S^C))+V[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=C+(S^N&(U^S))+V[11]+2304563134&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(U^C&(N^U))+V[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(N^S&(C^N))+V[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(C^U&(S^C))+V[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=C+(S^N&(U^S))+V[15]+1236535329&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(N^U&(C^N))+V[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^N&(S^C))+V[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(U^S))+V[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(N^U))+V[0]+3921069994&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(C^N))+V[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^N&(S^C))+V[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(U^S))+V[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(N^U))+V[4]+3889429448&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(C^N))+V[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^N&(S^C))+V[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(U^S))+V[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(N^U))+V[8]+1163531501&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(C^N))+V[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^N&(S^C))+V[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(U^S))+V[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(N^U))+V[12]+2368359562&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(C^N^U)+V[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^N)+V[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^C)+V[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=C+(N^U^S)+V[14]+4259657740&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(C^N^U)+V[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^N)+V[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^C)+V[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=C+(N^U^S)+V[10]+3200236656&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(C^N^U)+V[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^N)+V[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^C)+V[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=C+(N^U^S)+V[6]+76029189&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(C^N^U)+V[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^N)+V[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^C)+V[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=C+(N^U^S)+V[2]+3299628645&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(N^(C|~U))+V[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~N))+V[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~C))+V[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=C+(U^(N|~S))+V[5]+4237533241&4294967295,C=N+(w<<21&4294967295|w>>>11),w=S+(N^(C|~U))+V[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~N))+V[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~C))+V[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=C+(U^(N|~S))+V[1]+2240044497&4294967295,C=N+(w<<21&4294967295|w>>>11),w=S+(N^(C|~U))+V[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~N))+V[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~C))+V[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=C+(U^(N|~S))+V[13]+1309151649&4294967295,C=N+(w<<21&4294967295|w>>>11),w=S+(N^(C|~U))+V[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~N))+V[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~C))+V[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=C+(U^(N|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<S;){if(N==0)for(;U<=C;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(V[N++]=I.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<S;)if(V[N++]=I[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[S++]=this.g[C]>>>V&255;return I};function c(I,S){var C=g;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;V&&U==S||(C[N]=U,V=!1)}this.g=C}var g={};function _(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return W(y(-I));const S=[];let C=1;for(let V=0;I>=C;V++)S[V]=I/C|0,C*=4294967296;return new d(S,0)}function b(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return W(b(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let V=A;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const w=parseInt(I.substring(U,U+N),S);N<8?(N=y(Math.pow(S,N)),V=V.j(N).add(y(w))):(V=V.j(C),V=V.add(y(w)))}return V}var A=_(0),M=_(1),F=_(16777216);s=d.prototype,s.m=function(){if(tt(this))return-W(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(tt(this))return"-"+W(this).toString(I);const S=y(Math.pow(I,6));var C=this;let V="";for(;;){const N=vt(C,S).g;C=ut(C,N.j(S));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,J(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function tt(I){return I.h==-1}s.l=function(I){return I=ut(this,I),tt(I)?-1:J(I)?0:1};function W(I){const S=I.g.length,C=[];for(let V=0;V<S;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}s.abs=function(){return tt(this)?W(this):this},s.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=S;N++){let U=V+(this.i(N)&65535)+(I.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=w>>>16,U&=65535,w&=65535,C[N]=w<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ut(I,S){return I.add(W(S))}s.j=function(I){if(J(this)||J(I))return A;if(tt(this))return tt(I)?W(this).j(W(I)):W(W(this).j(I));if(tt(I))return W(this.j(W(I)));if(this.l(F)<0&&I.l(F)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const U=this.i(V)>>>16,w=this.i(V)&65535,re=I.i(N)>>>16,me=I.i(N)&65535;C[2*V+2*N]+=w*me,Et(C,2*V+2*N),C[2*V+2*N+1]+=U*me,Et(C,2*V+2*N+1),C[2*V+2*N+1]+=w*re,Et(C,2*V+2*N+1),C[2*V+2*N+2]+=U*re,Et(C,2*V+2*N+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function Et(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function pt(I,S){this.g=I,this.h=S}function vt(I,S){if(J(S))throw Error("division by zero");if(J(I))return new pt(A,A);if(tt(I))return S=vt(W(I),S),new pt(W(S.g),W(S.h));if(tt(S))return S=vt(I,W(S)),new pt(W(S.g),S.h);if(I.g.length>30){if(tt(I)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=S;V.l(I)<=0;)C=Xt(C),V=Xt(V);var N=Nt(C,1),U=Nt(V,1);for(V=Nt(V,2),C=Nt(C,2);!J(V);){var w=U.add(V);w.l(I)<=0&&(N=N.add(C),U=w),V=Nt(V,1),C=Nt(C,1)}return S=ut(I,N.j(S)),new pt(N,S)}for(N=A;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(C),w=U.j(S);tt(w)||w.l(I)>0;)C-=V,U=y(C),w=U.j(S);J(U)&&(U=M),N=N.add(U),I=ut(I,w)}return new pt(N,I)}s.B=function(I){return vt(this,I).h},s.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},s.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},s.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function Xt(I){const S=I.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Nt(I,S){const C=S>>5;S%=32;const V=I.g.length-C,N=[];for(let U=0;U<V;U++)N[U]=S>0?I.i(U+C)>>>S|I.i(U+C+1)<<32-S:I.i(U+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,T1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,ir=d}).apply(typeof b0<"u"?b0:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var E1,bl,b1,Bc,im,A1,S1,w1;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var E=0;E<u.length-1;E++){var L=u[E];if(!(L in v))break t;v=v[L]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&v.push([E,m[E]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(E,L,B){for(var et=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)et[Rt-2]=arguments[Rt];return m.prototype[L].apply(E,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function J(u,m){for(let E=1;E<arguments.length;E++){const L=arguments[E];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let et=0;et<B;et++)u[v+et]=L[et]}else u.push(L)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const E=pt.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var pt=new tt(()=>new vt,u=>u.reset());class vt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Xt,Nt=!1,I=new Et,S=()=>{const u=Promise.resolve(void 0);Xt=()=>{u.then(C)}};function C(){for(var u;u=ut();){try{u.h.call(u.g)}catch(v){W(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Nt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function re(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(re,N),re.prototype.init=function(u,m){const v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),H=0;function nt(u,m,v,E,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=L,this.key=++H,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vt(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(v in E)u[v]=E[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,E,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=bt(u,m,E,L);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!E,L),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var E=u.g[v],L=Array.prototype.indexOf.call(E,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(E,L,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,E){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==E)return L}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),pe={};function ie(u,m,v,E,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ie(u,m[B],v,E,L);return null}return v=pr(v),u&&u[me]?u.J(m,v,g(E)?!!E.capture:!1,L):si(u,m,v,!1,E,L)}function si(u,m,v,E,L,B){if(!m)throw Error("Invalid event type");const et=g(L)?!!L.capture:!!L;let Rt=Li(u);if(Rt||(u[Dt]=Rt=new st(u)),v=Rt.add(m,v,E,et,B),v.proxy)return v;if(E=ds(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),E,L);else if(u.attachEvent)u.attachEvent(In(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ds(){function u(v){return m.call(u.src,u.listener,v)}const m=dr;return u}function Ui(u,m,v,E,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ui(u,m[B],v,E,L);else E=g(E)?!!E.capture:!!E,v=pr(v),u&&u[me]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=bt(m,v,E,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Li(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,E,L)),(v=u>-1?m[u]:null)&&ms(v))}function ms(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[me])yt(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(In(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=Li(m))?(yt(v,u),v.h==0&&(v.src=null,m[Dt]=null)):ft(u)}}}function In(u){return u in pe?pe[u]:pe[u]="on"+u}function dr(u,m){if(u.da)u=!0;else{m=new re(m,this);const v=u.listener,E=u.ha||u.src;u.fa&&ms(u),u=v.call(E,m)}return u}function Li(u){return u=u[Dt],u instanceof st?u:null}var mr="__closure_events_fn_"+(Math.random()*1e9>>>0);function pr(u){return typeof u=="function"?u:(u[mr]||(u[mr]=function(m){return u.handleEvent(m)}),u[mr])}function ge(){V.call(this),this.i=new st(this),this.M=this,this.G=null}A(ge,V),ge.prototype[me]=!0,ge.prototype.removeEventListener=function(u,m,v,E){Ui(this,u,m,v,E)};function ve(u,m){var v,E=u.G;if(E)for(v=[];E;E=E.G)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(E,u),it(m,L)}L=!0;let B,et;if(v)for(et=v.length-1;et>=0;et--)B=m.g=v[et],L=ri(B,E,!0,m)&&L;if(B=m.g=u,L=ri(B,E,!0,m)&&L,L=ri(B,E,!1,m)&&L,v)for(et=0;et<v.length;et++)B=m.g=v[et],L=ri(B,E,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let E=0;E<v.length;E++)ft(v[E]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},ge.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function ri(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==v){const Rt=et.listener,be=et.ha||et.src;et.fa&&yt(u.i,et),L=Rt.call(be,E)!==!1&&L}}return L&&!E.defaultPrevented}function To(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Q(u){u.g=To(()=>{u.g=null,u.i&&(u.i=!1,Q(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class at extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Q(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ht(u){V.call(this),this.h=u,this.g={}}A(ht,V);var ce=[];function tn(u){Vt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ms(m)},u),u.g={}}ht.prototype.N=function(){ht.Z.N.call(this),tn(this)},ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Te=d.JSON.stringify,ps=d.JSON.parse,gs=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function gr(){}function iu(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){N.call(this,"d")}A(Ge,N);function xn(){N.call(this,"c")}A(xn,N);var Ee={},su=null;function ra(){return su=su||new ge}Ee.Ia="serverreachability";function ru(u){N.call(this,Ee.Ia,u)}A(ru,N);function ai(u){const m=ra();ve(m,new ru(m))}Ee.STAT_EVENT="statevent";function yr(u,m){N.call(this,Ee.STAT_EVENT,u),this.stat=m}A(yr,N);function Re(u){const m=ra();ve(m,new yr(m,u))}Ee.Ja="timingevent";function oi(u,m){N.call(this,Ee.Ja,u),this.size=m}A(oi,N);function li(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Mh(u,m,v,E,L,B){u.info(function(){if(u.g)if(B){var et="",Rt=B.split("&");for(let Ft=0;Ft<Rt.length;Ft++){var be=Rt[Ft].split("=");if(be.length>1){const he=be[0];be=be[1];const Mn=he.split("_");et=Mn.length>=2&&Mn[1]=="type"?et+(he+"="+be+"&"):et+(he+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function au(u,m,v,E,L,B,et){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+et})}function ui(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(E?" "+E:"")})}function _r(u,m){u.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var E=v[1];if(Array.isArray(E)&&!(E.length<1)){var L=E[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<E.length;et++)E[et]=""}}}}return Te(B)}catch{return m}}var vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bo;function Tr(){}A(Tr,gr),Tr.prototype.g=function(){return new XMLHttpRequest},bo=new Tr;function Pi(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Qn(u,m,v,E){this.j=u,this.i=m,this.l=v,this.S=E||1,this.V=new ht(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Ce={},je={};function ci(u,m,v){u.M=1,u.A=Er(xe(m)),u.u=v,u.R=!0,aa(u,null)}function aa(u,m){u.F=Date.now(),hi(u),u.B=xe(u.A);var v=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),ca(v.i,"t",E),u.C=0,v=u.j.L,u.h=new Kn,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new at(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,E=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ce[0]=L.toString()),L=ce);for(let B=0;B<L.length;B++){const et=ie(v,L[B],E||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&$n(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=$n(this.g),be=this.g.ya(),Ft=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Fe(this.g)))){this.K||Rt!=4||be==7||(be==8||Ft<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,L=this.g;if((E=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(E)){var B=E;break e}}B=null}if(u=B)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,Re(12),_n(this),Nn(this);break t}}if(this.R){u=!0;let he;for(;!this.K&&this.C<v.length;)if(he=uu(this,v),he==je){Rt==4&&(this.m=4,Re(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Ce){this.m=4,Re(15),ui(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,he,null),di(this,he);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,Re(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Lo(et),et.P=!0,Re(11))}}else ui(this.i,this.l,v,null),di(this,v);Rt==4&&_n(this),this.o&&!this.K&&(Rt==4?_u(this.j,this):(this.o=!1,hi(this)))}else ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),_n(this),Nn(this)}}}catch{}};function kh(u){if(!lu(u))return u.g.la();const m=Fe(u.g);if(m==="")return"";let v="";const E=m.length,L=$n(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),Nn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<E;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==E-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?je:(v=Number(m.substring(v,E)),isNaN(v)?Ce:(E+=1,E+v>m.length?je:(m=m.slice(E,E+v),u.C=E+v,m)))}Qn.prototype.cancel=function(){this.K=!0,_n(this)};function hi(u){u.T=Date.now()+u.H,oa(u,u.H)}function oa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=li(y(u.aa,u),m)}function fi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(_r(this.i,this.B),this.M!=2&&(ai(),Re(17)),_n(this),this.m=2,Nn(this)):oa(this,this.T-u)};function Nn(u){u.j.I==0||u.K||_u(u.j,u)}function _n(u){fi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,tn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||pi(v.h,u))){if(!u.L&&pi(v.h,u)&&v.I==3){try{var E=v.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)pa(v),Ss(v);else break t;Ir(v),Re(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((u.L||v.g==u)&&pa(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ft=L[m];const he=Ft[0];if(!(he<=v.K))if(v.K=he,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const Mn=Ft[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const bi=Ft[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Zn=Ft[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(E=1.5*Zn,v.O=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const Jn=u.g;if(Jn){const xr=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var B=E.h;B.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(wo(B,B.h),B.h=null))}if(E.G){const ga=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(E.wa=ga,$t(E.J,E.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),E=v;var et=u;if(E.na=Eu(E,E.L?E.ba:null,E.W),et.L){Ro(E.h,et);var Rt=et,be=E.O;be&&(Rt.H=be),Rt.D&&(fi(Rt),hi(Rt)),E.g=et}else gu(E);v.i.length>0&&Ti(v)}else Ft[0]!="stop"&&Ft[0]!="close"||Ei(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Ei(v,7):ko(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}ai(4)}catch{}}var Ie=class{constructor(u,m){this.g=u,this.map=m}};function Ao(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wo(u,m){u.g?u.g.add(m):u.h=m}function Ro(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ao.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Co(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const E=u[v].indexOf("=");let L,B=null;E>=0?(L=u[v].substring(0,E),B=u[v].substring(E+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof vn?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,ys(this,u.u),this.h=u.h,Io(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,Be(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),ys(this,m[4]),this.h=gi(m[5]||"",!0),Io(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new vs(null,this.l))}vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(br(m,ua,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(br(m,ua,!0),"@"),u.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(br(v,v.charAt(0)=="/"?xo:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",br(v,fu)),u.join("")},vn.prototype.resolve=function(u){const m=xe(this);let v=!!u.j;v?Be(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var E=u.h;if(v)ys(m,u.u);else if(v=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var L=m.h.lastIndexOf("/");L!=-1&&(E=m.h.slice(0,L+1)+E)}if(L=E,L==".."||L==".")E="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){E=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const Rt=L[et++];Rt=="."?E&&et==L.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),E&&et==L.length&&B.push("")):(B.push(Rt),E=!0)}E=B.join("/")}else E=L}return v?m.h=E:v=u.i.toString()!=="",v?Io(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function xe(u){return new vn(u)}function Be(u,m,v){u.j=v?gi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ys(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Io(u,m,v){m instanceof vs?(u.i=m,ha(u.i,u.l)):(v||(m=br(m,_s)),u.i=new vs(m,u.l))}function $t(u,m,v){u.i.set(m,v)}function Er(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function br(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,un),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ua=/[#\/\?@]/g,hu=/[#\?:]/g,xo=/[#\?]/g,_s=/[#\?@]/g,fu=/#/g;function vs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&la(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=vs.prototype,s.add=function(u,m){cn(this),this.i=null,u=Ts(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){cn(u),m=Ts(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return cn(u),m=Ts(u,m),u.g.has(m)}s.forEach=function(u,m){cn(this),this.g.forEach(function(v,E){v.forEach(function(L){u.call(m,L,E,this)},this)},this)};function Do(u,m){cn(u);let v=[];if(typeof m=="string")No(u,m)&&(v=v.concat(u.g.get(Ts(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return cn(this),this.i=null,u=Ts(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Do(this,u),u.length>0?String(u[0]):m):m};function ca(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(Ts(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var v=m[E];const L=Pi(v);v=Do(this,v);for(let B=0;B<v.length;B++){let et=L;v[B]!==""&&(et+="="+Pi(v[B])),u.push(et)}}return this.i=u.join("&")};function mu(u){const m=new vs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ts(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ha(u,m){m&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(v,E){const L=E.toLowerCase();E!=L&&(du(this,E),ca(this,L,v))},u)),u.j=m}function Yn(u,m){const v=new Fn;if(d.Image){const E=new Image;E.onload=b(Dn,v,"TestLoadImage: loaded",!0,m,E),E.onerror=b(Dn,v,"TestLoadImage: error",!1,m,E),E.onabort=b(Dn,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=b(Dn,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Oo(u,m){const v=new Fn,E=new AbortController,L=setTimeout(()=>{E.abort(),Dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(B=>{clearTimeout(L),B.ok?Dn(v,"TestPingServer: ok",!0,m):Dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Dn(v,"TestPingServer: error",!1,m)})}function Dn(u,m,v,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(v)}catch{}}function Es(){this.g=new gs}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(yi,gr),yi.prototype.g=function(){return new Ar(this.i,this.h)};function Ar(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ar,ge),s=Ar.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Xn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function fa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?bs(this):Xn(this),this.readyState==3&&fa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,bs(this))},s.Na=function(u){this.g&&(this.response=u,bs(this))},s.ga=function(){this.g&&bs(this)};function bs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Xn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return Vt(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function Sr(u,m,v){t:{for(E in v){var E=!1;break t}E=!0}E||(v=On(v),typeof u=="string"?v!=null&&Pi(v):$t(u,m,v))}function Wt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Wt,ge);var _i=/^https?$/i,Mo=["POST","PUT"];s=Wt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){wr(this,B);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)v.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())v.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Mo,m,void 0)>=0)||E||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of v)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){wr(this,B)}};function wr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vo(u),zi(u)}function Vo(u){u.A||(u.A=!0,ve(u,"complete"),ve(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ve(this,"complete"),ve(this,"abort"),zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Wt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Rr(this):this.Xa())},s.Xa=function(){Rr(this)};function Rr(u){if(u.h&&typeof c<"u"){if(u.v&&$n(u)==4)setTimeout(u.Ca.bind(u),0);else if(ve(u,"readystatechange"),$n(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var E;if(E=B===0){let et=String(u.D).match(cu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),E=!_i.test(et?et.toLowerCase():"")}v=E}if(v)ve(u,"complete"),ve(u,"success");else{u.o=6;try{var L=$n(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Vo(u)}}finally{zi(u)}}}}function zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ve(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function $n(u){return u.g?u.g.readyState:0}s.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ps(m)}};function Fe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(u){const m={};u=(u.g&&$n(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(w(u[E]))continue;var v=ou(u[E]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Gt(m,function(E){return E.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function As(u){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(u&&u.concurrentRequestLimit),this.Ba=new Es,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=As.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,E){Re(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.J=Eu(this,null,this.W),Ti(this)};function ko(u){if(da(u),u.I==3){var m=u.V++,v=xe(u.J);if($t(v,"SID",u.M),$t(v,"RID",m),$t(v,"TYPE","terminate"),Cr(u,v),m=new Qn(u,u.j,m),m.M=2,m.A=Er(xe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}Tu(u)}function Ss(u){u.g&&(Lo(u),u.g.cancel(),u.g=null)}function da(u){Ss(u),u.v&&(d.clearTimeout(u.v),u.v=null),pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;Xt||S(),Nt||(Xt(),Nt=!0),I.add(m,u),u.D=0}}function ma(u,m){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=li(y(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Qn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=pu(this,L,m),v=xe(this.J),$t(v,"RID",u),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),Cr(this,v),B&&(this.R?m="headers="+Pi(On(B))+"&"+m:this.u&&Sr(v,this.u,B)),wo(this.h,L),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",m),$t(v,"SID","null"),L.U=!0,ci(L,v,null)):ci(L,v,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||So(this.h)||Uo(this))};function Uo(u,m){var v;m?v=m.l:v=u.V++;const E=xe(u.J);$t(E,"SID",u.M),$t(E,"RID",v),$t(E,"AID",u.K),Cr(u,E),u.u&&u.o&&Sr(E,u.u,u.o),v=new Qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wo(u.h,v),ci(v,E,m)}function Cr(u,m){u.H&&Vt(u.H,function(v,E){$t(m,E,v)}),u.l&&Vt({},function(v,E){$t(m,E,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const E=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Rt=-1;for(;;){const be=["count="+v];Rt==-1?v>0?(Rt=L[0].g,be.push("ofs="+Rt)):Rt=0:be.push("ofs="+Rt);let Ft=!0;for(let he=0;he<v;he++){var B=L[he].g;const Mn=L[he].map;if(B-=Rt,B<0)Rt=Math.max(0,L[he].g-100),Ft=!1;else try{B="req"+B+"_"||"";try{var et=Mn instanceof Map?Mn:Object.entries(Mn);for(const[bi,Zn]of et){let Jn=Zn;g(Zn)&&(Jn=Te(Zn)),be.push(B+bi+"="+encodeURIComponent(Jn))}}catch(bi){throw be.push(B+"type="+encodeURIComponent("_badmap")),bi}}catch{E&&E(Mn)}}if(Ft){et=be.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Xt||S(),Nt||(Xt(),Nt=!0),I.add(m,u),u.A=0}}function Ir(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=li(y(u.Da,u),vu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=li(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Ss(this),yu(this))};function Lo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=xe(u.na);$t(m,"RID","rpc"),$t(m,"SID",u.M),$t(m,"AID",u.K),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(m,"TO",u.ia),$t(m,"TYPE","xmlhttp"),Cr(u,m),u.u&&u.o&&Sr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Er(xe(m)),v.u=null,v.R=!0,aa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ss(this),Ir(this),Re(19))};function pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){pa(u),Lo(u),u.g=null;var E=2}else if(pi(u.h,m))v=m.G,Ro(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;E=ra(),ve(E,new oi(E,v)),Ti(u)}else gu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(E==1&&ma(u,m)||E==2&&Ir(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),E=u.Ua;const L=!E;E=new vn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(E,"https"),Er(E),L?Yn(E.toString(),v):Oo(E.toString(),v)}else Re(2);u.I=0,u.l&&u.l.pa(m),Tu(u),da(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Co(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var E=v instanceof vn?xe(v):new vn(v);if(E.g!="")m&&(E.g=m+"."+E.g),ys(E,E.u);else{var L=d.location;E=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new vn(null);E&&Be(B,E),m&&(B.g=m),L&&ys(B,L),v&&(B.h=v),E=B}return v=u.G,m=u.wa,v&&m&&$t(E,v,m),$t(E,"VER",u.ka),Cr(u,E),E}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new yi({ab:v})):new Wt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ws(){}ws.prototype.g=function(u,m){return new on(u,m)};function on(u,m){ge.call(this),this.g=new As(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Bi(this)}A(on,ge),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){ko(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Te(u),u=v);m.i.push(new Ie(m.Ya++,u)),m.I==3&&Ti(m)},on.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,on.Z.N.call(this)};function Su(u){Ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Su,Ge);function wu(){xn.call(this),this.status=1}A(wu,xn);function Bi(u){this.g=u}A(Bi,Au),Bi.prototype.ra=function(){ve(this.g,"a")},Bi.prototype.qa=function(u){ve(this.g,new Su(u))},Bi.prototype.pa=function(u){ve(this.g,new wu)},Bi.prototype.oa=function(){ve(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,w1=function(){return new ws},S1=function(){return ra()},A1=Ee,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,Bc=vr,Eo.COMPLETE="complete",b1=Eo,iu.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,bl=iu,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,E1=Wt}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const A0="@firebase/firestore",S0="4.9.3";class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let mo="12.7.0";const ta=new Sm("@firebase/firestore");function Qa(){return ta.logLevel}function ot(s,...t){if(ta.logLevel<=Lt.DEBUG){const i=t.map(km);ta.debug(`Firestore (${mo}): ${s}`,...i)}}function cs(s,...t){if(ta.logLevel<=Lt.ERROR){const i=t.map(km);ta.error(`Firestore (${mo}): ${s}`,...i)}}function so(s,...t){if(ta.logLevel<=Lt.WARN){const i=t.map(km);ta.warn(`Firestore (${mo}): ${s}`,...i)}}function km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,R1(s,a,i)}function R1(s,t,i){let a=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw cs(a),new Error(a)}function Kt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||R1(t,l,a)}function wt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends fs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class C1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Mw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class Vw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class kw{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Yr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Yr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Kt(typeof a.accessToken=="string",31837,{l:a}),new C1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class Uw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Uw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class w0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Kt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new w0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new w0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Um{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=zw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Pt(s,t){return s<t?-1:s>t?1:0}function sm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Hd(l)===Hd(c)?Pt(l,c):Hd(l)?1:-1}return Pt(s.length,t.length)}const jw=55296,Bw=57343;function Hd(s){const t=s.charCodeAt(0);return t>=jw&&t<=Bw}function ro(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const R0="__name__";class Ci{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ci.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Pt(t.length,i.length)}static compareSegments(t,i){const a=Ci.isNumericId(t),l=Ci.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):sm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ir.fromString(t.substring(4,t.length-2))}}class ae extends Ci{construct(t,i,a){return new ae(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new rt($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ae(i)}static emptyPath(){return new ae([])}}const qw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Ci{construct(t,i,a){return new Ze(t,i,a)}static isValidIdentifier(t){return qw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R0}static keyField(){return new Ze([R0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new rt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(i)}static emptyPath(){return new Ze([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ae.fromString(t))}static fromName(t){return new mt(ae.fromString(t).popFirst(5))}static empty(){return new mt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ae.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ae(t.slice()))}}function I1(s,t,i){if(!i)throw new rt($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Hw(s,t,i,a){if(t===!0&&a===!0)throw new rt($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function C0(s){if(!mt.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function I0(s){if(mt.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function x1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function yh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function Xr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=yh(s);throw new rt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ue(s,t){const i={typeString:s};return t&&(i.value=t),i}function Zl(s,t){if(!x1(s))throw new rt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new rt($.INVALID_ARGUMENT,i);return!0}const x0=-62135596800,N0=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*N0);return new ue(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<x0)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N0}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zl(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-x0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Ue("string",ue._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ue(0,0))}static max(){return new At(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vl=-1;function Gw(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new ue(i+1,0):new ue(i,a));return new rr(l,mt.empty(),t)}function Fw(s){return new rr(s.readTime,s.key,Vl)}class rr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new rr(At.min(),mt.empty(),Vl)}static max(){return new rr(At.max(),mt.empty(),Vl)}}function Qw(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(s.documentKey,t.documentKey),i!==0?i:Pt(s.largestBatchId,t.largestBatchId))}const Kw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function po(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Kw)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Xw(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function go(s){return s.name==="IndexedDbTransactionError"}class _h{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}_h.ce=-1;const Lm=-1;function vh(s){return s==null}function nh(s){return s===0&&1/s==-1/0}function $w(s){return typeof s=="number"&&Number.isInteger(s)&&!nh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const N1="";function Zw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=D0(t)),t=Jw(s.get(i),t);return D0(t)}function Jw(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case N1:i+="";break;default:i+=c}}return i}function D0(s){return s+N1+""}function O0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function hr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function D1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class de{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??$e.RED,this.left=l??$e.EMPTY,this.right=c??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new $e(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return $e.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new M0(this.data.getIterator())}getIteratorFrom(t){return new M0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class M0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new Cn([])}unionWith(t){let i=new ze(Ze.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Cn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class O1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new O1("Invalid base64 string: "+c):c}})(t);return new We(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const Ww=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(s){if(Kt(!!s,39018),typeof s=="string"){let t=0;const i=Ww.exec(s);if(Kt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:we(s.seconds),nanos:we(s.nanos)}}function we(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function or(s){return typeof s=="string"?We.fromBase64String(s):We.fromUint8Array(s)}const M1="server_timestamp",V1="__type__",k1="__previous_value__",U1="__local_write_time__";function Pm(s){return(s?.mapValue?.fields||{})[V1]?.stringValue===M1}function Th(s){const t=s.mapValue.fields[k1];return Pm(t)?Th(t):t}function kl(s){const t=ar(s.mapValue.fields[U1].timestampValue);return new ue(t.seconds,t.nanos)}class tR{constructor(t,i,a,l,c,d,g,_,y,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b}}const ih="(default)";class Ul{constructor(t,i){this.projectId=t,this.database=i||ih}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===ih}isEqual(t){return t instanceof Ul&&t.projectId===this.projectId&&t.database===this.database}}const L1="__type__",eR="__max__",Oc={mapValue:{}},P1="__vector__",sh="value";function lr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pm(s)?4:iR(s)?9007199254740991:nR(s)?10:11:_t(28295,{value:s})}function ki(s,t){if(s===t)return!0;const i=lr(s);if(i!==lr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return kl(s).isEqual(kl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ar(l.timestampValue),g=ar(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return or(l.bytesValue).isEqual(or(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return we(l.geoPointValue.latitude)===we(c.geoPointValue.latitude)&&we(l.geoPointValue.longitude)===we(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return we(l.integerValue)===we(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=we(l.doubleValue),g=we(c.doubleValue);return d===g?nh(d)===nh(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return ro(s.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(O0(d)!==O0(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ki(d[_],g[_])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Ll(s,t){return(s.values||[]).find((i=>ki(i,t)))!==void 0}function ao(s,t){if(s===t)return 0;const i=lr(s),a=lr(t);if(i!==a)return Pt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=we(c.integerValue||c.doubleValue),_=we(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return V0(s.timestampValue,t.timestampValue);case 4:return V0(kl(s),kl(t));case 5:return sm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=or(c),_=or(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const b=Pt(g[y],_[y]);if(b!==0)return b}return Pt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Pt(we(c.latitude),we(d.latitude));return g!==0?g:Pt(we(c.longitude),we(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return k0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[sh]?.arrayValue,b=_[sh]?.arrayValue,A=Pt(y?.values?.length||0,b?.values?.length||0);return A!==0?A:k0(y,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let A=0;A<_.length&&A<b.length;++A){const M=sm(_[A],b[A]);if(M!==0)return M;const F=ao(g[_[A]],y[b[A]]);if(F!==0)return F}return Pt(_.length,b.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function V0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Pt(s,t);const i=ar(s),a=ar(t),l=Pt(i.seconds,a.seconds);return l!==0?l:Pt(i.nanos,a.nanos)}function k0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ao(i[l],a[l]);if(c)return c}return Pt(i.length,a.length)}function oo(s){return rm(s)}function rm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=ar(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return or(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return mt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=rm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${rm(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function qc(s){switch(lr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Th(s);return t?16+qc(t):16;case 5:return 2*s.stringValue.length;case 6:return or(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return hr(a.fields,((c,d)=>{l+=c.length+qc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function U0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function am(s){return!!s&&"integerValue"in s}function zm(s){return!!s&&"arrayValue"in s}function L0(s){return!!s&&"nullValue"in s}function P0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Hc(s){return!!s&&"mapValue"in s}function nR(s){return(s?.mapValue?.fields||{})[L1]?.stringValue===P1}function Il(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return hr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Il(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(s.arrayValue.values[i]);return t}return{...s}}function iR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===eR}class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Hc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=Ze.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Il(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){hr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new yn(Il(this.value))}}function z1(s){const t=[];return hr(s.fields,((i,a)=>{const l=new Ze([i]);if(Hc(a)){const c=z1(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Cn(t)}class rn{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new rn(t,0,At.min(),At.min(),At.min(),yn.empty(),0)}static newFoundDocument(t,i,a,l){return new rn(t,1,i,At.min(),a,l,0)}static newNoDocument(t,i){return new rn(t,2,i,At.min(),At.min(),yn.empty(),0)}static newUnknownDocument(t,i){return new rn(t,3,i,At.min(),At.min(),yn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(t,i){this.position=t,this.inclusive=i}}function z0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=ao(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function j0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ki(s.position[i],t.position[i]))return!1;return!0}class Pl{constructor(t,i="asc"){this.field=t,this.dir=i}}function sR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class j1{}class ke extends j1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new aR(t,i,a):i==="array-contains"?new uR(t,a):i==="in"?new cR(t,a):i==="not-in"?new hR(t,a):i==="array-contains-any"?new fR(t,a):new ke(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new oR(t,a):new lR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ao(i,this.value)):i!==null&&lr(this.value)===lr(i)&&this.matchesComparison(ao(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends j1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ii(t,i)}matches(t){return B1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B1(s){return s.op==="and"}function q1(s){return rR(s)&&B1(s)}function rR(s){for(const t of s.filters)if(t instanceof ii)return!1;return!0}function om(s){if(s instanceof ke)return s.field.canonicalString()+s.op.toString()+oo(s.value);if(q1(s))return s.filters.map((t=>om(t))).join(",");{const t=s.filters.map((i=>om(i))).join(",");return`${s.op}(${t})`}}function H1(s,t){return s instanceof ke?(function(a,l){return l instanceof ke&&a.op===l.op&&a.field.isEqual(l.field)&&ki(a.value,l.value)})(s,t):s instanceof ii?(function(a,l){return l instanceof ii&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&H1(d,l.filters[g])),!0):!1})(s,t):void _t(19439)}function G1(s){return s instanceof ke?(function(i){return`${i.field.canonicalString()} ${i.op} ${oo(i.value)}`})(s):s instanceof ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(G1).join(" ,")+"}"})(s):"Filter"}class aR extends ke{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class oR extends ke{constructor(t,i){super(t,"in",i),this.keys=F1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class lR extends ke{constructor(t,i){super(t,"not-in",i),this.keys=F1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function F1(s,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class uR extends ke{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return zm(i)&&Ll(i.arrayValue,this.value)}}class cR extends ke{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ll(this.value.arrayValue,i)}}class hR extends ke{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ll(this.value.arrayValue,i)}}class fR extends ke{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ll(this.value.arrayValue,a)))}}class dR{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function B0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new dR(s,t,i,a,l,c,d)}function jm(s){const t=wt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>om(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),vh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>oo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>oo(a))).join(",")),t.Te=i}return t.Te}function Bm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!sR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!H1(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!j0(s.startAt,t.startAt)&&j0(s.endAt,t.endAt)}function lm(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class yo{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mR(s,t,i,a,l,c,d,g){return new yo(s,t,i,a,l,c,d,g)}function qm(s){return new yo(s)}function q0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Q1(s){return s.collectionGroup!==null}function xl(s){const t=wt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new ze(Ze.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Pl(c,a))})),i.has(Ze.keyField().canonicalString())||t.Ie.push(new Pl(Ze.keyField(),a))}return t.Ie}function Ni(s){const t=wt(s);return t.Ee||(t.Ee=pR(t,xl(s))),t.Ee}function pR(s,t){if(s.limitType==="F")return B0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Pl(l.field,c)}));const i=s.endAt?new rh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new rh(s.startAt.position,s.startAt.inclusive):null;return B0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function um(s,t){const i=s.filters.concat([t]);return new yo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function cm(s,t,i){return new yo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Eh(s,t){return Bm(Ni(s),Ni(t))&&s.limitType===t.limitType}function K1(s){return`${jm(Ni(s))}|lt:${s.limitType}`}function Ka(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>G1(l))).join(", ")}]`),vh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>oo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>oo(l))).join(",")),`Target(${a})`})(Ni(s))}; limitType=${s.limitType})`}function bh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of xl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const y=z0(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,xl(a),l)||a.endAt&&!(function(d,g,_){const y=z0(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,xl(a),l))})(s,t)}function gR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Y1(s){return(t,i)=>{let a=!1;for(const l of xl(s)){const c=yR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function yR(s,t,i){const a=s.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?ao(_,y):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:s.dir})}}class na{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){hr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return D1(this.inner)}size(){return this.innerSize}}const _R=new de(mt.comparator);function hs(){return _R}const X1=new de(mt.comparator);function Al(...s){let t=X1;for(const i of s)t=t.insert(i.key,i);return t}function $1(s){let t=X1;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Kr(){return Nl()}function Z1(){return Nl()}function Nl(){return new na((s=>s.toString()),((s,t)=>s.isEqual(t)))}const vR=new de(mt.comparator),TR=new ze(mt.comparator);function zt(...s){let t=TR;for(const i of s)t=t.add(i);return t}const ER=new ze(Pt);function bR(){return ER}function Hm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function J1(s){return{integerValue:""+s}}function AR(s,t){return $w(t)?J1(t):Hm(s,t)}class Ah{constructor(){this._=void 0}}function SR(s,t,i){return s instanceof zl?(function(l,c){const d={fields:{[V1]:{stringValue:M1},[U1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Pm(c)&&(c=Th(c)),c&&(d.fields[k1]=c),{mapValue:d}})(i,t):s instanceof jl?tT(s,t):s instanceof Bl?eT(s,t):(function(l,c){const d=W1(l,c),g=H0(d)+H0(l.Ae);return am(d)&&am(l.Ae)?J1(g):Hm(l.serializer,g)})(s,t)}function wR(s,t,i){return s instanceof jl?tT(s,t):s instanceof Bl?eT(s,t):i}function W1(s,t){return s instanceof ah?(function(a){return am(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class zl extends Ah{}class jl extends Ah{constructor(t){super(),this.elements=t}}function tT(s,t){const i=nT(t);for(const a of s.elements)i.some((l=>ki(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Bl extends Ah{constructor(t){super(),this.elements=t}}function eT(s,t){let i=nT(t);for(const a of s.elements)i=i.filter((l=>!ki(l,a)));return{arrayValue:{values:i}}}class ah extends Ah{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function H0(s){return we(s.integerValue||s.doubleValue)}function nT(s){return zm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class RR{constructor(t,i){this.field=t,this.transform=i}}function CR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof jl&&l instanceof jl||a instanceof Bl&&l instanceof Bl?ro(a.elements,l.elements,ki):a instanceof ah&&l instanceof ah?ki(a.Ae,l.Ae):a instanceof zl&&l instanceof zl})(s.transform,t.transform)}class IR{constructor(t,i){this.version=t,this.transformResults=i}}class Di{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Di}static exists(t){return new Di(void 0,t)}static updateTime(t){return new Di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Sh{}function iT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new rT(s.key,Di.none()):new Jl(s.key,s.data,Di.none());{const i=s.data,a=yn.empty();let l=new ze(Ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new fr(s.key,a,new Cn(l.toArray()),Di.none())}}function xR(s,t,i){s instanceof Jl?(function(l,c,d){const g=l.value.clone(),_=F0(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof fr?(function(l,c,d){if(!Gc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=F0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(sT(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Dl(s,t,i,a){return s instanceof Jl?(function(c,d,g,_){if(!Gc(c.precondition,d))return g;const y=c.value.clone(),b=Q0(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof fr?(function(c,d,g,_){if(!Gc(c.precondition,d))return g;const y=Q0(c.fieldTransforms,_,d),b=d.data;return b.setAll(sT(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,a):(function(c,d,g){return Gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function NR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=W1(a.transform,l||null);c!=null&&(i===null&&(i=yn.empty()),i.set(a.field,c))}return i||null}function G0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ro(a,l,((c,d)=>CR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Jl extends Sh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class fr extends Sh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function F0(s,t,i){const a=new Map;Kt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,wR(d,g,i[l]))}return a}function Q0(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,SR(c,d,t))}return a}class rT extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DR extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&xR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Dl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Dl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=Z1();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=iT(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,((i,a)=>G0(i,a)))&&ro(this.baseMutations,t.baseMutations,((i,a)=>G0(i,a)))}}class Gm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Kt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return vR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Gm(t,i,a,l)}}class MR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class VR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ve,Bt;function kR(s){switch(s){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function aT(s){if(s===void 0)return cs("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ve.OK:return $.OK;case Ve.CANCELLED:return $.CANCELLED;case Ve.UNKNOWN:return $.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return $.INTERNAL;case Ve.UNAVAILABLE:return $.UNAVAILABLE;case Ve.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ve.NOT_FOUND:return $.NOT_FOUND;case Ve.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ve.ABORTED:return $.ABORTED;case Ve.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ve.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:s})}}(Bt=Ve||(Ve={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function UR(){return new TextEncoder}const LR=new ir([4294967295,4294967295],0);function K0(s){const t=UR().encode(s),i=new T1;return i.update(t),new Uint8Array(i.digest())}function Y0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ir([i,a],0),new ir([l,c],0)]}class Fm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(a<0)throw new Sl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ir.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ir.fromNumber(a)));return l.compare(LR)===1&&(l=new ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=K0(t),[a,l]=Y0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=K0(t),[a,l]=Y0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Wl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new wh(At.min(),l,new de(Pt),hs(),zt())}}class Wl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Wl(a,i,zt(),zt(),zt())}}class Fc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class oT{constructor(t,i){this.targetId=t,this.Ce=i}}class lT{constructor(t,i,a=We.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class X0{constructor(){this.ve=0,this.Fe=$0(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t(38017,{changeType:c})}})),new Wl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=$0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PR{constructor(t){this.Ge=t,this.ze=new Map,this.je=hs(),this.Je=Mc(),this.He=Mc(),this.Ye=new de(Pt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(lm(c))if(a===0){const d=new mt(c.path);this.et(i,d,rn.newNoDocument(d,At.min()))}else Kt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=or(a).toUint8Array()}catch(_){if(_ instanceof O1)return so("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Fm(d,l,c)}catch(_){return so(_ instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&lm(g.target)){const _=new mt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,rn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=zt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new wh(t,i,this.Ye,this.je,a);return this.je=hs(),this.Je=Mc(),this.He=Mc(),this.Ye=new de(Pt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new X0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ze(Pt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ze(Pt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new X0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Mc(){return new de(mt.comparator)}function $0(){return new de(mt.comparator)}const zR={asc:"ASCENDING",desc:"DESCENDING"},jR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BR={and:"AND",or:"OR"};class qR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function hm(s,t){return s.useProto3Json||vh(t)?t:{value:t}}function oh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function HR(s,t){return oh(s,t.toTimestamp())}function Oi(s){return Kt(!!s,49232),At.fromTimestamp((function(i){const a=ar(i);return new ue(a.seconds,a.nanos)})(s))}function Qm(s,t){return fm(s,t).canonicalString()}function fm(s,t){const i=(function(l){return new ae(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function cT(s){const t=ae.fromString(s);return Kt(pT(t),10190,{key:t.toString()}),t}function dm(s,t){return Qm(s.databaseId,t.path)}function Gd(s,t){const i=cT(t);if(i.get(1)!==s.databaseId.projectId)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new mt(fT(i))}function hT(s,t){return Qm(s.databaseId,t)}function GR(s){const t=cT(s);return t.length===4?ae.emptyPath():fT(t)}function mm(s){return new ae(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function fT(s){return Kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Z0(s,t,i){return{name:dm(s,t),fields:i.value.mapValue.fields}}function FR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Kt(b===void 0||typeof b=="string",58123),We.fromBase64String(b||"")):(Kt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),We.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?$.UNKNOWN:aT(y.code);return new rt(b,y.message||"")})(d);i=new lT(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Gd(s,a.document.name),c=Oi(a.document.updateTime),d=a.document.createTime?Oi(a.document.createTime):At.min(),g=new yn({mapValue:{fields:a.document.fields}}),_=rn.newFoundDocument(l,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new Fc(y,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Gd(s,a.document),c=a.readTime?Oi(a.readTime):At.min(),d=rn.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Fc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Gd(s,a.document),c=a.removedTargetIds||[];i=new Fc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new VR(l,c),g=a.targetId;i=new oT(g,d)}}return i}function QR(s,t){let i;if(t instanceof Jl)i={update:Z0(s,t.key,t.value)};else if(t instanceof rT)i={delete:dm(s,t.key)};else if(t instanceof fr)i={update:Z0(s,t.key,t.data),updateMask:eC(t.fieldMask)};else{if(!(t instanceof DR))return _t(16599,{Vt:t.type});i={verify:dm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof zl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ah)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:HR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function KR(s,t){return s&&s.length>0?(Kt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Oi(l.updateTime):Oi(c);return d.isEqual(At.min())&&(d=Oi(c)),new IR(d,l.transformResults||[])})(i,t)))):[]}function YR(s,t){return{documents:[hT(s,t.path)]}}function XR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=hT(s,l);const c=(function(y){if(y.length!==0)return mT(ii.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:Ya(M.field),direction:JR(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=hm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function $R(s){let t=GR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Kt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const M=dT(A);return M instanceof ii&&q1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(J){return new Pl(Xa(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let M;return M=typeof A=="object"?A.value:A,vh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(A){const M=!!A.before,F=A.values||[];return new rh(F,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const M=!A.before,F=A.values||[];return new rh(F,M)})(i.endAt)),mR(t,l,d,c,g,"F",_,y)}function ZR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function dT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Xa(i.unaryFilter.field);return ke.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Xa(i.unaryFilter.field);return ke.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Xa(i.unaryFilter.field);return ke.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Xa(i.unaryFilter.field);return ke.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return ke.create(Xa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ii.create(i.compositeFilter.filters.map((a=>dT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function JR(s){return zR[s]}function WR(s){return jR[s]}function tC(s){return BR[s]}function Ya(s){return{fieldPath:s.canonicalString()}}function Xa(s){return Ze.fromServerFormat(s.fieldPath)}function mT(s){return s instanceof ke?(function(i){if(i.op==="=="){if(P0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if(L0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(P0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if(L0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:WR(i.op),value:i.value}}})(s):s instanceof ii?(function(i){const a=i.getFilters().map((l=>mT(l)));return a.length===1?a[0]:{compositeFilter:{op:tC(i.op),filters:a}}})(s):_t(54877,{filter:s})}function eC(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function pT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ws{constructor(t,i,a,l,c=At.min(),d=At.min(),g=We.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Ws(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class nC{constructor(t){this.yt=t}}function iC(s){const t=$R({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?cm(t,t.limit,"L"):t}class sC{constructor(){this.Cn=new rC}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(rr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(rr.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class rC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ze(ae.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ze(ae.comparator)).toArray()}}const J0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gT=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(gT,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class lo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new lo(0)}static cr(){return new lo(-1)}}const W0="LruGarbageCollector",aC=1048576;function tv([s,t],[i,a]){const l=Pt(s,i);return l===0?Pt(t,a):l}class oC{constructor(t){this.Ir=t,this.buffer=new ze(tv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();tv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class lC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(W0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){go(i)?ot(W0,"Ignoring IndexedDB error during garbage collection: ",i):await po(i)}await this.Vr(3e5)}))}}class uC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(_h.ce);const a=new oC(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(J0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,g,_,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,g=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),Qa()<=Lt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function cC(s,t){return new uC(s,t)}class hC{constructor(){this.changes=new na((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class fC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class dC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Dl(a.mutation,l,Cn.empty(),ue.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=Kr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Al();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Kr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=hs();const d=Nl(),g=(function(){return Nl()})();return i.forEach(((_,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof fr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Dl(b.mutation,y,b.mutation.getFieldMask(),ue.now())):d.set(y.key,Cn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new fC(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Nl();let l=new de(((d,g)=>d-g)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=a.get(_)||Cn.empty();b=g.applyToLocalView(y,b),a.set(_,b);const A=(l.get(g.batchId)||zt()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,b=_.value,A=Z1();b.forEach((M=>{if(!c.has(M)){const F=iT(i.get(M),a.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Q1(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(Kr());let g=Vl,_=c;return d.next((y=>Z.forEach(y,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{_=_.insert(b,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,zt()))).next((b=>({batchId:g,changes:$1(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let l=Al();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(_=>{const y=(function(A,M){return new yo(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((b=>{b.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,rn.newInvalidDocument(b)))}));let g=Al();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Dl(b.mutation,y,Cn.empty(),ue.now()),bh(i,y)&&(g=g.insert(_,y))})),g}))}}class mC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:iC(l.bundledQuery),readTime:Oi(l.readTime)}})(i)),Z.resolve()}}class pC{constructor(){this.overlays=new de(mt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Kr();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=Kr(),c=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new de(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=Kr(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=Kr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return Z.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new MR(i,a));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class gC{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Km{constructor(){this.Qr=new ze(He.$r),this.Ur=new ze(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new He(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new He(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new mt(new ae([])),a=new He(i,t),l=new He(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new ae([])),a=new He(i,t),l=new He(i,t+1);let c=zt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||Pt(t.Yr,i.Yr)}static Kr(t,i){return Pt(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}class yC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ze(He.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new OR(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new He(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),l=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(Pt);return i.forEach((l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new He(new mt(c),0);let g=new ze(Pt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new He(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new He(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class _C{constructor(t){this.ri=t,this.docs=(function(){return new de(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(t,i){let a=hs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():rn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=hs();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Qw(Fw(b),a)<=0||(l.has(b.key)||bh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new vC(this)}getSize(t){return Z.resolve(this.size)}}class vC extends hC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class TC{constructor(t){this.persistence=t,this.si=new na((i=>jm(i)),Bm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Km,this.targetCount=0,this.ai=lo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new lo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class yT{constructor(t,i){this.ui={},this.overlays={},this.ci=new _h(0),this.li=!1,this.li=!0,this.hi=new gC,this.referenceDelegate=t(this),this.Pi=new TC(this),this.indexManager=new sC,this.remoteDocumentCache=(function(l){return new _C(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new nC(i),this.Ii=new mC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new pC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new yC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new EC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class EC extends Yw{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Ri=new Km,this.Vi=null}static mi(t){return new Ym(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=mt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class lh{constructor(t,i){this.persistence=t,this.pi=new na((a=>Zw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=cC(this,i)}static mi(t,i){return new lh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=qc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Xm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Xm(t,i.fromCache,a,l)}}class bC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class AC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hA()?8:Xw(an())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new bC;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Qa()<=Lt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ka(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Qa()<=Lt.DEBUG&&ot("QueryEngine","Query:",Ka(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Qa()<=Lt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ka(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(i))):Z.resolve())}ys(t,i){if(q0(i))return Z.resolve(null);let a=Ni(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=cm(i,null,"F"),a=Ni(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,cm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return q0(i)||l.isEqual(At.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(Qa()<=Lt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ka(i)),this.vs(t,d,i,Gw(l,Vl)).next((g=>g)))}))}Ds(t,i){let a=new ze(Y1(t));return i.forEach(((l,c)=>{bh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Qa()<=Lt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ka(i)),this.ps.getDocumentsMatchingQuery(t,i,rr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",SC=3e8;class wC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new de(Pt),this.xs=new na((c=>jm(c)),Bm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function RC(s,t,i,a){return new wC(s,t,i,a)}async function _T(s,t){const i=wt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=zt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function CC(s,t){const i=wt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,b){const A=y.batch,M=A.keys();let F=Z.resolve();return M.forEach((J=>{F=F.next((()=>b.getEntry(_,J))).next((tt=>{const W=y.docVersions.get(J);Kt(W!==null,48541),tt.version.compareTo(W)<0&&(A.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),b.addEntry(tt)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=zt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function vT(s){const t=wt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function IC(s,t){const i=wt(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((b,A)=>{const M=l.get(A);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?F=F.withResumeToken(We.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,a)),l=l.insert(A,F),(function(tt,W,ut){return tt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=SC?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(M,F,b)&&g.push(i.Pi.updateTargetData(c,F))}));let _=hs(),y=zt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(xC(c,d,t.documentUpdates).next((b=>{_=b.ks,y=b.qs}))),!a.isEqual(At.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function xC(s,t,i){let a=zt(),l=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=hs();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):ot($m,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function NC(s,t){const i=wt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function DC(s,t){const i=wt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Ws(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function pm(s,t,i){const a=wt(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!go(d))throw d;ot($m,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function ev(s,t,i){const a=wt(s);let l=At.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const A=wt(_),M=A.xs.get(b);return M!==void 0?Z.resolve(A.Ms.get(M)):A.Pi.getTargetData(y,b)})(a,d,Ni(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:zt()))).next((g=>(OC(a,gR(t),g),{documents:g,Qs:c})))))}function OC(s,t,i){let a=s.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class nv{constructor(){this.activeTargetIds=bR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MC{constructor(){this.Mo=new nv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new nv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class VC{Oo(t){}shutdown(){}}const iv="ConnectivityMonitor";class sv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(iv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(iv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function gm(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Fd="RestConnection",kC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=gm(),g=this.zo(t,i.toUriEncodedString());ot(Fd,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),b=co(y);return this.Jo(t,g,_,a,b).then((A=>(ot(Fd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw so(Fd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=kC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class LC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class PC extends UC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=gm();return new Promise(((g,_)=>{const y=new E1;y.setWithCredentials(!0),y.listenOnce(b1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Bc.NO_ERROR:const A=y.getResponseJson();ot(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Bc.TIMEOUT:ot(nn,`RPC '${t}' ${d} timed out`),_(new rt($.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const M=y.getStatus();if(ot(nn,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const tt=(function(ut){const Et=ut.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Et)>=0?Et:$.UNKNOWN})(J.status);_(new rt(tt,J.message))}else _(new rt($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new rt($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(nn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);ot(nn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=gm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=w1(),g=S1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const b=c.join("");ot(nn,`Creating RPC '${t}' stream ${l}: ${b}`,_);const A=d.createWebChannel(b,_);this.I_(A);let M=!1,F=!1;const J=new LC({Yo:W=>{F?ot(nn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(M||(ot(nn,`Opening RPC '${t}' stream ${l} transport.`),A.open(),M=!0),ot(nn,`RPC '${t}' stream ${l} sending:`,W),A.send(W))},Zo:()=>A.close()}),tt=(W,ut,Et)=>{W.listen(ut,(pt=>{try{Et(pt)}catch(vt){setTimeout((()=>{throw vt}),0)}}))};return tt(A,bl.EventType.OPEN,(()=>{F||(ot(nn,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),tt(A,bl.EventType.CLOSE,(()=>{F||(F=!0,ot(nn,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(A))})),tt(A,bl.EventType.ERROR,(W=>{F||(F=!0,so(nn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new rt($.UNAVAILABLE,"The operation could not be completed")))})),tt(A,bl.EventType.MESSAGE,(W=>{if(!F){const ut=W.data[0];Kt(!!ut,16349);const Et=ut,pt=Et?.error||Et[0]?.error;if(pt){ot(nn,`RPC '${t}' stream ${l} received error:`,pt);const vt=pt.status;let Xt=(function(S){const C=Ve[S];if(C!==void 0)return aT(C)})(vt),Nt=pt.message;Xt===void 0&&(Xt=$.INTERNAL,Nt="Unknown error status: "+vt+" with message "+pt.message),F=!0,J.a_(new rt(Xt,Nt)),A.close()}else ot(nn,`RPC '${t}' stream ${l} received:`,ut),J.u_(ut)}})),tt(g,A1.STAT_EVENT,(W=>{W.stat===im.PROXY?ot(nn,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===im.NOPROXY&&ot(nn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Qd(){return typeof document<"u"?document:null}function Rh(s){return new qR(s,!0)}class TT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rv="PersistentStream";class ET{constructor(t,i,a,l,c,d,g,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(cs(i.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new rt($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(rv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zC extends ET{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=FR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Oi(d.readTime):At.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=mm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=lm(_)?{documents:YR(c,_)}:{query:XR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=uT(c,d.resumeToken);const y=hm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=oh(c,d.snapshotVersion.toTimestamp());const y=hm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=ZR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=mm(this.serializer),i.removeTarget=t,this.q_(i)}}class jC extends ET{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=KR(t.writeResults,t.commitTime),a=Oi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=mm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>QR(this.serializer,a)))};this.q_(i)}}class BC{}class qC extends BC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,fm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,fm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class GC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ia(this)&&(ot(ea,"Restarting streams for network reachability change."),await(async function(_){const y=wt(_);y.Ea.add(4),await tu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ch(y)})(this))}))})),this.Ra=new HC(a,l)}}async function Ch(s){if(ia(s))for(const t of s.da)await t(!0)}async function tu(s){for(const t of s.da)await t(!1)}function bT(s,t){const i=wt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),tp(i)?Wm(i):_o(i).O_()&&Jm(i,t))}function Zm(s,t){const i=wt(s),a=_o(i);i.Ia.delete(t),a.O_()&&AT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ia(i)&&i.Ra.set("Unknown"))}function Jm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}_o(s).Y_(t)}function AT(s,t){s.Va.Ue(t),_o(s).Z_(t)}function Wm(s){s.Va=new PR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),_o(s).start(),s.Ra.ua()}function tp(s){return ia(s)&&!_o(s).x_()&&s.Ia.size>0}function ia(s){return wt(s).Ea.size===0}function ST(s){s.Va=void 0}async function FC(s){s.Ra.set("Online")}async function QC(s){s.Ia.forEach(((t,i)=>{Jm(s,t)}))}async function KC(s,t){ST(s),tp(s)?(s.Ra.ha(t),Wm(s)):s.Ra.set("Unknown")}async function YC(s,t,i){if(s.Ra.set("Online"),t instanceof lT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(a){ot(ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await uh(s,a)}else if(t instanceof Fc?s.Va.Ze(t):t instanceof oT?s.Va.st(t):s.Va.tt(t),!i.isEqual(At.min()))try{const a=await vT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(We.EMPTY_BYTE_STRING,b.snapshotVersion)),AT(c,_);const A=new Ws(b.target,_,y,b.sequenceNumber);Jm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){ot(ea,"Failed to raise snapshot:",a),await uh(s,a)}}async function uh(s,t,i){if(!go(t))throw t;s.Ea.add(1),await tu(s),s.Ra.set("Offline"),i||(i=()=>vT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(ea,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ch(s)}))}function wT(s,t){return t().catch((i=>uh(s,i,t)))}async function Ih(s){const t=wt(s),i=ur(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;XC(t);)try{const l=await NC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,$C(t,l)}catch(l){await uh(t,l)}RT(t)&&CT(t)}function XC(s){return ia(s)&&s.Ta.length<10}function $C(s,t){s.Ta.push(t);const i=ur(s);i.O_()&&i.X_&&i.ea(t.mutations)}function RT(s){return ia(s)&&!ur(s).x_()&&s.Ta.length>0}function CT(s){ur(s).start()}async function ZC(s){ur(s).ra()}async function JC(s){const t=ur(s);for(const i of s.Ta)t.ea(i.mutations)}async function WC(s,t,i){const a=s.Ta.shift(),l=Gm.from(a,t,i);await wT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ih(s)}async function tI(s,t){t&&ur(s).X_&&await(async function(a,l){if((function(d){return kR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();ur(a).B_(),await wT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ih(a)}})(s,t),RT(s)&&CT(s)}async function av(s,t){const i=wt(s);i.asyncQueue.verifyOperationInProgress(),ot(ea,"RemoteStore received new credentials");const a=ia(i);i.Ea.add(3),await tu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ch(i)}async function eI(s,t){const i=wt(s);t?(i.Ea.delete(2),await Ch(i)):t||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function _o(s){return s.ma||(s.ma=(function(i,a,l){const c=wt(i);return c.sa(),new zC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:FC.bind(null,s),t_:QC.bind(null,s),r_:KC.bind(null,s),H_:YC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),tp(s)?Wm(s):s.Ra.set("Unknown")):(await s.ma.stop(),ST(s))}))),s.ma}function ur(s){return s.fa||(s.fa=(function(i,a,l){const c=wt(i);return c.sa(),new jC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZC.bind(null,s),r_:tI.bind(null,s),ta:JC.bind(null,s),na:WC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Ih(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(ea,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ep{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new ep(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(s,t){if(cs("AsyncQueue",`${t}: ${s}`),go(s))return new rt($.UNAVAILABLE,`${t}: ${s}`);throw s}class eo{static emptySet(t){return new eo(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=Al(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new eo;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class ov{constructor(){this.ga=new de(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class uo{constructor(t,i,a,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new uo(t,i,eo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class nI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class iI{constructor(){this.queries=lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=wt(i),c=l.queries;l.queries=lv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new rt($.ABORTED,"Firestore shutting down"))}}function lv(){return new na((s=>K1(s)),Eh)}async function sI(s,t){const i=wt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new nI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=np(d,`Initialization of query '${Ka(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ip(i)}async function rI(s,t){const i=wt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function aI(s,t){const i=wt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&ip(i)}function oI(s,t,i){const a=wt(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function ip(s){s.Ca.forEach((t=>{t.next()}))}var ym,uv;(uv=ym||(ym={})).Ma="default",uv.Cache="cache";class lI{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new uo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ym.Cache}}class IT{constructor(t){this.key=t}}class xT{constructor(t){this.key=t}}class uI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=Y1(t),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new ov,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const M=l.get(b),F=bh(this.query,A)?A:null,J=!!M&&this.mutatedKeys.has(M.key),tt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;M&&F?M.data.isEqual(F.data)?J!==tt&&(a.track({type:3,doc:F}),W=!0):this.su(M,F)||(a.track({type:2,doc:F}),W=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(g=!0)):!M&&F?(a.track({type:0,doc:F}),W=!0):M&&!F&&(a.track({type:1,doc:M}),W=!0,(_||y)&&(g=!0)),W&&(F?(d=d.add(F),c=tt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(F,J){const tt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:W})}};return tt(F)-tt(J)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new uo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ov,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new xT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new IT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sp="SyncEngine";class cI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class hI{constructor(t){this.key=t,this.hu=!1}}class fI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new na((g=>K1(g)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new de(mt.comparator),this.Au=new Map,this.Ru=new Km,this.Vu={},this.mu=new Map,this.fu=lo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dI(s,t,i=!0){const a=kT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await NT(a,t,i,!0),l}async function mI(s,t){const i=kT(s);await NT(i,t,!0,!1)}async function NT(s,t,i,a){const l=await DC(s.localStore,Ni(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await pI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&bT(s.remoteStore,l),g}async function pI(s,t,i,a,l){s.pu=(A,M,F)=>(async function(tt,W,ut,Et){let pt=W.view.ru(ut);pt.Cs&&(pt=await ev(tt.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,pt))));const vt=Et&&Et.targetChanges.get(W.targetId),Xt=Et&&Et.targetMismatches.get(W.targetId)!=null,Nt=W.view.applyChanges(pt,tt.isPrimaryClient,vt,Xt);return hv(tt,W.targetId,Nt.au),Nt.snapshot})(s,A,M,F);const c=await ev(s.localStore,t,!0),d=new uI(t,c.Qs),g=d.ru(c.documents),_=Wl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);hv(s,i,y.au);const b=new cI(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function gI(s,t,i){const a=wt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Eh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await pm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Zm(a.remoteStore,l.targetId),_m(a,l.targetId)})).catch(po)):(_m(a,l.targetId),await pm(a.localStore,l.targetId,!0))}async function yI(s,t){const i=wt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(i.remoteStore,a.targetId))}async function _I(s,t,i){const a=wI(s);try{const l=await(function(d,g){const _=wt(d),y=ue.now(),b=g.reduce(((F,J)=>F.add(J.key)),zt());let A,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=hs(),tt=zt();return _.Ns.getEntries(F,b).next((W=>{J=W,J.forEach(((ut,Et)=>{Et.isValidDocument()||(tt=tt.add(ut))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,J))).next((W=>{A=W;const ut=[];for(const Et of g){const pt=NR(Et,A.get(Et.key).overlayedDocument);pt!=null&&ut.push(new fr(Et.key,pt,z1(pt.value.mapValue),Di.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,ut,g)})).next((W=>{M=W;const ut=W.applyToLocalDocumentSet(A,tt);return _.documentOverlayCache.saveOverlays(F,W.batchId,ut)}))})).then((()=>({batchId:M.batchId,changes:$1(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new de(Pt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await eu(a,l.changes),await Ih(a.remoteStore)}catch(l){const c=np(l,"Failed to persist write");i.reject(c)}}async function DT(s,t){const i=wt(s);try{const a=await IC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Kt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Kt(d.hu,14607):l.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))})),await eu(i,a,t)}catch(a){await po(a)}}function cv(s,t,i){const a=wt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=wt(d);_.onlineState=g;let y=!1;_.queries.forEach(((b,A)=>{for(const M of A.Sa)M.va(g)&&(y=!0)})),y&&ip(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function vI(s,t,i){const a=wt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new de(mt.comparator);d=d.insert(c,rn.newNoDocument(c,At.min()));const g=zt().add(c),_=new wh(At.min(),new Map,new de(Pt),d,g);await DT(a,_),a.du=a.du.remove(c),a.Au.delete(t),rp(a)}else await pm(a.localStore,t,!1).then((()=>_m(a,t,i))).catch(po)}async function TI(s,t){const i=wt(s),a=t.batch.batchId;try{const l=await CC(i.localStore,t);MT(i,a,null),OT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await eu(i,l)}catch(l){await po(l)}}async function EI(s,t,i){const a=wt(s);try{const l=await(function(d,g){const _=wt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>(Kt(A!==null,37113),b=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);MT(a,t,i),OT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await eu(a,l)}catch(l){await po(l)}}function OT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function MT(s,t,i){const a=wt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function _m(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||VT(s,a)}))}function VT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Zm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),rp(s))}function hv(s,t,i){for(const a of i)a instanceof IT?(s.Ru.addReference(a.key,t),bI(s,a)):a instanceof xT?(ot(sp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||VT(s,a.key)):_t(19791,{wu:a})}function bI(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ot(sp,"New document in limbo: "+i),s.Eu.add(a),rp(s))}function rp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new mt(ae.fromString(t)),a=s.fu.next();s.Au.set(a,new hI(i)),s.du=s.du.insert(i,a),bT(s.remoteStore,new Ws(Ni(qm(i.path)),a,"TargetPurposeLimboResolution",_h.ce))}}async function eu(s,t,i){const a=wt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Xm.As(_.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const b=wt(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(y,(M=>Z.forEach(M.Es,(F=>b.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>Z.forEach(M.ds,(F=>b.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!go(A))throw A;ot($m,"Failed to update sequence numbers: "+A)}for(const A of y){const M=A.targetId;if(!A.fromCache){const F=b.Ms.get(M),J=F.snapshotVersion,tt=F.withLastLimboFreeSnapshotVersion(J);b.Ms=b.Ms.insert(M,tt)}}})(a.localStore,c))}async function AI(s,t){const i=wt(s);if(!i.currentUser.isEqual(t)){ot(sp,"User change. New user:",t.toKey());const a=await _T(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new rt($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await eu(i,a.Ls)}}function SI(s,t){const i=wt(s),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function kT(s){const t=wt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=DT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vI.bind(null,t),t.Pu.H_=aI.bind(null,t.eventManager),t.Pu.yu=oI.bind(null,t.eventManager),t}function wI(s){const t=wt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=TI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EI.bind(null,t),t}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return RC(this.persistence,new AC,t.initialUser,this.serializer)}Cu(t){return new yT(Ym.mi,this.serializer)}Du(t){return new MC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class RI extends ch{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Kt(this.persistence.referenceDelegate instanceof lh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new lC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new yT((a=>lh.mi(a,i)),this.serializer)}}class vm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>cv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=AI.bind(null,this.syncEngine),await eI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new iI})()}createDatastore(t){const i=Rh(t.databaseInfo.databaseId),a=(function(c){return new PC(c)})(t.databaseInfo);return(function(c,d,g,_){return new qC(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new GC(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>cv(this.syncEngine,i,0)),(function(){return sv.v()?new sv:new VC})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,b){const A=new fI(l,c,d,g,_,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=wt(i);ot(ea,"RemoteStore shutting down."),a.Ea.add(5),await tu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class CI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):cs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const cr="FirestoreClient";class II{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=sn.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=np(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Kd(s,t){s.asyncQueue.verifyOperationInProgress(),ot(cr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await _T(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function fv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await xI(s);ot(cr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>av(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>av(t.remoteStore,l))),s._onlineComponents=t}async function xI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(cr,"Using user provided OfflineComponentProvider");try{await Kd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;so("Error using user provided cache. Falling back to memory cache: "+i),await Kd(s,new ch)}}else ot(cr,"Using default OfflineComponentProvider"),await Kd(s,new RI(void 0));return s._offlineComponents}async function UT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(cr,"Using user provided OnlineComponentProvider"),await fv(s,s._uninitializedComponentsProvider._online)):(ot(cr,"Using default OnlineComponentProvider"),await fv(s,new vm))),s._onlineComponents}function NI(s){return UT(s).then((t=>t.syncEngine))}async function dv(s){const t=await UT(s),i=t.eventManager;return i.onListen=dI.bind(null,t.syncEngine),i.onUnlisten=gI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=mI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=yI.bind(null,t.syncEngine),i}function LT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const mv=new Map;const PT="firestore.googleapis.com",pv=!0;class gv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PT,this.ssl=pv}else this.host=t.host,this.ssl=t.ssl??pv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=gT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<aC)throw new rt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Hw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Mw;switch(a.type){case"firstParty":return new Lw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=mv.get(i);a&&(ot("ComponentProvider","Removing Datastore"),mv.delete(i),a.terminate())})(this),Promise.resolve()}}function DI(s,t,i,a={}){s=Xr(s,xh);const l=co(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(kv(`https://${g}`),Uv("Firestore",!0)),c.host!==PT&&c.host!==g&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!Zr(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=sn.MOCK_USER;else{y=nA(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new rt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new sn(A)}s._authCredentials=new Vw(new C1(y,b))}}class sa{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new sa(this.firestore,t,this._query)}}class Le{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Zl(i,Le._jsonSchema))return new Le(t,a||null,new mt(ae.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Ue("string",Le._jsonSchemaVersion),referencePath:Ue("string")};class sr extends sa{constructor(t,i,a){super(t,i,qm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new mt(t))}withConverter(t){return new sr(this.firestore,t,this._path)}}function yv(s,t,...i){if(s=Je(s),I1("collection","path",t),s instanceof xh){const a=ae.fromString(t,...i);return I0(a),new sr(s,null,a)}{if(!(s instanceof Le||s instanceof sr))throw new rt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ae.fromString(t,...i));return I0(a),new sr(s.firestore,null,a)}}function Tm(s,t,...i){if(s=Je(s),arguments.length===1&&(t=Um.newId()),I1("doc","path",t),s instanceof xh){const a=ae.fromString(t,...i);return C0(a),new Le(s,null,new mt(a))}{if(!(s instanceof Le||s instanceof sr))throw new rt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ae.fromString(t,...i));return C0(a),new Le(s.firestore,s instanceof sr?s.converter:null,new mt(a))}}const _v="AsyncQueue";class vv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TT(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&ot(_v,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!go(t))throw t;ot(_v,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",Tv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ep.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:Tv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Tv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function Ev(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ql extends xh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new vv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new vv(t),this._firestoreClient=void 0,await t}}}function OI(s,t){const i=typeof s=="object"?s:jv(),a=typeof s=="string"?s:ih,l=Rm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=tA("firestore");c&&DI(l,...c)}return l}function zT(s){if(s._terminated)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||MI(s),s._firestoreClient}function MI(s){const t=s._freezeSettings(),i=(function(l,c,d,g){return new tR(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,LT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new II(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(We.fromBase64String(t))}catch(i){throw new rt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zl(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Ue("string",Hn._jsonSchemaVersion),bytes:Ue("string")};class Nh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Dh{constructor(t){this._methodName=t}}class Mi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(Zl(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Ue("string",Mi._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class Vi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zl(t,Vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Vi(t.vectorValues);throw new rt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Ue("string",Vi._jsonSchemaVersion),vectorValues:Ue("object")};const VI=/^__.*__$/;class kI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new fr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Jl(t,this.data,i,this.fieldTransforms)}}class jT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new fr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function BT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:s})}}class ap{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ap({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return hh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(BT(this.Ac)&&VI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class UI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Rh(t)}Cc(t,i,a,l=!1){return new ap({Ac:t,methodName:i,Dc:a,path:Ze.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function op(s){const t=s._freezeSettings(),i=Rh(s._databaseId);return new UI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function LI(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);up("Data must be an object, but it was:",d,a);const g=qT(a,d);let _,y;if(c.merge)_=new Cn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const M=Em(t,A,i);if(!d.contains(M))throw new rt($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);GT(b,M)||b.push(M)}_=new Cn(b),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new kI(new yn(g),_,y)}class Oh extends Dh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Oh}}class lp extends Dh{_toFieldTransform(t){return new RR(t.path,new zl)}isEqual(t){return t instanceof lp}}function PI(s,t,i,a){const l=s.Cc(1,t,i);up("Data must be an object, but it was:",l,a);const c=[],d=yn.empty();hr(a,((_,y)=>{const b=cp(t,_,i);y=Je(y);const A=l.yc(b);if(y instanceof Oh)c.push(b);else{const M=nu(y,A);M!=null&&(c.push(b),d.set(b,M))}}));const g=new Cn(c);return new jT(d,g,l.fieldTransforms)}function zI(s,t,i,a,l,c){const d=s.Cc(1,t,i),g=[Em(t,a,i)],_=[l];if(c.length%2!=0)throw new rt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Em(t,c[M])),_.push(c[M+1]);const y=[],b=yn.empty();for(let M=g.length-1;M>=0;--M)if(!GT(y,g[M])){const F=g[M];let J=_[M];J=Je(J);const tt=d.yc(F);if(J instanceof Oh)y.push(F);else{const W=nu(J,tt);W!=null&&(y.push(F),b.set(F,W))}}const A=new Cn(y);return new jT(b,A,d.fieldTransforms)}function jI(s,t,i,a=!1){return nu(i,s.Cc(a?4:3,t))}function nu(s,t){if(HT(s=Je(s)))return up("Unsupported field value:",t,s),qT(s,t);if(s instanceof Dh)return(function(a,l){if(!BT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=nu(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Je(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return AR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ue.fromDate(a);return{timestampValue:oh(l.serializer,c)}}if(a instanceof ue){const c=new ue(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oh(l.serializer,c)}}if(a instanceof Mi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Hn)return{bytesValue:uT(l.serializer,a._byteString)};if(a instanceof Le){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Vi)return(function(d,g){return{mapValue:{fields:{[L1]:{stringValue:P1},[sh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Hm(g.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${yh(a)}`)})(s,t)}function qT(s,t){const i={};return D1(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hr(s,((a,l)=>{const c=nu(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function HT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ue||s instanceof Mi||s instanceof Hn||s instanceof Le||s instanceof Dh||s instanceof Vi)}function up(s,t,i){if(!HT(i)||!x1(i)){const a=yh(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function Em(s,t,i){if((t=Je(t))instanceof Nh)return t._internalPath;if(typeof t=="string")return cp(s,t);throw hh("Field path arguments must be of type string or ",s,!1,void 0,i)}const BI=new RegExp("[~\\*/\\[\\]]");function cp(s,t,i){if(t.search(BI)>=0)throw hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Nh(...t.split("."))._internalPath}catch{throw hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function hh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new rt($.INVALID_ARGUMENT,g+s+_)}function GT(s,t){return s.some((i=>i.isEqual(t)))}class FT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new qI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(hp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class qI extends FT{data(){return super.data()}}function hp(s,t){return typeof t=="string"?cp(s,t):t instanceof Nh?t._internalPath:t._delegate._internalPath}function HI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fp{}class QT extends fp{}function GI(s,t,...i){let a=[];t instanceof fp&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((_=>_ instanceof mp)).length,g=c.filter((_=>_ instanceof dp)).length;if(d>1||d>0&&g>0)throw new rt($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class dp extends QT{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new dp(t,i,a)}_apply(t){const i=this._parse(t);return KT(t._query,i),new sa(t.firestore,t.converter,um(t._query,i))}_parse(t){const i=op(t.firestore);return(function(c,d,g,_,y,b,A){let M;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new rt($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Av(A,b);const J=[];for(const tt of A)J.push(bv(_,c,tt));M={arrayValue:{values:J}}}else M=bv(_,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Av(A,b),M=jI(g,d,A,b==="in"||b==="not-in");return ke.create(y,b,M)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class mp extends fp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new mp(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ii.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const _ of g)KT(d,_),d=um(d,_)})(t._query,i),new sa(t.firestore,t.converter,um(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pp extends QT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new pp(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pl(c,d)})(t._query,this._field,this._direction);return new sa(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new yo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function FI(s,t="asc"){const i=t,a=hp("orderBy",s);return pp._create(a,i)}function bv(s,t,i){if(typeof(i=Je(i))=="string"){if(i==="")throw new rt($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q1(t)&&i.indexOf("/")!==-1)throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ae.fromString(i));if(!mt.isDocumentKey(a))throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return U0(s,new mt(a))}if(i instanceof Le)return U0(s,i._key);throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(i)}.`)}function Av(s,t){if(!Array.isArray(s)||s.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function KT(s,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class QI{convertValue(t,i="none"){switch(lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return hr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[sh].arrayValue?.values?.map((a=>we(a.doubleValue)));return new Vi(i)}convertGeoPoint(t){return new Mi(we(t.latitude),we(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Th(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(kl(t));default:return null}}convertTimestamp(t){const i=ar(t);return new ue(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ae.fromString(t);Kt(pT(a),9688,{name:t});const l=new Ul(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return l.isEqual(i)||cs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function KI(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class wl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $r extends FT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(hp("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=$r._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}$r._jsonSchemaVersion="firestore/documentSnapshot/1.0",$r._jsonSchema={type:Ue("string",$r._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Qc extends $r{data(t={}){return super.data(t)}}class no{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new wl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Qc(this._firestore,this._userDataWriter,a.key,a,new wl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new wl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new wl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:YI(g.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=no._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function YI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Ue("string",no._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class YT extends QI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function Sv(s,t,i,...a){s=Xr(s,Le);const l=Xr(s.firestore,ql),c=op(l);let d;return d=typeof(t=Je(t))=="string"||t instanceof Nh?zI(c,"updateDoc",s._key,t,i,a):PI(c,"updateDoc",s._key,t),XT(l,[d.toMutation(s._key,Di.exists(!0))])}function XI(s,t){const i=Xr(s.firestore,ql),a=Tm(s),l=KI(s.converter,t);return XT(i,[LI(op(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Di.exists(!1))]).then((()=>a))}function $I(s,...t){s=Je(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Ev(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ev(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof Le)d=Xr(s.firestore,ql),g=qm(s._key.path),c={next:_=>{t[a]&&t[a](ZI(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=Xr(s,sa);d=Xr(_.firestore,ql),g=_._query;const y=new YT(d);c={next:b=>{t[a]&&t[a](new no(d,y,_,b))},error:t[a+1],complete:t[a+2]},HI(s._query)}return(function(y,b,A,M){const F=new CI(M),J=new lI(b,F,A);return y.asyncQueue.enqueueAndForget((async()=>sI(await dv(y),J))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>rI(await dv(y),J)))}})(zT(d),g,l,c)}function XT(s,t){return(function(a,l){const c=new Yr;return a.asyncQueue.enqueueAndForget((async()=>_I(await NI(a),l,c))),c.promise})(zT(s),t)}function ZI(s,t,i){const a=i.docs.get(t._key),l=new YT(s);return new $r(s,l,t._key,a,new wl(i.hasPendingWrites,i.fromCache),t.converter)}function JI(){return new lp("serverTimestamp")}(function(t,i=!0){(function(l){mo=l})(ho),io(new Jr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ql(new kw(a.getProvider("auth-internal")),new Pw(d,a.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new rt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(y.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),nr(A0,S0,t),nr(A0,S0,"esm2020")})();const WI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),wv=s=>{const t=tx(s);return t.charAt(0).toUpperCase()+t.slice(1)},$T=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),ex=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var nx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ix=It.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>It.createElement("svg",{ref:_,...nx,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:$T("lucide",l),...!c&&!ex(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>It.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Yt=(s,t)=>{const i=It.forwardRef(({className:a,...l},c)=>It.createElement(ix,{ref:c,iconNode:t,className:$T(`lucide-${WI(wv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=wv(s),i};const sx=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],rx=Yt("camera",sx);const ax=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Hl=Yt("circle-check",ax);const ox=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lx=Yt("circle-question-mark",ox);const ux=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],cx=Yt("circle-x",ux);const hx=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ZT=Yt("copy",hx);const fx=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],dx=Yt("external-link",fx);const mx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],px=Yt("file-text",mx);const gx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],JT=Yt("history",gx);const yx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],WT=Yt("image",yx);const _x=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],tE=Yt("layout-template",_x);const vx=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],eE=Yt("lightbulb",vx);const Tx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],nE=Yt("loader-circle",Tx);const Ex=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],bx=Yt("maximize-2",Ex);const Ax=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],Sx=Yt("monitor-play",Ax);const wx=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Rx=Yt("palette",wx);const Cx=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],iE=Yt("pen-line",Cx);const Ix=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],xx=Yt("pin-off",Ix);const Nx=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],Dx=Yt("pin",Nx);const Ox=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Mx=Yt("refresh-cw",Ox);const Vx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kx=Yt("save",Vx);const Ux=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Lx=Yt("search",Ux);const Px=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gp=Yt("settings",Px);const zx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jx=Yt("shield-check",zx);const Bx=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],sE=Yt("smartphone",Bx);const qx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],fh=Yt("sparkles",qx);const Hx=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Gx=Yt("tag",Hx);const Fx=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Qx=Yt("type",Fx);const Kx=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Kc=Yt("wand-sparkles",Kx);const Yx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vo=Yt("x",Yx);const Xx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],yp=Yt("zap",Xx),bm={apiKey:"AIzaSyA9KFkqqWgW-plc--aEUiNi7bS6Ti4X7j0",authDomain:"promptp-eb4de.firebaseapp.com",projectId:"promptp-eb4de",storageBucket:"promptp-eb4de.firebasestorage.app",messagingSenderId:"520787196268",appId:"1:520787196268:web:45c08ff2a6d60ec33a1b49"};bm.apiKey||console.warn("Firebase API Key is missing! Check your .env file.");const dh=bm.apiKey?zv(bm):null,kc=dh?Dw(dh):null,Fr=dh?OI(dh):null,Uc="prompt-master",$x=s=>{if(!s)return null;try{const t=s.indexOf("{");if(t===-1)return null;let i=0,a=!1,l=!1;for(let c=t;c<s.length;c++){const d=s[c];if(!l&&d==='"'&&(a=!a),a||(d==="{"?i++:d==="}"&&i--),d==="\\"&&!l?l=!0:l=!1,i===0){const g=s.substring(t,c+1);return JSON.parse(g)}}}catch{const i=s.match(/\{[\s\S]*\}/);if(i)try{return JSON.parse(i[0])}catch{return null}}return null},rE=(s,t)=>{if(!s)return;const i=a=>{try{const l=document.createElement("textarea");l.value=a,l.style.position="fixed",l.style.left="-9999px",l.style.top="0",document.body.appendChild(l),l.focus(),l.select();const c=document.execCommand("copy");document.body.removeChild(l),c&&t&&t()}catch(l){console.error("Fallback copy failed",l)}};navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(s).then(()=>{t&&t()}).catch(()=>i(s)):i(s)},Zx=s=>{if(!s)return"border-stone-200 bg-white";const t=s.toLowerCase();return t.includes("gpt")?"border-emerald-200 bg-emerald-50/30 hover:border-emerald-300":t.includes("claude")?"border-purple-200 bg-purple-50/30 hover:border-purple-300":t.includes("gemini")?"border-blue-200 bg-blue-50/30 hover:border-blue-300":t.includes("midjourney")||t.includes("dall")||t.includes("flux")||t.includes("imagine")?"border-orange-200 bg-orange-50/30 hover:border-orange-300":t.includes("llama")?"border-indigo-200 bg-indigo-50/30 hover:border-indigo-300":"border-stone-200 bg-white hover:border-stone-300"},Rv=s=>{if(!s)return"bg-stone-100 text-stone-600";const t=s.toLowerCase();return t.includes("gpt")?"bg-emerald-100 text-emerald-700":t.includes("claude")?"bg-purple-100 text-purple-700":t.includes("gemini")?"bg-blue-100 text-blue-700":t.includes("midjourney")||t.includes("dall")||t.includes("flux")?"bg-orange-100 text-orange-700":"bg-stone-100 text-stone-600"},Za={general:{label:" (General)",desc:` 
 `,toast:""},costar:{label:"CO-STAR ",desc:` 
  Context ()  Audience ()`,toast:"CO-STAR "},rtf:{label:"RTF ",desc:` 
 Role () + Task () + Format ()`,toast:"RTF  AI"},tag:{label:"TAG ",desc:` 
 Task () + Action () + Goal ()`,toast:"TAG  AI "}},Jx=["--ar 16:9 ()","--ar 9:16 (IG Reels)","--ar 1:1 ()","--ar 4:3 ()","--ar 2.39:1 (Anamorphic)"],Cv=[{id:"usageType",label:" (Lifecycle)",icon:x.jsx(JT,{size:20}),desc:" or ",placeholder:"System Prompt...",options:[""," (System Prompt)"," AI  (Gems/GPTs)","API "],colSpan:2,mode:"all",isMulti:!1},{id:"model",label:" (Target Model)",icon:x.jsx(yp,{size:20}),desc:" 2026 ",placeholder:"...",options:["GPT-5 (OpenAI)","Claude 4.6 Opus (Anthropic)","Gemini 3 Pro (Google)","Llama 4 (Meta)","Gemini 2.5 Flash (Fast)"],imageOptions:["Gemini Imagine 3 (Google)","Midjourney v7 (Midjourney)","DALL-E 4 (OpenAI)","Flux Pro 2 (Black Forest Labs)"],colSpan:1,mode:"all",isMulti:!1},{id:"framework",label:" (Framework)",icon:x.jsx(tE,{size:20}),desc:"",placeholder:"...",options:Object.values(Za).map(s=>s.label),colSpan:1,mode:"text",isMulti:!1},{id:"aspectRatio",label:" (Ratio)",icon:x.jsx(Sx,{size:20}),desc:"",placeholder:"...",options:Jx,colSpan:1,mode:"image",isMulti:!1},{id:"role",label:" (Role)",icon:x.jsx(Kc,{size:20}),desc:"AI ",placeholder:"Python ...",options:["","","","","UX "],colSpan:1,mode:"text",isMulti:!1},{id:"goal",label:" (Task)",icon:x.jsx(Hl,{size:20}),desc:"",placeholder:"...",options:["","","",""],colSpan:1,mode:"text",isMulti:!1},{id:"imageSubject",label:" (Subject)",icon:x.jsx(WT,{size:20}),desc:"",placeholder:"...",options:["","","",""],colSpan:2,mode:"image",isMulti:!1},{id:"scenario",label:" (Context)",icon:x.jsx(sE,{size:20}),desc:"",placeholder:"...",options:["",""," IG ",""],colSpan:2,mode:"text",isMulti:!0},{id:"artStyle",label:" (Art Style)",icon:x.jsx(Rx,{size:20}),desc:"",placeholder:"Cyberpunk, Ukiyo-e...",options:["Photorealistic ()","Cyberpunk ()","Anime/Manga ()","Oil Painting ()","3D Render (3D )"],colSpan:1,mode:"image",isMulti:!1},{id:"lighting",label:" (Lighting)",icon:x.jsx(rx,{size:20}),desc:"",placeholder:"Cinematic lighting...",options:["Cinematic Lighting","Natural Light","Neon Lights","Macro Photography","Wide Angle"],colSpan:1,mode:"image",isMulti:!1},{id:"details",label:" (Details)",icon:x.jsx(iE,{size:20}),desc:"",placeholder:"...",options:[""," CSV ","",""],colSpan:2,mode:"text",isMulti:!0},{id:"tone",label:" (Tone)",icon:x.jsx(Qx,{size:20}),desc:"",placeholder:"...",options:["","","","",""],colSpan:2,mode:"text",isMulti:!0},{id:"constraints",label:" (Negative)",icon:x.jsx(vo,{size:20}),desc:" / ",placeholder:"...",options:["","","Low quality","Blurry","Text, Watermark"],colSpan:2,mode:"all",isMulti:!0},{id:"outputSyntax",label:" (Format)",icon:x.jsx(gp,{size:20}),desc:"",placeholder:"...",options:["Markdown","XML (Claude)","JSON","HTML Table"],colSpan:2,mode:"all",isMulti:!1}],Yd=async(s,t)=>{const a=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${s}`,d=await(await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}]})})).json();if(d.error)throw new Error(d.error.message);return d.candidates[0].content.parts[0].text},Wx=({message:s,onClose:t})=>(It.useEffect(()=>{const i=setTimeout(t,5e3);return()=>clearTimeout(i)},[t]),x.jsxs("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-[60] bg-stone-900 text-white px-6 py-4 rounded-xl shadow-2xl flex items-start gap-3 max-w-sm w-full animate-in slide-in-from-top-4 fade-in duration-300",children:[x.jsx("div",{className:"bg-orange-500 p-1 rounded-full shrink-0 mt-0.5",children:x.jsx(eE,{size:16,fill:"currentColor",className:"text-white"})}),x.jsx("div",{className:"flex-1 text-sm leading-relaxed",children:s}),x.jsx("button",{onClick:t,className:"text-stone-400 hover:text-white shrink-0",children:x.jsx(vo,{size:16})})]})),tN=({isOpen:s,onClose:t})=>s?x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:x.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl overflow-hidden shadow-2xl max-h-[85vh] flex flex-col",children:[x.jsxs("div",{className:"bg-stone-900 p-4 text-white flex justify-between items-center shrink-0",children:[x.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[x.jsx(tE,{size:18})," "]}),x.jsx("button",{onClick:t,className:"hover:bg-white/20 p-1 rounded-full",children:x.jsx(vo,{size:18})})]}),x.jsx("div",{className:"p-6 overflow-y-auto",children:x.jsx("div",{className:"grid gap-6",children:Object.entries(Za).map(([i,a])=>x.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-100 hover:border-orange-200 transition-colors",children:[x.jsx("h4",{className:"font-bold text-orange-600 mb-2 text-lg",children:a.label}),x.jsx("p",{className:"text-stone-600 whitespace-pre-wrap text-sm leading-relaxed",children:a.desc})]},i))})})]})}):null,eN=({isOpen:s,onClose:t,onSubmit:i,isOptimizing:a})=>{const[l,c]=It.useState("");return s?x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[110] flex items-center justify-center p-4 animate-in fade-in duration-200",children:x.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md overflow-hidden shadow-2xl",children:[x.jsxs("div",{className:"bg-stone-900 p-4 text-white flex justify-between items-center",children:[x.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[x.jsx(fh,{size:18})," AI "]}),x.jsx("button",{onClick:t,className:"hover:bg-white/20 p-1 rounded-full",children:x.jsx(vo,{size:18})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-3",children:" Prompt"}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("textarea",{value:l,onChange:d=>c(d.target.value),placeholder:" Emoji...",className:"w-full h-32 p-3 bg-stone-50 border border-stone-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none resize-none text-stone-700",autoFocus:!0}),x.jsx("div",{className:"flex flex-wrap gap-2",children:["","","",""].map(d=>x.jsx("button",{onClick:()=>c(d),className:"text-xs bg-orange-50 text-orange-700 px-3 py-1 rounded-full border border-orange-100 hover:bg-orange-100",children:d},d))})]}),x.jsxs("button",{onClick:()=>i(l),disabled:a||!l.trim(),className:"mt-6 w-full bg-gradient-to-r from-orange-500 to-rose-500 text-white font-bold py-3 rounded-xl hover:shadow-lg hover:shadow-orange-500/30 transition-all disabled:opacity-70 flex justify-center items-center gap-2",children:[a?x.jsx(nE,{className:"animate-spin",size:20}):x.jsx(yp,{size:20,fill:"currentColor"})," ",a?"AI ...":""]})]})]})}):null},nN=({prompt:s,onClose:t,onOptimize:i})=>{const[a,l]=It.useState(!1);if(!s)return null;const c=()=>{rE(s.content,()=>{l(!0),setTimeout(()=>l(!1),2e3)})};return x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:x.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl h-[90vh] flex flex-col shadow-2xl overflow-hidden",children:[x.jsxs("div",{className:`p-4 text-white flex justify-between items-center shrink-0 ${Rv(s.model).includes("emerald")?"bg-emerald-900":"bg-stone-900"}`,children:[x.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[x.jsx("h3",{className:"font-bold text-lg truncate flex-1",children:s.title||"Prompt Detail"}),x.jsx("span",{className:`text-xs px-2 py-1 rounded font-mono hidden md:inline-block ${Rv(s.model)} bg-white/20 text-white`,children:s.model})]}),x.jsx("button",{onClick:t,className:"hover:bg-white/20 p-1 rounded-full",children:x.jsx(vo,{size:20})})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-stone-50",children:x.jsxs("div",{className:"bg-white border border-stone-200 rounded-xl p-6 shadow-sm",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[x.jsx("div",{className:"flex gap-2 flex-wrap",children:s.tags?.map((d,g)=>x.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded flex items-center gap-1 ${d.includes("Gen")?"bg-stone-800 text-white":"bg-stone-100 text-stone-600"}`,children:[g===0&&x.jsx(Gx,{size:10})," ",d]},g))}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>i(s),className:"flex items-center gap-2 text-sm font-bold text-orange-600 hover:text-white bg-orange-50 hover:bg-orange-500 border border-orange-200 hover:border-orange-500 px-3 py-1.5 rounded-lg transition-colors",children:[x.jsx(fh,{size:16})," AI "]}),x.jsxs("button",{onClick:c,className:"flex items-center gap-2 text-sm font-bold text-stone-600 hover:text-stone-900 bg-stone-100 hover:bg-stone-200 px-3 py-1.5 rounded-lg transition-colors",children:[a?x.jsx(Hl,{size:16,className:"text-green-600"}):x.jsx(ZT,{size:16})," ",a?"":""]})]})]}),x.jsx("pre",{className:"font-mono text-sm whitespace-pre-wrap text-stone-800 leading-relaxed p-4 bg-stone-50 rounded-lg border border-stone-100",children:s.content})]})})]})})},Iv=({isOpen:s,onClose:t,apiKey:i,setApiKey:a})=>s?x.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:x.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md overflow-hidden shadow-2xl",children:[x.jsxs("div",{className:"bg-stone-900 p-4 text-white flex justify-between items-center",children:[x.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[x.jsx(gp,{size:18})," "]}),x.jsx("button",{onClick:t,className:"hover:bg-white/20 p-1 rounded-full",children:x.jsx(vo,{size:18})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-2",children:"Gemini API Key"}),x.jsx("input",{type:"password",value:i,onChange:l=>a(l.target.value),placeholder:" API Key",className:"w-full px-4 py-3 bg-stone-50 border border-stone-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none"}),x.jsxs("div",{className:"mt-4 bg-orange-50 border border-orange-100 p-4 rounded-xl text-xs text-orange-800 flex items-start gap-2",children:[x.jsx(jx,{size:32,className:"shrink-0 text-orange-600"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-bold mb-1",children:"BYOK "}),x.jsxs("p",{children:["Key  ",x.jsx("strong",{children:"localStorage"})," Google"]})]})]}),x.jsx("button",{onClick:t,className:"mt-6 w-full bg-stone-800 text-white font-bold py-3 rounded-xl hover:bg-stone-900 transition-colors",children:""})]})]})}):null,iN=({config:s,value:t,onChange:i,error:a,customOptions:l,aiSuggestions:c,isImageMode:d,onShowFrameworkHelp:g})=>{const[_,y]=It.useState(!1),b=It.useMemo(()=>{const J=(c||[]).filter(ut=>typeof ut=="string"||typeof ut=="number");let tt=s.options||[];s.id==="model"&&d&&s.imageOptions&&(tt=s.imageOptions);const W=(l||[]).filter(ut=>typeof ut=="string"||typeof ut=="number");return Array.from(new Set([...J,...tt,...W]))},[s,l,c,d]),A=J=>{if(!t)i(J);else if(s.isMulti){const tt=s.id.includes("constraints")||s.id==="imageSubject"?", ":`
`;i(t+tt+J)}else i(J)},M=c&&c.length>0,F=s.id==="outputSyntax";return x.jsx("div",{id:`card-${s.id}`,className:`relative bg-white rounded-xl border transition-all duration-300 overflow-hidden group h-full flex flex-col ${a?"border-red-300 ring-4 ring-red-50":_?"border-orange-400 ring-4 ring-orange-50":"border-stone-200 shadow-sm hover:shadow-md"} ${F?"bg-gradient-to-br from-white to-stone-50 border-stone-300":""}`,children:x.jsxs("div",{className:"p-5 flex flex-col h-full",children:[x.jsx("div",{className:"flex justify-between items-start mb-3 relative",children:x.jsxs("label",{className:"flex items-center gap-3 text-stone-800 font-bold text-lg leading-tight w-full",children:[x.jsxs("span",{className:`text-xl w-10 h-10 rounded-xl flex items-center justify-center shrink-0 border relative ${F?"bg-stone-800 text-white border-stone-600":"bg-orange-100 text-orange-600 border-orange-200"}`,children:[s.icon,M&&x.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-rose-500 rounded-full border-2 border-white animate-pulse"})]}),x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[s.label,s.id==="framework"&&x.jsx("button",{onClick:J=>{J.preventDefault(),g()},className:"text-stone-400 hover:text-orange-500 hover:bg-orange-50 p-1 rounded-full transition-colors",children:x.jsx(lx,{size:16})})]}),x.jsx("p",{className:"text-xs text-stone-400 font-normal mt-0.5",children:s.desc})]})]})}),x.jsx("div",{className:"relative flex-1",children:x.jsx("textarea",{value:t,onChange:J=>i(J.target.value),onFocus:()=>y(!0),onBlur:()=>y(!1),placeholder:s.placeholder,className:`w-full h-full min-h-[80px] border rounded-lg p-3 text-stone-700 placeholder:text-stone-400 focus:outline-none transition-all resize-none text-base leading-relaxed ${F?"bg-white border-stone-300 focus:border-stone-500 font-mono text-sm":"bg-[#FAFAFA] border-stone-200 focus:bg-white focus:border-orange-300"}`})}),x.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:b.slice(0,6).map((J,tt)=>{const W=c?.includes(J);return x.jsxs("button",{onClick:()=>A(J),className:`text-xs font-medium px-3 py-1.5 rounded-lg border transition-all active:scale-95 text-left flex items-center gap-1 ${F?"bg-stone-100 text-stone-700 border-stone-300 hover:bg-stone-200":W?"bg-orange-50 text-orange-700 border-orange-200 hover:bg-orange-100 hover:border-orange-300":"bg-white text-stone-500 border-stone-200 hover:border-orange-300 hover:text-orange-600 hover:bg-orange-50"}`,children:[W&&x.jsx(fh,{size:10,className:"text-orange-500"})," ",s.isMulti?"+ ":"",J]},tt)})}),a&&x.jsxs("div",{className:"mt-3 p-3 bg-red-50 border border-red-100 rounded-lg text-red-600 text-sm flex items-start gap-2 animate-pulse",children:[x.jsx("div",{className:"mt-0.5",children:x.jsx(fh,{size:14})}),x.jsxs("div",{children:[x.jsx("span",{className:"font-bold",children:"AI "})," ",a]})]})]})})},sN=({prompt:s,onOptimize:t,onSave:i,onEdit:a,isImageMode:l})=>{const[c,d]=It.useState(!1),g=()=>{rE(s,()=>{d(!0),setTimeout(()=>d(!1),2e3)})};return x.jsxs("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-xl overflow-hidden animate-in fade-in slide-in-from-bottom-4 duration-500",children:[x.jsxs("div",{className:"bg-stone-900 text-white p-4 flex justify-between items-center flex-wrap gap-2",children:[x.jsxs("h3",{className:"font-bold flex items-center gap-2 text-lg",children:[x.jsx(Hl,{className:"text-green-400"})," Prompt  ",x.jsx("span",{className:"text-xs bg-stone-700 px-2 py-0.5 rounded text-stone-300 font-mono ml-2",children:l?"IMAGE GEN":"TEXT GEN"})]}),x.jsxs("button",{onClick:a,className:"text-stone-300 hover:text-white px-3 py-1 text-sm rounded-md hover:bg-white/10 transition-colors flex items-center gap-1",children:[x.jsx(iE,{size:14})," "]})]}),x.jsxs("div",{className:"p-4 md:p-6",children:[x.jsxs("div",{className:"relative group",children:[x.jsx("pre",{className:"w-full h-[60vh] md:h-[500px] p-4 bg-[#FAFAFA] rounded-xl border border-stone-200 text-stone-800 font-mono text-sm whitespace-pre-wrap overflow-y-auto shadow-inner",children:s}),x.jsx("button",{onClick:g,className:"absolute top-4 right-4 bg-white shadow-md border border-stone-200 p-2 rounded-lg hover:bg-stone-50 text-stone-600 transition-all active:scale-95",children:c?x.jsx(Hl,{size:18,className:"text-green-600"}):x.jsx(ZT,{size:18})})]}),x.jsxs("div",{className:"mt-6 flex flex-col md:flex-row gap-4",children:[x.jsxs("button",{onClick:i,className:"flex-1 bg-stone-800 text-white font-bold py-3.5 px-6 rounded-xl hover:bg-stone-900 transition-all flex justify-center items-center gap-2 shadow-lg shadow-stone-200",children:[x.jsx(kx,{size:20})," "]}),x.jsxs("button",{onClick:t,className:"flex-1 bg-gradient-to-r from-orange-500 to-rose-500 text-white font-bold py-3.5 px-6 rounded-xl shadow-lg shadow-orange-500/20 hover:shadow-orange-500/40 hover:-translate-y-0.5 transition-all flex justify-center items-center gap-2",children:[x.jsx(yp,{size:20,fill:"currentColor"})," AI "]})]})]})]})};function rN(){const[s,t]=It.useState(null),[i,a]=It.useState("generator"),[l,c]=It.useState({}),[d,g]=It.useState({}),[_,y]=It.useState(""),[b,A]=It.useState({}),[M,F]=It.useState([]),[J,tt]=It.useState(!1),[W,ut]=It.useState("input"),[Et,pt]=It.useState(!1),[vt,Xt]=It.useState(""),[Nt,I]=It.useState(""),[S,C]=It.useState(null),[V,N]=It.useState(null),[U,w]=It.useState({}),[re,me]=It.useState(!1),[H,nt]=It.useState("text"),[ft,Vt]=It.useState(!1),[Gt,D]=It.useState(!1),[Y,it]=It.useState(null),[st,yt]=It.useState([]),[bt,Dt]=It.useState(null),[pe,ie]=It.useState("generator");It.useEffect(()=>{try{const ht=localStorage.getItem("prompt_history");ht&&A(JSON.parse(ht))}catch{localStorage.removeItem("prompt_history")}const Q=localStorage.getItem("gemini_api_key");return Q&&Xt(Q),kc?((async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await y2(kc,__initial_auth_token):await f2(kc))(),T2(kc,t)):void 0},[]),It.useEffect(()=>{vt&&localStorage.setItem("gemini_api_key",vt)},[vt]),It.useEffect(()=>{if(!s||!Fr)return;const Q=GI(yv(Fr,"artifacts",Uc,"users",s.uid,"prompts"),FI("createdAt","desc"));return $I(Q,at=>{F(at.docs.map(ht=>({id:ht.id,...ht.data()})))})},[s]);const si=It.useMemo(()=>{const Q=new Set;return["Text Gen","Image Gen","",""].forEach(at=>Q.add(at)),M.forEach(at=>at.tags?.forEach(ht=>{typeof ht=="string"&&ht!=="Prompt"&&Q.add(ht)})),Array.from(Q)},[M]),ds=Q=>{yt(at=>at.includes(Q)?at.filter(ht=>ht!==Q):[...at,Q])},Ui=It.useCallback(async Q=>{if(!vt||!Q)return;me(!0);let at;H==="image"?at=`Subject: ${Q}. Generate 4 concise options in Traditional Chinese for: artStyle, lighting, constraints. Return JSON: {"artStyle": [], "lighting": [], "constraints": []}. Do not use Markdown code blocks.`:at=`Role/Topic: ${Q}. Generate 4 concise options in Traditional Chinese for: scenario, goal, details, constraints. Return JSON: {"scenario": [], "goal": [], "details": [], "constraints": []}. Do not use Markdown code blocks.`;try{const ht=await Yd(vt,at),ce=$x(ht);if(ce){const tn={};Object.keys(ce).forEach(Te=>{Array.isArray(ce[Te])&&(tn[Te]=ce[Te].filter(ps=>typeof ps=="string"||typeof ps=="number"))}),w(Te=>({...Te,...tn}))}}catch(ht){console.error("AI Suggestions Failed:",ht)}finally{me(!1)}},[vt,H]);It.useEffect(()=>{const Q=H==="image"?l.imageSubject:l.role;if(!Q||Q.length<2)return;const at=setTimeout(()=>{vt&&Ui(Q)},1500);return()=>clearTimeout(at)},[l.role,l.imageSubject,vt,Ui,H]);const ms=(Q,at)=>{const ht=Cv.find(tn=>tn.id===Q);if(!ht||!at)return;at.split(/[,\n]/).forEach(tn=>{const Te=tn.trim(),ps=ht.options||[];Te&&!ps.includes(Te)&&A(gs=>{const gr=gs[Q]||[];return gr.includes(Te)?gs:{...gs,[Q]:[Te,...gr].slice(0,5)}})}),localStorage.setItem("prompt_history",JSON.stringify(b))},In=Q=>{if(H==="image"){const ht=[];Q.imageSubject&&ht.push(Q.imageSubject),Q.artStyle&&ht.push(`Style: ${Q.artStyle}`),Q.lighting&&ht.push(`Lighting/Camera: ${Q.lighting}`);let ce=ht.join(", ");return Q.aspectRatio&&(ce+=` ${Q.aspectRatio}`),Q.constraints&&(ce+=` --no ${Q.constraints}`),Q.model?.includes("Midjourney")?`/imagine prompt: ${ce}`:ce}const at=Q.framework||"general";return at.includes("CO-STAR")?`# CO-STAR Prompt
**C (Context):** ${Q.scenario||"N/A"}
**O (Objective):** ${Q.goal||"N/A"}
**S (Style):** ${Q.tone||"Professional"}
**T (Tone):** ${Q.tone||"Professional"}
**A (Audience):** ${Q.details||"General Audience"}
**R (Response):** ${Q.outputSyntax||"Markdown"}`.trim():at.includes("RTF")?`# RTF Prompt
**R (Role):** ${Q.role||"Assistant"}
**T (Task):** ${Q.goal||"Task"}
**F (Format):** ${Q.outputSyntax||"Markdown"}`.trim():at.includes("TAG")?`# TAG Prompt
**T (Task):** ${Q.goal||"Task"}
**A (Action):** ${Q.scenario||"Action"}
**G (Goal):** ${Q.details||"Goal"}`.trim():`# Role
${Q.role||"General Assistant"}

# Context
${Q.scenario||"N/A"}

# Task
${Q.goal||"N/A"}

# Details
${Q.details||"N/A"}

# Constraints
${Q.constraints||"N/A"}

# Output
${Q.outputSyntax||"Markdown"}`.trim()},dr=(Q,at)=>{if(c(ht=>({...ht,[Q]:at})),d[Q]){const ht={...d};delete ht[Q],g(ht)}if(Q==="framework"){const ht=Object.keys(Za).find(ce=>Za[ce].label===at);ht&&Za[ht].toast&&it(Za[ht].toast)}},Li=async()=>{tt(!0),g({}),Object.keys(l).forEach(at=>ms(at,l[at]));const Q=In(l);if(vt)try{const at=`Act as an expert Prompt Engineer. REWRITE and OPTIMIZE draft into a high-quality professional prompt. Framework: ${l.framework||"General"}. Model: ${l.model}. Raw Input: ${Q}. Maintain constraints. Enrich details. OUTPUT MUST BE IN TRADITIONAL CHINESE. Output ONLY final prompt.`,ht=await Yd(vt,at);y(ht),ut("result")}catch(at){console.error("Smart Generation Failed",at),y(Q),ut("result")}else y(Q),ut("result");tt(!1),window.scrollTo({top:0,behavior:"smooth"})},mr=async Q=>{N(!0);const at=pe!=="generator",ht=at?bt?.content:_;if(vt&&ht)try{const ce=`You are an expert Prompt Engineer. OPTIMIZE following prompt based on request: "${Q}". Original: ${ht}. Keep core logic. OUTPUT MUST BE IN TRADITIONAL CHINESE. Output ONLY optimized prompt.`,tn=await Yd(vt,ce);at?(await Sv(Tm(Fr,"artifacts",Uc,"users",s.uid,"prompts",pe),{content:tn}),Dt(Te=>({...Te,content:tn}))):y(tn),D(!1)}catch(ce){alert("API Error: "+ce.message)}N(!1)},pr=async()=>{if(!s){alert(" Firebase API Key  Anonymous Auth");return}if(!Fr){alert(" .env ");return}try{const Q=["Prompt"];H==="image"?Q.push("Image Gen"):Q.push("Text Gen"),l.model&&Q.push(l.model.split(" ")[0]),l.usageType&&Q.push(l.usageType.includes("")?"":""),await XI(yv(Fr,"artifacts",Uc,"users",s.uid,"prompts"),{content:_,title:H==="image"?`${l.imageSubject||"Image"}`:`${l.role||"Assistant"} - ${l.goal||"Task"}`,tags:Q,model:l.model||"",isPinned:!1,createdAt:JI()}),alert(""),a("library")}catch(Q){console.error(Q)}},ge=async(Q,at,ht)=>{if(Q.stopPropagation(),!(!s||!Fr))try{await Sv(Tm(Fr,"artifacts",Uc,"users",s.uid,"prompts",at),{isPinned:!ht})}catch(ce){console.error(ce)}},ve=It.useMemo(()=>{let Q=[...M];return Nt&&(Q=Q.filter(at=>at.title?.toLowerCase().includes(Nt.toLowerCase())||at.tags?.some(ht=>ht.toLowerCase().includes(Nt.toLowerCase())))),st.length>0&&(Q=Q.filter(at=>st.every(ht=>at.tags?.includes(ht)))),Q.sort((at,ht)=>at.isPinned===ht.isPinned?(ht.createdAt?.seconds||0)-(at.createdAt?.seconds||0):at.isPinned?-1:1)},[M,Nt,st]),ri=Q=>{ie(Q.id),Dt(Q),D(!0)},To=()=>{ie("generator"),D(!0)};return x.jsxs("div",{className:"min-h-screen bg-[#FDFBF7] text-stone-800 font-sans pb-20 md:pb-0",children:[Y&&x.jsx(Wx,{message:Y,onClose:()=>it(null)}),x.jsx(tN,{isOpen:ft,onClose:()=>Vt(!1)}),x.jsx(eN,{isOpen:Gt,onClose:()=>D(!1),onSubmit:mr,isOptimizing:V}),x.jsx(Iv,{isOpen:Et,onClose:()=>pt(!1),apiKey:vt,setApiKey:Xt}),x.jsx(nN,{prompt:bt,onClose:()=>Dt(null),onOptimize:()=>ri(bt)}),x.jsx("header",{className:"bg-white/90 backdrop-blur border-b border-stone-200 sticky top-0 z-50",children:x.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex justify-between items-center",children:[x.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>a("generator"),children:[x.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-orange-500 to-rose-500 rounded-lg flex items-center justify-center text-white shadow-lg group-hover:rotate-12 transition-transform",children:x.jsx(Kc,{size:20})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-lg font-bold text-stone-800 tracking-tight leading-tight",children:""}),x.jsx("p",{className:"text-[10px] text-stone-500",children:"Prompt Master 2026"})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("a",{href:"https://prompts.chat",target:"_blank",rel:"noopener noreferrer",className:"hidden md:flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-bold bg-stone-100 text-stone-600 hover:bg-stone-200 hover:text-stone-800 transition-all border border-stone-200 mr-1",children:[x.jsx(dx,{size:14})," "]}),x.jsxs("nav",{className:"hidden md:flex bg-stone-100 p-1 rounded-lg",children:[x.jsx("button",{onClick:()=>a("generator"),className:`px-4 py-1.5 rounded-md text-sm font-bold transition-all ${i==="generator"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:""}),x.jsx("button",{onClick:()=>a("library"),className:`px-4 py-1.5 rounded-md text-sm font-bold transition-all ${i==="library"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:""})]}),x.jsxs("button",{onClick:()=>pt(!0),className:`flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-bold border transition-colors ${vt?"border-green-200 bg-green-50 text-green-700":"border-stone-200 text-stone-500 hover:bg-stone-50"}`,children:[x.jsx(gp,{size:14})," ",vt?"API ":" Key"]})]})]})}),x.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 w-full bg-white border-t border-stone-200 z-50 flex justify-around py-3 pb-safe",children:[x.jsxs("button",{onClick:()=>a("generator"),className:`flex flex-col items-center text-xs ${i==="generator"?"text-orange-600 font-bold":"text-stone-400"}`,children:[x.jsx(Kc,{size:20,className:"mb-1"})," "]}),x.jsxs("button",{onClick:()=>a("library"),className:`flex flex-col items-center text-xs ${i==="library"?"text-orange-600 font-bold":"text-stone-400"}`,children:[x.jsx(JT,{size:20,className:"mb-1"})," "]})]}),x.jsx("main",{className:"pt-6 px-4",children:i==="generator"?x.jsxs("div",{className:"max-w-5xl mx-auto pb-24",children:[W==="input"&&x.jsxs("div",{className:"mb-8 flex flex-col md:flex-row gap-4 items-center justify-between",children:[x.jsxs("div",{className:"bg-stone-100 p-1 rounded-xl flex shadow-inner",children:[x.jsxs("button",{onClick:()=>nt("text"),className:`px-6 py-2.5 rounded-lg text-sm font-bold flex items-center gap-2 transition-all ${H==="text"?"bg-white text-orange-600 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[x.jsx(px,{size:16}),"  Prompt"]}),x.jsxs("button",{onClick:()=>nt("image"),className:`px-6 py-2.5 rounded-lg text-sm font-bold flex items-center gap-2 transition-all ${H==="image"?"bg-white text-purple-600 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[x.jsx(WT,{size:16}),"  Prompt"]})]}),x.jsxs("div",{className:"inline-flex bg-white/90 border border-stone-200 shadow-sm p-1 rounded-full",children:[x.jsx("button",{onClick:()=>ut("input"),className:`px-4 py-1.5 rounded-full text-xs font-bold transition-all ${W==="input"?"bg-stone-800 text-white":"text-stone-400"}`,children:""}),x.jsx("button",{disabled:W==="input",className:`px-4 py-1.5 rounded-full text-xs font-bold transition-all ${W==="result"?"bg-orange-500 text-white":"text-stone-300"}`,children:""})]})]}),W==="input"&&x.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[!vt&&x.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-100 rounded-xl flex gap-3 text-emerald-800 text-sm items-start cursor-pointer hover:shadow-md transition-all",onClick:()=>pt(!0),children:[x.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm text-emerald-500 shrink-0",children:x.jsx(eE,{size:18})}),x.jsxs("div",{className:"flex-1 mt-1",children:[x.jsx("p",{className:"font-bold text-base mb-1",children:" AI 2.5 "}),x.jsx("p",{className:"opacity-80",children:" Gemini 2.5 Flash  Prompt API Key"})]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:Cv.filter(Q=>Q.mode==="all"||Q.mode===H).map(Q=>x.jsx("div",{className:Q.colSpan===2?"md:col-span-2":"",children:x.jsx(iN,{config:Q,value:l[Q.id]||"",onChange:at=>dr(Q.id,at),error:d[Q.id],customOptions:b[Q.id],aiSuggestions:U[Q.id],isImageMode:H==="image",onShowFrameworkHelp:()=>Vt(!0)})},Q.id))}),re&&x.jsxs("div",{className:"fixed bottom-24 right-4 md:bottom-8 md:right-8 bg-white border border-orange-200 shadow-xl rounded-full px-4 py-2 flex items-center gap-2 text-orange-600 text-sm font-bold animate-in fade-in slide-in-from-bottom-4 z-50",children:[x.jsx(nE,{size:16,className:"animate-spin"})," AI ",H==="image"?"":"","..."]}),x.jsx("div",{className:"flex justify-center pt-10 pb-10",children:x.jsx("button",{onClick:Li,disabled:J,className:"w-full md:w-auto min-w-[200px] group relative inline-flex items-center justify-center px-8 py-4 font-bold text-white text-lg transition-all duration-200 bg-gradient-to-r from-stone-800 to-stone-700 rounded-2xl hover:shadow-xl hover:shadow-stone-500/20 hover:-translate-y-1 focus:outline-none disabled:opacity-70 disabled:cursor-not-allowed",children:J?x.jsxs(x.Fragment,{children:[x.jsx(Mx,{className:"animate-spin mr-2",size:20})," ",vt?"AI  Prompt...":" Prompt..."]}):x.jsxs(x.Fragment,{children:[x.jsx(Kc,{className:"mr-2 group-hover:rotate-12 transition-transform text-orange-400",size:24}),"  Prompt"]})})})]}),W==="result"&&x.jsx(sN,{prompt:_,onEdit:()=>ut("input"),onSave:pr,onOptimize:To,isImageMode:H==="image"})]}):x.jsxs("div",{className:"max-w-6xl mx-auto pb-24",children:[x.jsxs("div",{className:"mb-8 sticky top-[70px] z-30 md:static space-y-4",children:[x.jsxs("div",{className:"relative shadow-sm rounded-xl",children:[x.jsx(Lx,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-stone-400",size:20}),x.jsx("input",{type:"text",placeholder:" Prompt ...",value:Nt,onChange:Q=>I(Q.target.value),className:"w-full pl-12 pr-4 py-4 bg-white border border-stone-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-200 text-stone-700 text-lg"})]}),x.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[si.length===0?x.jsx("div",{className:"text-xs text-stone-400 italic px-2",children:"..."}):si.map(Q=>x.jsxs("button",{onClick:()=>ds(Q),className:`px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all border flex items-center gap-1 ${st.includes(Q)?"bg-stone-800 text-white border-stone-800 shadow-md transform scale-105":"bg-white text-stone-500 border-stone-200 hover:bg-stone-50 hover:border-stone-300"}`,children:[st.includes(Q)&&x.jsx(Hl,{size:12}),Q]},Q)),st.length>0&&x.jsxs("button",{onClick:()=>yt([]),className:"px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all border border-red-100 bg-red-50 text-red-600 hover:bg-red-100 flex items-center gap-1",children:[x.jsx(cx,{size:14})," "]})]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ve.filter(Q=>Q.title?.toLowerCase().includes(Nt.toLowerCase())).map(Q=>x.jsxs("div",{onClick:()=>Dt(Q),className:`bg-white rounded-2xl border shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 flex flex-col group overflow-hidden cursor-pointer ${Zx(Q.model)}`,children:[x.jsxs("div",{className:"p-5 flex-1 relative",children:[x.jsx("button",{onClick:at=>ge(at,Q.id,Q.isPinned),className:`absolute top-4 right-4 p-1.5 rounded-full transition-all ${Q.isPinned?"text-orange-500 bg-orange-50 hover:bg-orange-100":"text-stone-300 hover:text-stone-500 hover:bg-stone-100"}`,children:Q.isPinned?x.jsx(Dx,{size:18,fill:"currentColor"}):x.jsx(xx,{size:18})}),x.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3 pr-8",children:Q.tags?.map((at,ht)=>x.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider bg-white/70 text-stone-600 px-2 py-1 rounded-md border border-stone-100",children:at},ht))}),x.jsx("h3",{className:"font-bold text-lg text-stone-800 mb-2 line-clamp-1 group-hover:text-orange-600 transition-colors pr-8",children:Q.title}),x.jsx("div",{className:"text-stone-500 text-sm line-clamp-4 mb-4 bg-white/50 p-3 rounded-lg border border-stone-100 font-mono",children:Q.content})]}),x.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white/50 flex justify-between items-center text-stone-400 text-sm",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(sE,{size:14})," Mobile Ready"]}),x.jsxs("div",{className:"flex gap-1 text-orange-500 opacity-0 group-hover:opacity-100 transition-opacity font-bold text-xs items-center",children:[" ",x.jsx(bx,{size:12,className:"ml-1"})]})]})]},Q.id))})]})}),x.jsx(Iv,{isOpen:Et,onClose:()=>pt(!1),apiKey:vt,setApiKey:Xt})]})}Fb.createRoot(document.getElementById("root")).render(x.jsx(It.StrictMode,{children:x.jsx(rN,{})}));
